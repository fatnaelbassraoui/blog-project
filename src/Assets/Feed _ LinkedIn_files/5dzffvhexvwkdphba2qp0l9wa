/*! For license information please see chunk.320.2895b48e5de4d6420941.js.LICENSE.txt */
(globalThis.webpackChunk_ember_auto_import_=globalThis.webpackChunk_ember_auto_import_||[]).push([[320],{51495:(e,t,n)=>{"use strict"
n.r(t),n.d(t,{CI:()=>i,DEBUG:()=>r})
const r=!1,i=!1},99186:(e,t,n)=>{"use strict"
n.r(t),n.d(t,{Abi:()=>ie,AbiV2:()=>ae})
var r={}
function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function a(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}n.r(r),n.d(r,{ABI_FUNNEL_TRACKING_EVENTS:()=>T,EMAIL_DOMAIN_RESOLVE:()=>h,EMAIL_VALIDATION_ERRORS:()=>v,EVENT_NAME:()=>u,IMPORT_CONTACTS:()=>m,IMPORT_ERRORS:()=>b,INPUT_EMAIL:()=>f,NETWORK_ERROR:()=>c,OAUTH:()=>y,POLL_IMPORT_STATUS:()=>g,STATES:()=>p,STATE_MACHINE_ERRORS:()=>_,STATE_TRANSITION_EVENT_NAME:()=>l,TOO_MANY_REQUESTS:()=>d}),i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number")
return this._maxListeners=e,this},i.prototype.emit=function(e){let t,n,r,i,c,d
if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t
throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],s(n))return!1
if(a(n))switch(arguments.length){case 1:n.call(this)
break
case 2:n.call(this,arguments[1])
break
case 3:n.call(this,arguments[1],arguments[2])
break
default:for(r=arguments.length,i=new Array(r-1),c=1;c<r;c++)i[c-1]=arguments[c]
n.apply(this,i)}else if(o(n)){for(r=arguments.length,i=new Array(r-1),c=1;c<r;c++)i[c-1]=arguments[c]
for(d=n.slice(),r=d.length,c=0;c<r;c++)d[c].apply(this,i)}return!0},i.prototype.addListener=function(e,t){var n
if(!a(t))throw TypeError("listener must be a function")
return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,a(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(n=s(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){if(!a(t))throw TypeError("listener must be a function")
let n=!1
function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},i.prototype.removeListener=function(e,t){let n,r,i,s
if(!a(t))throw TypeError("listener must be a function")
if(!this._events||!this._events[e])return this
if(n=this._events[e],i=n.length,r=-1,n===t||a(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t)
else if(o(n)){for(s=i;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s
break}if(r<0)return this
1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){let t,n
if(!this._events)return this
if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this
if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t)
return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],a(n))this.removeListener(e,n)
else for(;n.length;)this.removeListener(e,n[n.length-1])
return delete this._events[e],this},i.prototype.listeners=function(e){let t
return t=this._events&&this._events[e]?a(this._events[e])?[this._events[e]]:this._events[e].slice():[],t},i.listenerCount=function(e,t){let n
return n=e._events&&e._events[t]?a(e._events[t])?1:e._events[t].length:0,n}
const c="network-error",d="Too Many Requests",u="custom-state-event",l="state-transition-event",p={INPUT_EMAIL:"input-email",EMAIL_DOMAIN_RESOLVE:"email-domain-resolve",IMPORT_CONTACTS:"import-contacts",POLL_IMPORT_STATUS:"poll-import-status",OAUTH:"oauth"},f={EVENTS:{EMAIL_INPUT_CHANGE:"emailInputChange",FETCH_FORM_SUBMIT:"fetchFormSubmit"},EVENT_TYPE:{INVALID_EMAIL:"invalid-email"}},h={EVENTS:{EMAIL_INPUT_CHANGE:"emailInputChange"},EVENT_TYPE:{PROVIDER_CHANGED:"provider-changed",RESOLUTION_BEGUN:"resolution-begun",RESOLUTION_COMPLETE:"resolution-complete",PASSWORD_REQUIRED:"password-required",UNSUPPORTED_DOMAIN:"unsupported-domain",NETWORK_ERROR:"network-error"}},m={EVENTS:{STATE_RESET:"stateReset"},EVENT_TYPE:{OPEN_POPUP:"open-popup"}},g={EVENTS:{GET_IMPORT_STATUS:"getImportStatus",STATE_RESET:"stateReset"},EVENT_TYPE:{IMPORT_STARTED:"import-started",IMPORT_SUCCESS:"import-success",IMPORT_IN_PROGRESS:"import-in-progress",IMPORT_ERROR_OTHER:"import-error-other",IMPORT_ERROR_BAD_LOGIN:"import-error-bad-login",ZERO_CONTACTS_TO_IMPORT:"zero-contacts-to-import",INVALID_CREDENTIALS:"invalid-credentials",EXCEEDED_MAX_RETRIES:"exceeded-max-retries"}},y={EVENTS:{STATE_RESET:"stateReset"},EVENT_TYPE:{CALLBACK:"oauth-callback",OAUTH_SUCCESS:"oauth-success",UPDATE_POPUP:"update-popup",LOGIN_LIMIT_EXCEEDED:"login-limit-exceeded"}},v={INVALID_EMAIL:"invalid-email",UNSUPPORTED_DOMAIN:"unsupported-domain",OAUTH_WITHOUT_PROVIDER:"oauth-without-provider",INVALID_DOMAIN_RESOLUTION_CALLBACK:"invalid-domain-resolution-callback",NETWORK:"network",OTHER:"other"},b={EMPTY_CONFIG:"empty-config",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"invalid-password",INVALID_ABOOK_TRANSACTION_ID:"invalid-abook-transaction-id",INVALID_TICKET_ID_CALLBACK:"invalid-ticket-id-callback",INVALID_POLL_STATUS_CALLBACK:"invalid-poll-status-callback",INVALID_TRACKING_CALLBACK:"invalid-tracking-callback",INVALID_CREDENTIALS:"invalid-credentials",INVALID_JSECURE:"invalid-jsecure",ZERO_CONTACTS_TO_IMPORT:"zero-contacts-to-import",EXCEEDED_MAX_REQUEST_RETRIES:"exceeded-max-request-retries",EXCEEDED_MAX_STATUS_CHECK_RETRIES:"exceeded-max-status-check-retries",IMPORT_ERROR_OTHER:"import-error-other",NETWORK:"network",OTHER:"other",INVALID_IMPORT_TICKET_ID:"invalid-import-ticket-id",OAUTH_VALIDATION_TIMED_OUT:"oauth-validation-timed-out",OAUTH_POPUP_NOT_OPEN:"oauth-popup-not-open"},T={SUBMIT:"AbookImportSubmitEvent",TASK_STATUS:"AbookImportTaskStatusEvent",OAUTH_REDIRECT:"AbookImportOAuthRedirectEvent",OAUTH_CALLBACK:"AbookImportOAuthCallbackEvent"},_={ALREADY_STARTED:"State machine has already begun"}
class E extends i{constructor(e,t,n){if(super(),this.promise=n||Promise,!Array.isArray(e))throw new Error("The state machine constructor only accepts an array of states as the first argument")
if(!t)throw new Error("Define a start state for the state machine")
if(this.states={},e.forEach((e=>{this.addState(e)})),this.startState=this.states[t],!this.startState)throw new Error("Start state is not defined")
this.currentState=this.startState}start(){if(this.currentState.getName()!==this.startState.getName())throw new Error(_.ALREADY_STARTED)
this.step()}addState(e){this.states[e.getName()]=e,e.on(u,(t=>{const n=t.type||u
this.emit(n,{currentState:e.getName(),eventData:t})})),e.on(l,(e=>{this._transitionTo(e)}))}_transitionTo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
if(!(e.state in this.states))throw new Error(`Cannot transition from ${this.currentState} to ${e.state}`)
this.currentState=this.states[e.state],delete e.state,this.step(e.eventName,e)}step(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"entry",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
const n=this.currentState.go(e,t.data)
if(n){if("function"==typeof n.then)return new this.promise((e=>{e(n)})).then((e=>this._transitionTo(e)))
this._transitionTo(n)}}getCurrentState(){return this.currentState.getName()}}class x extends i{constructor(e,t){super(),this.name=e,this.validNextStates=t,this.defaultStateEvents=["entry"],this.events=[]}onEntry(){}getName(){return this.name}getNextStates(){return this.validNextStates}getEvents(){return this.defaultStateEvents+this.events}go(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"entry",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
if(this.getEvents().indexOf(e)>-1)return this[`on${e.charAt(0).toUpperCase()}${e.slice(1)}`](t)
throw new Error(`I can not serve that event. Expecting [${this.getEvents()}]\n                but got ${e} from ${this.name}`)}}class S extends x{constructor(){super(p.INPUT_EMAIL,[p.EMAIL_DOMAIN_RESOLVE,p.IMPORT_CONTACTS]),this.events=[f.EVENTS.EMAIL_INPUT_CHANGE,f.EVENTS.FETCH_FORM_SUBMIT],this.resolvedEmail=null,this.isNonOAuth=!1,this.provider=null}onEntry(e){Object.prototype.hasOwnProperty.call(e,"emailAddress")&&(this.resolvedEmail=e.emailAddress),Object.prototype.hasOwnProperty.call(e,"isNonOAuth")&&(this.isNonOAuth=e.isNonOAuth),Object.prototype.hasOwnProperty.call(e,"provider")&&(this.provider=e.provider)}onEmailInputChange(e){let t="object"==typeof e?e.emailAddress:e
if("object"==typeof e&&!e.isEmailDomainResolve)return this.emit(u,{type:h.EVENT_TYPE.RESOLUTION_COMPLETE}),this.isNonOAuth=Object.prototype.hasOwnProperty.call(e,"isNonOauth")?e.isNonOAuth:this.isNonOAuth,{state:p.INPUT_EMAIL,data:{emailAddress:t,isEmailDomainResolve:e.isEmailDomainResolve,provider:e.provider,isNonOAuth:e.isNonOAuth}}
const n=/^([a-zA-Z0-9_\-=.'+]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9-]+\.)+))([a-zA-Z]{2,10}|[0-9]{1,3})(\]?)$/
if(t.length){if(t=t.trim(),n.test(t))return{state:p.EMAIL_DOMAIN_RESOLVE,data:{emailAddress:t,isEmailDomainResolve:e.isEmailDomainResolve,provider:e.provider,isNonOAuth:e.isNonOAuth}}
this.emit(u,{type:f.EVENT_TYPE.INVALID_EMAIL})}}onFetchFormSubmit(e){const t={},{abookImportTransactionId:n,password:r}=e
if(this.isNonOAuth&&r.length>0?t.password=r:this.isNonOAuth&&this.emit(u,{type:h.EVENT_TYPE.PASSWORD_REQUIRED}),n&&(t.abookImportTransactionId=n),this.resolvedEmail)return t.emailAddress=this.resolvedEmail,t.isNonOAuth=this.isNonOAuth,t.provider=this.provider,{state:p.IMPORT_CONTACTS,data:t}
this.emit(u,{type:f.EVENT_TYPE.INVALID_EMAIL})}}const C=Object.freeze({"com.linkedin.voyager.dash.deco.contacts.EmailProvider":"com.linkedin.voyager.dash.deco.contacts.EmailProvider-1","com.linkedin.voyager.dash.deco.contacts.EmailImportTaskStatus":"com.linkedin.voyager.dash.deco.contacts.EmailImportTaskStatus-1"}),A="X-RestLi-Method",k="X-RestLi-Protocol-Version",I="Csrf-Token",R="Content-Type",w="x-restli-id",M="application/json",O="2.0.0",N={GET:"GET",CREATE:"POST",ACTION:"POST"}
function P(){return"undefined"!=typeof window&&window&&"node"!==window.appEnvironment}function U(){const e=P()&&document.cookie.match(/JSESSIONID=?"?([^";]+)?"?/)
return e&&e[1]||""}function D(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}
const a=N[t],o=JSON.stringify(n)||""
return new r(((n,r)=>{const s=new XMLHttpRequest
s.open(a,e),s.setRequestHeader(R,M),s.setRequestHeader(I,U()),s.setRequestHeader(k,O),t&&a!==t&&s.setRequestHeader(A,t),Object.keys(i).forEach((e=>{s.setRequestHeader(e,i[e])})),s.onload=function(){let e=this
if(!e){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a]
e=i[0].target}4===e.readyState&&(200===e.status?n(JSON.parse(e.response||e.responseText)):201===e.status?n(e.getResponseHeader(w)):r(new Error(e.statusText)))},s.onerror=function(e){r(new Error(e))},s.send(o)}))}function L(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0
const r=C[n]
if(!e)throw new Error("uri must be passed.")
if(!r)throw new Error("Invalid recipeId! Recipe not defined in dash-recipes.")
const i=Object.keys(t).map((e=>`${e}=${t[e]}`)).join("&")
return`${e}?decorationId=${r}&${i}`}class F extends x{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
super(p.EMAIL_DOMAIN_RESOLVE,[p.INPUT_EMAIL]),this.promise=e||Promise,this.events=[h.EVENTS.EMAIL_INPUT_CHANGE]
const{dashEnabled:n,pageKey:r}=t
if(n&&!r)throw new Error("PageKey is required for dash email domain resolver")
this.dashEnabled=n,this.pageKey=r}_buildDomainUrl(e){return this.dashEnabled?L("/voyager/api/voyagerContactsDashEmailProvider",{q:"findEmailProviders",emailAddress:e},"com.linkedin.voyager.dash.deco.contacts.EmailProvider"):`/voyager/api/voyagerGrowthEmailDomainResolutions/${e}`}onEntry(e){const t=this._buildDomainUrl(e.emailAddress)
this.emit(u,{type:h.EVENT_TYPE.RESOLUTION_BEGUN})
const n={}
return this.dashEnabled&&(n["X-Li-Page-Instance"]=this.pageKey),D(t,"GET",{},this.promise,n).then((t=>{let n=t
return this.dashEnabled&&(n=t&&t.elements?t.elements[0]:{}),this._handleResponse(e,n)})).catch((()=>{this.emit(u,{type:c})}))}_handleResponse(e,t){return this.emit(u,{type:h.EVENT_TYPE.RESOLUTION_COMPLETE}),"UNSUPPORTED"===t.emailProviderType?(this.emit(u,{type:h.EVENT_TYPE.UNSUPPORTED_DOMAIN}),{state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress,provider:t.emailProviderType,isNonOAuth:t.passwordInputRequired}}):t.passwordInputRequired?(this.emit(u,{type:h.EVENT_TYPE.PASSWORD_REQUIRED}),{state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress,provider:t.emailProviderType,isNonOAuth:t.passwordInputRequired}}):{state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress,provider:t.emailProviderType,isNonOAuth:t.passwordInputRequired}}}onEmailInputChange(e){const t=f.EVENTS.EMAIL_INPUT_CHANGE
return this.emit(u,{type:h.EVENT_TYPE.PROVIDER_CHANGED}),{state:p.INPUT_EMAIL,eventName:t,data:{emailAddress:e}}}}class B extends x{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
super(p.IMPORT_CONTACTS,[p.POLL_IMPORT_STATUS]),this.promise=e||Promise,this.events=[y.EVENTS.STATE_RESET]
const{dashEnabled:n,pageKey:r}=t
if(n&&!r)throw new Error("PageKey is required for import contacts")
this.dashEnabled=n,this.pageKey=r,this.importUrl=this.dashEnabled?"/voyager/api/voyagerContactsDashEmailImportTask":"/voyager/api/voyagerGrowthEmailImportTask"}get customHeaders(){return this.dashEnabled?{"X-Li-Page-Instance":this.pageKey}:{}}onStateReset(e){return this.importUrl=this.importUrl,{state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress}}}onEntry(e){e.isNonOAuth||this.emit(u,{type:m.EVENT_TYPE.OPEN_POPUP})
const t=this.dashEnabled?{email:e.emailAddress,password:e.password,transactionId:e.abookImportTransactionId}:{emailAddress:e.emailAddress,password:e.password,abookImportTransactionId:e.abookImportTransactionId}
return D(this.importUrl,"CREATE",t,this.promise,this.customHeaders).then((t=>({state:p.POLL_IMPORT_STATUS,data:{ticketId:t,emailAddress:e.emailAddress,provider:e.provider,isNonOAuth:e.isNonOAuth}}))).catch((t=>(t.message===d?this.emit(u,{type:g.EVENT_TYPE.EXCEEDED_MAX_RETRIES}):this.emit(u,{type:c}),{state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress}})))}}class j extends x{constructor(){super(p.OAUTH,[p.IMPORT_CONTACTS,p.INPUT_EMAIL]),this.oAuthUrl="/genie/startauth?sec=true&cb=onAuthenticationComplete&as=",this.events=[y.EVENTS.STATE_RESET]}_adjustDomain(){let e=document.domain,t=e
const n=/(lmodules)|(linkedin)/i,r=/\./g
if(r.test(e))for(let i=0,a=e.match(r).length;i<a&&(e=e.substring(e.indexOf(".")+1),n.test(e));i+=1)t=e
document.domain!==t&&(document.domain=t)}_updatePopup(e){this._adjustDomain(),this.emit(u,{type:y.EVENT_TYPE.UPDATE_POPUP,provider:this.provider,url:`https://www.${document.domain}${e}`})}onEntry(e){this.isNonOAuth=e.isNonOAuth,this.provider=e.provider,window.onAuthenticationComplete=this.onAuthenticationComplete.bind(this),e.isNonOAuth||(e.authSpecGaapScriptV2Urn?this._updatePopup(`${this.oAuthUrl}${e.authSpecGaapScriptV2Urn}`):this._updatePopup(`${this.oAuthUrl}${e.authSpec}`))}onStateReset(e){return{state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress}}}onAuthenticationComplete(e,t){if(this.emit(u,{type:y.EVENT_TYPE.CALLBACK,error:t}),t)return this.emit(u,{type:c}),{state:p.INPUT_EMAIL}
this.emit(u,{type:y.EVENT_TYPE.OAUTH_SUCCESS}),this.emit(l,{state:p.IMPORT_CONTACTS,data:{emailAddress:e,isNonOAuth:this.isNonOAuth,provider:this.provider}})}}class q extends x{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
super(p.POLL_IMPORT_STATUS,[p.INPUT_EMAIL,p.OAUTH]),this.promise=e.promise||Promise
const{dashEnabled:t,pageKey:n}=e
if(t&&!n)throw new Error("PageKey is required for poll import status")
this.dashEnabled=t,this.pageKey=n,this.events=[g.EVENTS.GET_IMPORT_STATUS,g.EVENTS.STATE_RESET],this.currentStatus=!1,this.pollingCount=0,this.noOfRetries=e.noOfRetries||30,this.pollingInterval=e.pollingInterval||0===e.pollingInterval?e.pollingInterval:500}onEntry(e){return new this.promise((t=>{const n=this
this._pollStatus(e).then((function r(i){i?t(i):setTimeout((()=>{n._pollStatus(e).then(r)}),n.pollingInterval)}))}))}_buildPollImportStatusUrl(e){return this.dashEnabled?L(`/voyager/api/voyagerContactsDashEmailImportTaskStatus/${e}`,{},"com.linkedin.voyager.dash.deco.contacts.EmailImportTaskStatus"):"/voyager/api/voyagerGrowthEmailImportTask?action=getImportStatus"}get customHeaders(){return this.dashEnabled?{"X-Li-Page-Instance":this.pageKey}:{}}_pollStatus(e){if(this.pollingCount<this.noOfRetries){let t="GET"
const n={}
return this.dashEnabled||(n.importTaskHandle={handle:e.ticketId},t="ACTION"),this.pollingCount=this.pollingCount+1,D(this._buildPollImportStatusUrl(e.ticketId),t,n,this.promise,this.customHeaders).then((t=>{const n=this.dashEnabled?t.state:t.value.status,{authSpec:r,authSpecGaapScriptV2Urn:i}=this.dashEnabled?t:t.value
switch(n){case"IN_PROGRESS":return new this.promise((e=>{1===this.pollingCount?this.emit(u,{type:g.EVENT_TYPE.IMPORT_STARTED}):this.emit(u,{type:g.EVENT_TYPE.IMPORT_IN_PROGRESS}),e()}))
case"SUCCESS":return new this.promise((t=>{this.emit(u,{type:g.EVENT_TYPE.IMPORT_SUCCESS,ticketId:e.ticketId}),t({state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress,ticketId:e.ticketId,success:!0}})}))
case"ERROR_BAD_LOGIN":return new this.promise((t=>{this.emit(u,{type:g.EVENT_TYPE.IMPORT_ERROR_BAD_LOGIN}),e.isNonOAuth?(this.emit(u,{type:g.EVENT_TYPE.INVALID_CREDENTIALS}),t({state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress}})):t(r?{state:p.OAUTH,data:{emailAddress:e.emailAddress,isNonOAuth:e.isNonOAuth,provider:e.provider,authSpec:r}}:{state:p.OAUTH,data:{emailAddress:e.emailAddress,isNonOAuth:e.isNonOAuth,provider:e.provider,authSpecGaapScriptV2Urn:i}})}))
case"ERROR_ZERO_CONTACTS":return new this.promise((t=>{this.emit(u,{type:g.EVENT_TYPE.ZERO_CONTACTS_TO_IMPORT}),t({state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress}})}))
case"ERROR_OTHERS":case"ERROR_OTHER":return new this.promise((t=>{this.emit(u,{type:g.EVENT_TYPE.IMPORT_ERROR_OTHER}),t({state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress}})}))
default:return new this.promise((t=>{this.emit(u,{type:c}),t({state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress}})}))}})).catch((()=>(this.emit(u,{type:c}),{state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress}})))}this.emit(u,{type:g.EVENT_TYPE.EXCEEDED_MAX_RETRIES})}onGetImportStatus(){return this.currentStatus}onStateReset(e){return this.currentStatus=this.currentStatus,{state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress}}}}function V(e){return new Promise(((t,n)=>{if(e.resolveDomainCallback&&"function"==typeof e.resolveDomainCallback||n(v.INVALID_DOMAIN_RESOLUTION_CALLBACK),e.emailAddress&&"string"==typeof e.emailAddress){const r=e.emailAddress.trim();/^([a-zA-Z0-9_\-=.'+]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9-]+\.)+))([a-zA-Z]{2,10}|[0-9]{1,3})(\]?)$/.test(r)?e.resolveDomainCallback.call(this,{emailAddress:r}).then((e=>{const i={isOauth:e.isOauth,emailAddress:r}
e.isOauth&&(e.providerName?"UNSUPPORTED"===e.providerName?n(v.UNSUPPORTED_DOMAIN):i.providerName=e.providerName:n(v.OAUTH_WITHOUT_PROVIDER)),t(i)})).catch((()=>{n(v.OTHER)})):n(v.INVALID_EMAIL)}else n(v.INVALID_EMAIL)}))}function H(e){let t,n
return new Promise(((r,i)=>{e||i(b.EMPTY_CONFIG),e.pollStatusCallback&&"function"==typeof e.pollStatusCallback||i(b.INVALID_POLL_STATUS_CALLBACK),e.fireTrackingEventCallback&&"function"==typeof e.fireTrackingEventCallback||i(b.INVALID_TRACKING_CALLBACK),e.abookImportTransactionId&&"string"==typeof e.abookImportTransactionId||i(b.INVALID_ABOOK_TRANSACTION_ID),e.importTicketId&&"string"==typeof e.importTicketId||i(b.INVALID_IMPORT_TICKET_ID),n=e.retryCount||0
try{e.pollStatusCallback.call(this,{importTicketId:e.importTicketId}).then((a=>{const o=a.status||"ERROR_OTHER"
switch(e.fireTrackingEventCallback&&e.fireTrackingEventCallback(T.TASK_STATUS,{status:o,abookImportTransactionId:e.abookImportTransactionId}),a.status){case"SUCCESS":r({importTicketId:e.importTicketId,abookImportTransactionId:e.abookImportTransactionId})
break
case"IN_PROGRESS":t=setTimeout((()=>{if(clearTimeout(t),n<30)return n+=1,H.call(this,{importTicketId:e.importTicketId,pollStatusCallback:e.pollStatusCallback,fireTrackingEventCallback:e.fireTrackingEventCallback,abookImportTransactionId:e.abookImportTransactionId,isOauthImport:e.isOauthImport||!1,retryCount:n}).then((e=>r(e))).catch((e=>i(e)))
i(b.EXCEEDED_MAX_STATUS_CHECK_RETRIES)}),500)
break
case"ERROR_BAD_LOGIN":e.isOauthImport?r(a):i(b.INVALID_CREDENTIALS)
break
case"ERROR_ZERO_CONTACTS":i(b.ZERO_CONTACTS_TO_IMPORT)
break
default:i(b.IMPORT_ERROR_OTHER)}})).catch((()=>{e.fireTrackingEventCallback(T.TASK_STATUS,{status:"NETWORK_ERROR",abookImportTransactionId:e.abookImportTransactionId}),i(b.IMPORT_ERROR_OTHER)}))}catch(t){e.fireTrackingEventCallback(T.TASK_STATUS,{status:"NETWORK_ERROR",abookImportTransactionId:e.abookImportTransactionId}),i(b.IMPORT_ERROR_OTHER)}}))}function G(e){return new Promise(((t,n)=>{e||n(b.EMPTY_CONFIG),e.emailAddress&&"string"==typeof e.emailAddress||n(b.INVALID_EMAIL),e.password&&"string"==typeof e.password||n(b.INVALID_PASSWORD),e.abookImportTransactionId&&"string"==typeof e.abookImportTransactionId||n(b.INVALID_ABOOK_TRANSACTION_ID),e.getImportTicketIdCallback&&"function"==typeof e.getImportTicketIdCallback||n(b.INVALID_TICKET_ID_CALLBACK),e.pollStatusCallback&&"function"==typeof e.pollStatusCallback||n(b.INVALID_POLL_STATUS_CALLBACK),e.fireTrackingEventCallback&&"function"==typeof e.fireTrackingEventCallback||n(b.INVALID_TRACKING_CALLBACK),e.fireTrackingEventCallback(T.SUBMIT,{abookImportTransactionId:e.abookImportTransactionId}),e.getImportTicketIdCallback.call(this,{emailAddress:e.emailAddress,password:e.password,abookImportTransactionId:e.abookImportTransactionId}).then((r=>{if(r.importTicketId)return H({importTicketId:r.importTicketId,pollStatusCallback:e.pollStatusCallback,fireTrackingEventCallback:e.fireTrackingEventCallback,abookImportTransactionId:e.abookImportTransactionId}).then((e=>t(e))).catch((e=>n(e)))
n(b.INVALID_IMPORT_TICKET_ID)})).catch((e=>{Array.isArray(e.errors)&&e.errors.some((e=>429===e.status))?n(b.EXCEEDED_MAX_REQUEST_RETRIES):n(e||b.OTHER)}))}))}const K={hotmail:{width:905,height:580},aol:{width:520,height:315},"live.com":{width:905,height:580},"msn.com":{width:905,height:580},default:{width:790,height:650},minimum:{width:150,height:100}},W=P()
let z,$,X,Q,Y
function J(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K.default,n=arguments.length>2?arguments[2]:void 0
if(W||"function"!=typeof $){if(!z)return}else $({url:e,size:t})
const{oAuthWindow:r}=z,{width:i,height:a}=t
r&&r.resizeTo?(r.location=n.sanitizeUrl(e),r.resizeTo(i,a),Q.fireTrackingEventCallback(T.OAUTH_REDIRECT,{abookImportTransactionId:Q.abookImportTransactionId})):z=null}function Z(){if(!z)return
const{oAuthWindow:e}=z
e&&(e.focus(),setTimeout((()=>{e&&e.close()}),5)),z=null}function ee(e){return new Promise(((t,n)=>{e.getImportTicketIdCallback.call(this,{emailAddress:e.emailAddress,abookImportTransactionId:e.abookImportTransactionId}).then((t=>{if(t.importTicketId)return H({importTicketId:t.importTicketId,pollStatusCallback:e.pollStatusCallback,fireTrackingEventCallback:e.fireTrackingEventCallback,abookImportTransactionId:e.abookImportTransactionId,isOauthImport:e.isOauthImport})
n(b.IMPORT_ERROR_OTHER)})).then((e=>{t(e)})).catch((e=>{Array.isArray(e.errors)&&e.errors.some((e=>429===e.status))?n(b.EXCEEDED_MAX_REQUEST_RETRIES):n(e)}))}))}function te(){if(!W)return void(z={})
const{width:e,height:t}=K.minimum,n=window.open("","oauth-popup",`width=${e},height=${t},toolbar=0,location=0,status=0,scrollbars=no`)
z={oAuthWindow:n},Y=!1,n&&(n.focus(),function(){let e=0
return new Promise((function t(n,r){z&&z.oAuthWindow&&!z.oAuthWindow.closed?e<120?(e+=1,setTimeout(t,1e3,n,r)):(Z(),r()):(z=null,Y?n():r())}))}().catch((()=>{"function"==typeof X&&X(b.OAUTH_VALIDATION_TIMED_OUT)})))}function ne(e,t){let n="linkedin.com"
W&&(function(){let e=document.domain,t=e
const n=/(lmodules)|(linkedin)/i,r=/\./g
if(r.test(e))for(let i=0,a=e.match(r).length;i<a&&(e=e.substring(e.indexOf(".")+1),n.test(e));i+=1)t=e
document.domain!==t&&(document.domain=t)}(),n=document.domain)
const r=`https://www.${n}/genie/startauth?sec=true&cb=onAuthenticationComplete&as=${e}`
return"YAHOO_JAPAN"===t?`https://fbi.address.yahoo.co.jp/explain?done=${encodeURIComponent(r)}`:r}function re(e){return new Promise(((t,n)=>{e||n(b.EMPTY_CONFIG),e.emailAddress&&e.emailAddress.length||n(b.INVALID_EMAIL),e.abookImportTransactionId&&e.abookImportTransactionId.length||n(b.INVALID_ABOOK_TRANSACTION_ID),e.provider&&e.provider.length||n(b.INVALID_EMAIL),e.getImportTicketIdCallback&&"function"==typeof e.getImportTicketIdCallback||n(b.INVALID_TICKET_ID_CALLBACK),e.pollStatusCallback&&"function"==typeof e.pollStatusCallback||n(b.INVALID_POLL_STATUS_CALLBACK),e.fireTrackingEventCallback&&"function"==typeof e.fireTrackingEventCallback||n(b.INVALID_TRACKING_CALLBACK),e.jSecure&&"object"==typeof e.jSecure||n(b.INVALID_JSECURE),e.isOauthImport=!0,z||te(),z||n(b.OAUTH_POPUP_NOT_OPEN),$=t,X=n,e.fireTrackingEventCallback(T.SUBMIT,{abookImportTransactionId:e.abookImportTransactionId}),ee(e).then((r=>{const{importTicketId:i,authSpec:a,authSpecGaapScriptV2Urn:o}=r
if(i)Z(),t(r)
else if(a){const t=ne(a,e.provider),n=K[e.provider]
Q=e,J(t,n,e.jSecure)}else if(o){const t=ne(o,e.provider),n=K[e.provider]
Q=e,J(t,n,e.jSecure)}else n(b.OTHER)})).catch((e=>{Z(),n(e)}))}))}W&&(window.onAuthenticationComplete=function(e,t){e?(Q.emailAddress=e,ee(Q).then((e=>{const{importTicketId:t}=e
t&&"function"==typeof $?$(e):"function"==typeof X&&X(b.IMPORT_ERROR_OTHER)})).catch((()=>{"function"==typeof X&&X(b.IMPORT_ERROR_OTHER)})).then((()=>Z()))):"function"==typeof X&&X({error:t}),Q.fireTrackingEventCallback(T.OAUTH_CALLBACK,{abookImportTransactionId:Q.abookImportTransactionId}),Y=!0,Z()})
class ie extends E{constructor(e){super([new S,new F(e),new B(e),new j,new q({promise:e})],p.INPUT_EMAIL,e),this.CONSTANTS=r,this.validateEmailAndResolveDomain=V,this.importContactsFromNonOauthDomain=G,this.importContactsFromOauthDomain=re,this.openOauthPopup=te,this.closeOauthPopup=Z}}class ae extends E{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
const{promise:t,pageKey:n}=e
if(!n)throw new Error("PageKey is required")
super([new S,new F(t,{dashEnabled:!0,pageKey:n}),new B(t,{dashEnabled:!0,pageKey:n}),new j,new q({promise:t,dashEnabled:!0,pageKey:n})],p.INPUT_EMAIL,t),this.CONSTANTS=r,this.validateEmailAndResolveDomain=V,this.importContactsFromNonOauthDomain=G,this.importContactsFromOauthDomain=re,this.openOauthPopup=te,this.closeOauthPopup=Z}}},44837:(e,t,n)=>{"use strict"
n.r(t),n.d(t,{AbuseFeaturesCollectionCoordinator:()=>c,CommonFeaturesAccessor:()=>s})
var r,i,a=["Windows Phone","Android","Linux","Mac","android","pike","firefox","opera","opr","chrome","safari","20030107","Internet Explorer","toSource","WebGLRenderingContext","Netscape","hasSwfObjectLoaded","swfobject","hasFlashPlayerVersion","9.0.0","addFlashDivNode","swfContainerId","___fp_swf_loaded","embedSWF","always","false","components","webrtc","tsSeed","appVersion","location","productSubKey","numOfCores","vendorSubKey","language","incognito","colorDepthKey","pixelRatio","pixelRatioKey","screenResolution","indexedDb","signals","touchSupport","networkInfo","battery","audioKey","automation","automationKey","pluginsComponent","fontsFlash","excludes","key","alias","shouldEnforceDataLimit","dataLimit","number","stringify","errors","Exceeded current data limit:"," Data length for:"," was found to be:","data","latency","acq_time","allFeatures","requestIdleCallback","querySelector","getElementById","firstChild","nodeValue","parentNode","parse","str2ab","encode","btoa","fromCharCode","importPk","atob","crypto","subtle","importKey","RSA-OAEP","wrap","spki","raw","wrapErrorResult","error","encryptWithKey","string","ec1","getRandomValues","AES-CBC","generateKey","encrypt","resolve","encryptWithKeyIds","Error: ec2","MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAtw/ArJ9dD6hi+jrX6ZpRqwk2Mm5v3EElQGhzSngYHAm7gvdcAEj6sbU4HhrXs3+TZamDV+RHwL+rDT+TtD8ZJBaVbA+wRDdIezECZT+WNZw2SMkjAsX0OynAT/wowGfE72zMhYc4byGfQmtAQrUL2iJ19KIJj0aZ4m41kvnBHMZbwO52+ceyQhqAzB7bn6U//QHJySHgjaOsgkpPnuxZUz6ly+FrKveQp+bNIfh8R5GO2ABRoeBL4c3jip/UjmmnfYE3xdzubni1a6WQ6YTTb6ZEJSgQTp/Rc+o/btcKkTIqDcXvGbO0iAxev8EXV7GtkRguqgfwaURAaps9Nes5NwIDAQAB","publicKey","publicKeyVersion","uuidv4","DNA","apfcDf","flash/compiled/FontList.swf","https://ponf.linkedin.com/pixel/tracking.png","/platform-telemetry/li/apfcDf","err","enabled","globalIntegration","readyState","intializeGlobalIntegration","addEventListener","initialize","load","apfcDfPK","triggerApfc","reentry","placePonfBeacon","reqid","pageInstance","isProd","fullFeatureCollection","encryptWithKeyFromDifferentSources","apfcDfPKV","https://www.linkedin.com","https://www.linkedin-ei.com","POST","setRequestHeader","Content-Type","application/json","send","getFeatures","reentryGlobalIntegration","triggerDnaApfcEvent",".linkedin.com","pemberly","getUrlFromNoscriptBeacon","getElementsByTagName","noscript","parseFromString","text/html","src","class","display:none;","ponfUrl","protocol","pathname","searchParams","get","charAt","substring","bc_context","div_bc","setAttribute","img","undefined","x64Add","x64Multiply","x64Rotl","x64LeftShift","x64Xor","x64Fmix","length","charCodeAt","toString","slice","00000000","each","prototype","forEach","hasOwnProperty","map","getIPs","RTCPeerConnection","webkitRTCPeerConnection","mozRTCPeerConnection","msRTCPeerConnection","stun:stun.l.google.com:19302","a=candidate:","keys","onicecandidate","candidate","onicegatheringstatechange","complete","iceGatheringState","createDataChannel","createOffer","then","setLocalDescription","undetected, fake browser","getBrowserNameAndVersion","split","Chrome","webdriver","document","getAttribute","_Selenium_IDE_Recorder","callPhantom","_phantom","PhantomJS","NOT_AVAILABLE","Selenium","webRtcKey","name","enumerateDevicesKey","isEnumerateDevicesSupported","enumerateDevices","deviceId","gid","groupId","kind","label","catch","mediaDevices","audio","excludeIOS11","userAgent","match","EXCLUDED","OfflineAudioContext","webkitOfflineAudioContext","type","triangle","frequency","setValueAtTime","currentTime","createDynamicsCompressor","threshold","knee","ratio","function","connect","startRendering","oncomplete","audioTimeout","renderedBuffer","getChannelData","reduce","abs","disconnect","UserAgent","languageKey","userLanguage","browserLanguage","systemLanguage"," GB","pixelDepthKey","screen","pixelDepth","devicePixelRatio","screenResolutionKey","getScreenResolution","screenOrientationKey","detectScreenOrientation","orientation","Orientation","msOrientation","height","availableScreenResolutionKey","availWidth","availHeight","timezoneOffset","getTimezoneOffset","timezone","Intl","DateTimeFormat","timeZone","sessionStorageKey","hasSessionStorage","localStorageKey","hasLocalStorage","indexedDbKey","hasIndexedDB","addBehaviorKey","body","addBehavior","openDatabaseKey","openDatabase","cpuClassKey","getNavigatorCpuClass","oscpuKey","oscpu","appNameKey","appName","appVersionKey","appCodeNameKey","seedKey","now","productKey","productSub","vendorKey","vendor","vendorSub","doNotTrackKey","getDoNotTrack","incognitoKey","RequestFileSystem","TEMPORARY","storage","estimate","Safari","safariIncognito","setItem","test","removeItem","Firefox","open","onerror","onsuccess","EDGE","indexedDB","PointerEvent","MSPointerEvent","exec","IE ","join","replace","OPR","Opera","splice","canvasKey","isCanvasSupported","isWebGlSupported","getWebglFp","javascriptsKey","scripts","locationKey","hash","host","hostname","href","origin","port","signalsKey","getSignals","getHasLiedResolution","getHasLiedOs","getHasLiedBrowser","flashFontsKey","hasMinFlashInstalled","swfPath","loadSwfAndDetectFonts","missing options.fonts.swfPath","flash not installed","swf object not loaded","jsFontsKey","monospace","sans-serif","Andale Mono","Arial","Arial Black","Arial Hebrew","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Geneva","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Monotype Corsiva","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MYRIAD","MYRIAD PRO","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Symbol","Tahoma","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3","concat","extendedJsFonts","fonts","userDefinedFonts","indexOf","createElement","div","style","position","absolute","left","-9999px","fontSize","72px","fontStyle","normal","fontWeight","letterSpacing","auto","lineHeight","textTransform","none","textAlign","fontFamily","offsetWidth","offsetHeight","appendChild","push","removeChild","x64hash128","hashOnly","lists","mimetypesComponent","mimeTypes","suffixes","description","isIE","plugins","getIEPlugins","pluginsShouldBeSorted","sort","ActiveXObject","Adodb.Stream","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","SWCtl.SWCtl","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control.1","ERROR","getRegularPlugins","sortPluginsFor","batteryKey","getBattery","level","chargingTime","dischargingTime","networkInfoKey","downlink","saveData","touchSupportKey","getTouchSupport","hardwareConcurrencyKey","getHardwareConcurrency","sessionStorage","localStorage","hardwareConcurrency","cpuClass","getNavigatorPlatform","platform","doNotTrack","msDoNotTrack","ontouchstart","canvas","width","display","getContext","rect","isPointInPath","textBaseline","alphabetic","#f60","fillRect","fillStyle","#069","dontUseFakeFontInCanvas","font","11pt Arial","11pt no-real-font-123","fillText","Cwm fjordbank glyphs vext quiz, 😃","rgba(102, 204, 0, 0.2)","18pt Arial","globalCompositeOperation","multiply","rgb(255,0,255)","arc","fill","rgb(0,255,255)","beginPath","closePath","rgb(255,255,0)","evenodd","canvasHash","toDataURL","clearColor","enable","DEPTH_TEST","depthFunc","LEQUAL","getWebglCanvas","createBuffer","bufferData","ARRAY_BUFFER","STATIC_DRAW","itemSize","createProgram","VERTEX_SHADER","shaderSource","attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}","createShader","FRAGMENT_SHADER","precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}","compileShader","attachShader","linkProgram","useProgram","vertexPosAttrib","getAttribLocation","attrVertex","getUniformLocation","uniformOffset","enableVertexAttribArray","vertexPosArray","vertexAttribPointer","FLOAT","uniform2f","offsetUniform","drawArrays","TRIANGLE_STRIP","numItems","webglHash","webgl","vendorAndRenderer","getWebglVendorAndRenderer","extensions","webgl aliased line width range","getParameter","webgl aliased point size range","ALIASED_POINT_SIZE_RANGE","webgl alpha bits","webgl antialiasing","getContextAttributes","yes","webgl blue bits","BLUE_BITS","webgl green bits","GREEN_BITS","webgl max anisotropy","getExtension","WEBKIT_EXT_texture_filter_anisotropic","MOZ_EXT_texture_filter_anisotropic","MAX_TEXTURE_MAX_ANISOTROPY_EXT","MAX_COMBINED_TEXTURE_IMAGE_UNITS","webgl max cube map texture size","MAX_CUBE_MAP_TEXTURE_SIZE","webgl max fragment uniform vectors","webgl max render buffer size","webgl max texture image units","MAX_TEXTURE_IMAGE_UNITS","webgl max texture size","MAX_TEXTURE_SIZE","webgl max varying vectors","MAX_VARYING_VECTORS","MAX_VERTEX_ATTRIBS","MAX_VERTEX_TEXTURE_IMAGE_UNITS","webgl max vertex uniform vectors","webgl max viewport dims","MAX_VIEWPORT_DIMS","webgl red bits","webgl renderer","RENDERER","webgl shading language version","SHADING_LANGUAGE_VERSION","webgl stencil bits","STENCIL_BITS","webgl vendor","VENDOR","webgl version","WEBGL_debug_renderer_info","webgl unmasked vendor","UNMASKED_VENDOR_WEBGL","webgl unmasked renderer","UNMASKED_RENDERER_WEBGL","getShaderPrecisionFormat","INT","VERTEX","HIGH","MEDIUM","rangeMin","precision","toLowerCase","getAdBlock","innerHTML","&nbsp;","className","adsbox","getElementsByClassName","languages","substr","win","Windows","linux","cros","iphone","ipad","iOS","mac","Other","maxTouchPoints","msMaxTouchPoints"]
r=a,i=156,function(e){for(;--e;)r.push(r.shift())}(++i)
var o=function(e,t){return a[e-=0]}
!function(){class e{static[o("0x0")](e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]]
const n=[0,0,0,0]
return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}static[o("0x1")](e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]]
const n=[0,0,0,0]
return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}static[o("0x2")](e,t){return 32==(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}static[o("0x3")](e,t){return 0==(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}static[o("0x4")](e,t){return[e[0]^t[0],e[1]^t[1]]}static[o("0x5")](t){return t=e[o("0x4")](t,[0,t[0]>>>1]),t=e[o("0x1")](t,[4283543511,3981806797]),t=e[o("0x4")](t,[0,t[0]>>>1]),t=e[o("0x1")](t,[3301882366,444984403]),e.x64Xor(t,[0,t[0]>>>1])}static x64hash128(t,n){n=n||0
const r=(t=t||"")[o("0x6")]%16,i=t[o("0x6")]-r
let a=[0,n],s=[0,n],c=[0,0],d=[0,0]
const u=[2277735313,289559509],l=[1291169091,658871167]
let p
for(p=0;p<i;p+=16)c=[255&t[o("0x7")](p+4)|(255&t[o("0x7")](p+5))<<8|(255&t[o("0x7")](p+6))<<16|(255&t[o("0x7")](p+7))<<24,255&t[o("0x7")](p)|(255&t[o("0x7")](p+1))<<8|(255&t[o("0x7")](p+2))<<16|(255&t[o("0x7")](p+3))<<24],d=[255&t[o("0x7")](p+12)|(255&t[o("0x7")](p+13))<<8|(255&t[o("0x7")](p+14))<<16|(255&t.charCodeAt(p+15))<<24,255&t.charCodeAt(p+8)|(255&t[o("0x7")](p+9))<<8|(255&t.charCodeAt(p+10))<<16|(255&t[o("0x7")](p+11))<<24],c=e[o("0x1")](c,u),c=e[o("0x2")](c,31),c=e[o("0x1")](c,l),a=e[o("0x4")](a,c),a=e[o("0x2")](a,27),a=e[o("0x0")](a,s),a=e[o("0x0")](e[o("0x1")](a,[0,5]),[0,1390208809]),d=e[o("0x1")](d,l),d=e[o("0x2")](d,33),d=e[o("0x1")](d,u),s=e[o("0x4")](s,d),s=e[o("0x2")](s,31),s=e[o("0x0")](s,a),s=e[o("0x0")](e[o("0x1")](s,[0,5]),[0,944331445])
switch(c=[0,0],d=[0,0],r){case 15:d=e[o("0x4")](d,e[o("0x3")]([0,t[o("0x7")](p+14)],48))
case 14:d=e[o("0x4")](d,e[o("0x3")]([0,t[o("0x7")](p+13)],40))
case 13:d=e[o("0x4")](d,e[o("0x3")]([0,t[o("0x7")](p+12)],32))
case 12:d=e[o("0x4")](d,e.x64LeftShift([0,t[o("0x7")](p+11)],24))
case 11:d=e[o("0x4")](d,e[o("0x3")]([0,t.charCodeAt(p+10)],16))
case 10:d=e.x64Xor(d,e[o("0x3")]([0,t.charCodeAt(p+9)],8))
case 9:d=e.x64Xor(d,[0,t[o("0x7")](p+8)]),d=e[o("0x1")](d,l),d=e[o("0x2")](d,33),d=e.x64Multiply(d,u),s=e[o("0x4")](s,d)
case 8:c=e.x64Xor(c,e.x64LeftShift([0,t[o("0x7")](p+7)],56))
case 7:c=e[o("0x4")](c,e[o("0x3")]([0,t[o("0x7")](p+6)],48))
case 6:c=e[o("0x4")](c,e[o("0x3")]([0,t[o("0x7")](p+5)],40))
case 5:c=e[o("0x4")](c,e.x64LeftShift([0,t[o("0x7")](p+4)],32))
case 4:c=e[o("0x4")](c,e.x64LeftShift([0,t[o("0x7")](p+3)],24))
case 3:c=e[o("0x4")](c,e.x64LeftShift([0,t[o("0x7")](p+2)],16))
case 2:c=e[o("0x4")](c,e[o("0x3")]([0,t.charCodeAt(p+1)],8))
case 1:c=e.x64Xor(c,[0,t[o("0x7")](p)]),c=e.x64Multiply(c,u),c=e.x64Rotl(c,31),c=e[o("0x1")](c,l),a=e[o("0x4")](a,c)}return a=e.x64Xor(a,[0,t.length]),s=e.x64Xor(s,[0,t.length]),a=e[o("0x0")](a,s),s=e[o("0x0")](s,a),a=e.x64Fmix(a),s=e[o("0x5")](s),a=e[o("0x0")](a,s),s=e[o("0x0")](s,a),("00000000"+(a[0]>>>0)[o("0x8")](16))[o("0x9")](-8)+(o("0xa")+(a[1]>>>0)[o("0x8")](16)).slice(-8)+(o("0xa")+(s[0]>>>0)[o("0x8")](16))[o("0x9")](-8)+("00000000"+(s[1]>>>0).toString(16))[o("0x9")](-8)}}class t{static[o("0xb")](e,t){if(Array[o("0xc")][o("0xd")]&&e.forEach===Array[o("0xc")][o("0xd")])e[o("0xd")](t)
else if(e.length===+e.length)for(let n=0,r=e[o("0x6")];n<r;n++)t(e[n],n,e)
else for(let n in e)e[o("0xe")](n)&&t(e[n],n,e)}static[o("0xf")](e,n){let r=[]
return null==e?r:Array[o("0xc")].map&&e[o("0xf")]===Array[o("0xc")][o("0xf")]?e[o("0xf")](n):(t.each(e,(function(e,t,i){r.push(n(e,t,i))})),r)}static[o("0x10")](e,t){let n={},r=new(window[o("0x11")]||window[o("0x12")]||window[o("0x13")]||window[o("0x14")])({iceServers:[{urls:o("0x15")}]},{optional:[{RtpDataChannels:!0}]})
const i=function(e){if(null!==e)try{const t=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/.exec(e)[1]
n[t]=!0}catch(e){}}
let a=!1
const s=function(){if(!0===a)return
a=!0
const e=r.localDescription
null!==e&&e.sdp.split("\n").forEach((function(e){0!==e.indexOf(o("0x16"))&&0!==e.indexOf("c=IN")||i(e)})),t(Object[o("0x17")](n))}
r[o("0x18")]=function(e){e.candidate&&i(e[o("0x19")][o("0x19")])},r[o("0x1a")]=function(e){o("0x1b")===r[o("0x1c")]&&s()},r[o("0x1d")]("bl")
try{r[o("0x1e")]()[o("0x1f")]((function(e){r[o("0x20")](e)}))}catch(e){r[o("0x1e")]((function(e){r[o("0x20")](e,(function(){}),(function(){}))}),(function(){}))}setTimeout((function(){s()}),2e3)}static automationKey(e,n){if(t.getHasLiedBrowser())return void e(o("0x21"))
const r=t[o("0x22")]()[o("0x23")](" ")[0]
o("0x24")!==r||!0!==navigator[o("0x25")]?"Firefox"===r&&window[o("0x26")].documentElement[o("0x27")](o("0x25"))||o("0x28")in window||"__webdriver_script_fn"in document?e("Selenium"):window[o("0x29")]||window[o("0x2a")]?e(o("0x2b")):e(n[o("0x2c")]):e(o("0x2d"))}static[o("0x2e")](e,n){try{t[o("0x10")](n,(t=>{e({ips:t})}))}catch(t){e({exception:{name:t[o("0x2f")],message:t.message}})}}static[o("0x30")](e,n){if(!t[o("0x31")]())return e(n[o("0x2c")])
navigator.mediaDevices[o("0x32")]().then((function(t){e(t.map((function(e){let t={}
return t.id=e[o("0x33")],t[o("0x34")]=e[o("0x35")],t.kind=e[o("0x36")],t[o("0x37")]=e[o("0x37")],t})))}))[o("0x38")]((function(t){e(t)}))}static[o("0x31")](){return navigator.mediaDevices&&navigator[o("0x39")].enumerateDevices}static audioKey(e,n){let r=n[o("0x3a")]
if(r[o("0x3b")]&&navigator[o("0x3c")][o("0x3d")](/OS 11.+Version\/11.+Safari/))return e(n[o("0x3e")])
const i=window[o("0x3f")]||window[o("0x40")]
if(null==i)return e(n[o("0x2c")])
let a=new i(1,44100,44100),s=a.createOscillator()
s[o("0x41")]=o("0x42"),s[o("0x43")][o("0x44")](1e4,a[o("0x45")])
let c=a[o("0x46")]()
t.each([[o("0x47"),-50],[o("0x48"),40],[o("0x49"),12],["reduction",-20],["attack",0],["release",.25]],(function(e){void 0!==c[e[0]]&&o("0x4a")==typeof c[e[0]][o("0x44")]&&c[e[0]][o("0x44")](e[1],a[o("0x45")])})),s[o("0x4b")](c),c[o("0x4b")](a.destination),s.start(0),a[o("0x4c")]()
let d=setTimeout((function(){return a[o("0x4d")]=function(){},a=null,e(o("0x4e"))}),r.timeout)
a[o("0x4d")]=function(t){let n
try{clearTimeout(d),n=t[o("0x4f")][o("0x50")](0)[o("0x9")](4500,5e3)[o("0x51")]((function(e,t){return e+Math[o("0x52")](t)}),0)[o("0x8")](),s.disconnect(),c[o("0x53")]()}catch(t){return void e(t)}e(n)}}static[o("0x54")](e){e(navigator[o("0x3c")])}static[o("0x25")](e,t){e(void 0===navigator.webdriver||null===navigator[o("0x25")]?t[o("0x2c")]:navigator[o("0x25")])}static[o("0x55")](e,t){e(navigator.language||navigator[o("0x56")]||navigator[o("0x57")]||navigator[o("0x58")]||t[o("0x2c")])}static colorDepthKey(e,t){e(window.screen.colorDepth||t[o("0x2c")])}static deviceMemoryKey(e,t){let n=navigator.deviceMemory||t[o("0x2c")]
n!==t[o("0x2c")]&&(n+=o("0x59")),e(n)}static[o("0x5a")](e,t){e(window[o("0x5b")][o("0x5c")]||t.NOT_AVAILABLE)}static pixelRatioKey(e,t){e(window[o("0x5d")]||t[o("0x2c")])}static[o("0x5e")](e,n){e(t[o("0x5f")](n))}static[o("0x60")](e,t){if(!t[o("0x5b")][o("0x61")])return void e(t.EXCLUDED)
let n={}
n.Enabled=void 0!==screen[o("0x62")],n[o("0x63")]=screen[o("0x64")]||screen.mozOrientation||(screen.orientation||{})[o("0x41")],e(n)}static[o("0x5f")](){return{w:window.screen.width,h:window[o("0x5b")][o("0x65")]}}static[o("0x66")](e,n){e(t.getAvailableScreenResolution(n))}static getAvailableScreenResolution(e){return window[o("0x5b")][o("0x67")]&&window[o("0x5b")][o("0x68")]?{w:window[o("0x5b")][o("0x67")],h:window[o("0x5b")][o("0x68")]}:e[o("0x2c")]}static[o("0x69")](e){e((new Date)[o("0x6a")]()/60)}static[o("0x6b")](e,t){window[o("0x6c")]&&window[o("0x6c")][o("0x6d")]?e((new(window.Intl[o("0x6d")])).resolvedOptions()[o("0x6e")]):e(t[o("0x2c")])}static[o("0x6f")](e,n){e(t[o("0x70")](n))}static[o("0x71")](e,n){e(t[o("0x72")](n))}static[o("0x73")](e,n){e(t[o("0x74")](n))}static[o("0x75")](e){e(!(!document[o("0x76")]||!document[o("0x76")][o("0x77")]))}static[o("0x78")](e){e(!!window[o("0x79")])}static[o("0x7a")](e,n){e(t[o("0x7b")](n))}static[o("0x7c")](e,t){e(navigator[o("0x7d")]||t[o("0x2c")])}static[o("0x7e")](e,t){e(navigator[o("0x7f")]||t[o("0x2c")])}static[o("0x80")](e,t){e(navigator.appVersion||t[o("0x2c")])}static[o("0x81")](e,t){e(navigator.appCodeName||t[o("0x2c")])}static[o("0x82")](e,t){e(Date[o("0x83")]())}static platformKey(e,n){e(t.getNavigatorPlatform(n))}static[o("0x84")](e,t){e(navigator.product||t[o("0x2c")])}static productSubKey(e,t){e(navigator[o("0x85")]||t[o("0x2c")])}static[o("0x86")](e,t){e(navigator[o("0x87")]||t.NOT_AVAILABLE)}static vendorSubKey(e,t){e(navigator[o("0x88")]||t.NOT_AVAILABLE)}static[o("0x89")](e,n){e(t[o("0x8a")](n))}static[o("0x8b")](e,n){const r=t[o("0x22")]()[o("0x23")](" "),i=r[0],a=r[1]
let s=n.NOT_AVAILABLE
if(o("0x24")===i)if(parseInt(a)<=74){const t=window[o("0x8c")]||window.webkitRequestFileSystem
t?t(window[o("0x8d")],100,(function(t){e(!1)}),(function(t){e(!0)})):e(s)}else o("0x8e")in navigator&&o("0x8f")in navigator[o("0x8e")]?navigator[o("0x8e")][o("0x8f")]()[o("0x1f")]((function(t){const n=t.quota
s=n<125829120,e(s)})):e(s)
else if(o("0x90")===i){if(s=!1,window[o("0x91")])s=!0
else{try{window[o("0x79")](null,null,null,null)}catch(e){s=!0}try{window.localStorage[o("0x92")](o("0x93"),1)}catch(e){s=!0}}void 0===s&&(s=!1,window.localStorage[o("0x94")](o("0x93"))),e(s)}else if(o("0x95")===i){let t=indexedDB[o("0x96")](o("0x93"))
t[o("0x97")]=function(){e(!0)},t[o("0x98")]=function(){e(!1)}}else e("IE"===i||o("0x99")===i?!window[o("0x9a")]&&(window[o("0x9b")]||window[o("0x9c")]):s)}static getBrowserNameAndVersion(){let e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[]
return/trident/i[o("0x93")](n[1])?(e=/\brv[ :]+(\d+)/g[o("0x9d")](t)||[],o("0x9e")+(e[1]||"")):o("0x24")===n[1]&&(e=t.match(/\b(OPR|Edge)\/(\d+)/),null!=e)?e[o("0x9")](1)[o("0x9f")](" ")[o("0xa0")](o("0xa1"),o("0xa2")):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],e=t.match(/version\/(\d+)/i),null!=e&&n[o("0xa3")](1,1,e[1]),n[o("0x9f")](" "))}static[o("0xa4")](e,n){t[o("0xa5")]()?e(t.getCanvasFp(n)):e(n[o("0x2c")])}static webglKey(e,n){t[o("0xa6")]()?e(t[o("0xa7")](n)):e(n[o("0x2c")])}static[o("0xa8")](e,t){if(void 0===document[o("0xa9")]||null===document[o("0xa9")])return e(t[o("0x2c")])
e([])}static[o("0xaa")](e,t){e({hash:location[o("0xab")]||t[o("0x2c")],host:location[o("0xac")]||t.NOT_AVAILABLE,hostname:location[o("0xad")]||t[o("0x2c")],href:location[o("0xae")]||t[o("0x2c")],origin:location[o("0xaf")]||t[o("0x2c")],pathname:location.pathname||t.NOT_AVAILABLE,port:location[o("0xb0")]||t.NOT_AVAILABLE,protocol:location.protocol||t[o("0x2c")]})}static[o("0xb1")](e){e(t[o("0xb2")]())}static[o("0xb2")](){const e={adBlockInstalled:function(){return t.getAdBlock()},liedLanguages:function(){return t.getHasLiedLanguages()},liedResolution:function(){return t[o("0xb3")]()},liedOS:function(){return t[o("0xb4")]()},liedBrowser:function(){return t[o("0xb5")]()}},n={}
for(const t in e)if(e.hasOwnProperty(t)){const r=e[t]
n[t]=r(t)}return n}static[o("0xb6")](e,n){return t.hasSwfObjectLoaded()?t[o("0xb7")]()?n.fonts[o("0xb8")]?void t[o("0xb9")]((function(t){e(t)}),n):e(o("0xba")):e(o("0xbb")):e(o("0xbc"))}static[o("0xbd")](t,n){const r=[o("0xbe"),o("0xbf"),"serif"]
let i=[o("0xc0"),o("0xc1"),o("0xc2"),o("0xc3"),"Arial MT","Arial Narrow","Arial Rounded MT Bold",o("0xc4"),o("0xc5"),o("0xc6"),o("0xc7"),o("0xc8"),o("0xc9"),o("0xca"),o("0xcb"),o("0xcc"),"Century Schoolbook",o("0xcd"),o("0xce"),o("0xcf"),o("0xd0"),o("0xd1"),o("0xd2"),"Georgia","Helvetica",o("0xd3"),o("0xd4"),o("0xd5"),o("0xd6"),o("0xd7"),o("0xd8"),o("0xd9"),o("0xda"),o("0xdb"),o("0xdc"),o("0xdd"),"Microsoft Sans Serif","Monaco",o("0xde"),"MS Gothic",o("0xdf"),o("0xe0"),o("0xe1"),o("0xe2"),"MS Serif",o("0xe3"),o("0xe4"),"Palatino",o("0xe5"),o("0xe6"),o("0xe7"),o("0xe8"),o("0xe9"),"Segoe UI Semibold",o("0xea"),o("0xeb"),"Times",o("0xec"),o("0xed"),o("0xee"),o("0xef"),o("0xf0"),o("0xf1"),o("0xf2")]
void 0!==n.fonts&&void 0!==n.fonts.extendedJsFonts&&(i=i[o("0xf3")](n.fonts[o("0xf4")])),void 0!==n[o("0xf5")]&&void 0!==n[o("0xf5")][o("0xf6")]&&(i=i[o("0xf3")](n.fonts[o("0xf6")])),i=i.filter((function(e,t){return i[o("0xf7")](e)===t}))
const a=document.getElementsByTagName(o("0x76"))[0],s=document[o("0xf8")](o("0xf9")),c=document[o("0xf8")](o("0xf9")),d={},u={},l=function(){const e=document[o("0xf8")]("span")
return e[o("0xfa")][o("0xfb")]=o("0xfc"),e[o("0xfa")][o("0xfd")]=o("0xfe"),e[o("0xfa")][o("0xff")]=o("0x100"),e[o("0xfa")][o("0x101")]=o("0x102"),e[o("0xfa")][o("0x103")]=o("0x102"),e[o("0xfa")][o("0x104")]=o("0x102"),e[o("0xfa")].lineBreak=o("0x105"),e[o("0xfa")][o("0x106")]=o("0x102"),e[o("0xfa")][o("0x107")]=o("0x108"),e[o("0xfa")][o("0x109")]="left",e.style.textDecoration="none",e[o("0xfa")].textShadow=o("0x108"),e[o("0xfa")].whiteSpace=o("0x102"),e[o("0xfa")].wordBreak=o("0x102"),e.style.wordSpacing="normal",e.textContent="mmmmmmmmmmlli",e},p=function(e,t){const n=l()
return n[o("0xfa")][o("0x10a")]="'"+e+"',"+t,n},f=function(e){let t=!1
for(let n=0;n<r[o("0x6")];n++)if(t=e[n][o("0x10b")]!==d[r[n]]||e[n][o("0x10c")]!==u[r[n]],t)return t
return t},h=function(){const e=[]
for(let t=0,n=r.length;t<n;t++){const n=l()
n[o("0xfa")].fontFamily=r[t],s[o("0x10d")](n),e[o("0x10e")](n)}return e}()
a[o("0x10d")](s)
for(let e=0,t=r[o("0x6")];e<t;e++)d[r[e]]=h[e][o("0x10b")],u[r[e]]=h[e][o("0x10c")]
const m=function(){const e={}
for(let t=0,n=i[o("0x6")];t<n;t++){const n=[]
for(let e=0,a=r.length;e<a;e++){const a=p(i[t],r[e])
c[o("0x10d")](a),n[o("0x10e")](a)}e[i[t]]=n}return e}()
a[o("0x10d")](c)
const g=[]
for(let e=0,t=i[o("0x6")];e<t;e++)f(m[i[e]])&&g[o("0x10e")](i[e])
a[o("0x10f")](c),a[o("0x10f")](s)
const y={}
y.fontsHash=e[o("0x110")](g.join(),23),n[o("0xf5")][o("0x111")]||(y[o("0x112")]=g),t(y)}static[o("0x113")](e,t){if(void 0===navigator[o("0x114")]||null===navigator[o("0x114")])return void e(t[o("0x2c")])
const n=navigator[o("0x114")],r=[]
for(let e=0;e<n[o("0x6")];e++){const t={}
t[o("0x41")]=n[e][o("0x41")],t[o("0x115")]=n[e][o("0x115")],t[o("0x116")]=n[e].description,r[o("0x10e")](t)}e(r)}static pluginsComponent(e,n){t[o("0x117")]()?n[o("0x118")].excludeIE?e(n.EXCLUDED):e(t[o("0x119")](n)):e(t.getRegularPlugins(n))}static getRegularPlugins(e){if(void 0===navigator[o("0x118")]||null===navigator[o("0x118")])return e.NOT_AVAILABLE
let n=[]
for(let e=0,t=navigator[o("0x118")].length;e<t;e++)navigator[o("0x118")][e]&&n[o("0x10e")](navigator[o("0x118")][e])
return n[o("0x6")]>0&&t[o("0x11a")](e)&&(n=n[o("0x11b")]((function(e,t){return e.name>t[o("0x2f")]?1:e.name<t[o("0x2f")]?-1:0}))),t[o("0xf")](n,(function(e){const n=t[o("0xf")](e,(function(e){return[e[o("0x41")],e[o("0x115")]]}))
return[e.name,e[o("0x116")],n]}))}static[o("0x119")](e){let n=[]
if(Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,o("0x11c"))||o("0x11c")in window){const r=["AcroPDF.PDF",o("0x11d"),"AgControl.AgControl",o("0x11e"),o("0x11f"),o("0x120"),o("0x121"),"PDF.PdfCtrl",o("0x122"),o("0x123"),o("0x124"),o("0x125"),o("0x126"),"Scripting.Dictionary",o("0x127"),o("0x128"),o("0x129"),"Skype.Detection",o("0x12a"),o("0x12b"),"rmocx.RealPlayer G2 Control",o("0x12c")]
n=t.map(r,(function(t){try{return new(window[o("0x11c")])(t),t}catch(t){return e[o("0x12d")]}}))}else n[o("0x10e")](e[o("0x2c")])
return navigator[o("0x118")]&&(n=n.concat(t[o("0x12e")](e))),n}static pluginsShouldBeSorted(e){let t=!1
for(let n=0,r=e[o("0x118")][o("0x12f")][o("0x6")];n<r;n++){const r=e[o("0x118")][o("0x12f")][n]
if(navigator[o("0x3c")][o("0x3d")](r)){t=!0
break}}return t}static[o("0x130")](e,t){void 0!==navigator[o("0x131")]?navigator[o("0x131")]().then((function(t){const n={}
n[o("0x132")]=t.level,n.charging=t.charging,n[o("0x133")]=t[o("0x133")],n[o("0x134")]=t[o("0x134")],e(n)})):e(t[o("0x2c")])}static[o("0x135")](e,t){const n=navigator.connection
e(void 0!==n?{downlink:n[o("0x136")],downlinkMax:n.downlinkMax,type:n[o("0x41")],effectiveType:n.effectiveType,rtt:n.rtt,saveData:n[o("0x137")]}:t.NOT_AVAILABLE)}static[o("0x138")](e){e(t[o("0x139")]())}static[o("0x13a")](e,n){e(t[o("0x13b")](n))}static[o("0x70")](e){try{return!!window[o("0x13c")]}catch(t){return e.ERROR}}static[o("0x72")](e){try{return!!window[o("0x13d")]}catch(t){return e[o("0x12d")]}}static[o("0x74")](e){try{return!!window[o("0x9a")]}catch(t){return e.ERROR}}static[o("0x13b")](e){return navigator[o("0x13e")]?navigator.hardwareConcurrency:e.NOT_AVAILABLE}static[o("0x7b")](e){return navigator[o("0x13f")]||e[o("0x2c")]}static[o("0x140")](e){return navigator[o("0x141")]?navigator[o("0x141")]:e[o("0x2c")]}static[o("0x8a")](e){return navigator.doNotTrack?navigator[o("0x142")]:navigator[o("0x143")]?navigator[o("0x143")]:window.doNotTrack?window[o("0x142")]:e[o("0x2c")]}static[o("0x139")](){let e,t=0
void 0!==navigator.maxTouchPoints?t=navigator.maxTouchPoints:void 0!==navigator.msMaxTouchPoints&&(t=navigator.msMaxTouchPoints)
try{document.createEvent("TouchEvent"),e=!0}catch(t){e=!1}return{maxTouchPoints:t,touchEvent:e,touchStart:o("0x144")in window}}static getCanvasFp(t){const n={},r=document.createElement(o("0x145"))
r[o("0x146")]=2e3,r[o("0x65")]=200,r[o("0xfa")][o("0x147")]="inline"
const i=r[o("0x148")]("2d")
return i[o("0x149")](0,0,10,10),i[o("0x149")](2,2,6,6),n.canvasWinding=!1===i[o("0x14a")](5,5,"evenodd")?"yes":"no",i[o("0x14b")]=o("0x14c"),i.fillStyle=o("0x14d"),i[o("0x14e")](125,1,62,20),i[o("0x14f")]=o("0x150"),t[o("0x151")]?i[o("0x152")]=o("0x153"):i[o("0x152")]=o("0x154"),i[o("0x155")](o("0x156"),2,15),i[o("0x14f")]=o("0x157"),i[o("0x152")]=o("0x158"),i[o("0x155")](o("0x156"),4,45),i[o("0x159")]=o("0x15a"),i[o("0x14f")]=o("0x15b"),i.beginPath(),i[o("0x15c")](50,50,50,0,2*Math.PI,!0),i.closePath(),i[o("0x15d")](),i.fillStyle=o("0x15e"),i[o("0x15f")](),i.arc(100,50,50,0,2*Math.PI,!0),i[o("0x160")](),i[o("0x15d")](),i[o("0x14f")]=o("0x161"),i[o("0x15f")](),i[o("0x15c")](75,100,50,0,2*Math.PI,!0),i[o("0x160")](),i[o("0x15d")](),i[o("0x14f")]=o("0x15b"),i[o("0x15c")](75,75,75,0,2*Math.PI,!0),i[o("0x15c")](75,75,25,0,2*Math.PI,!0),i[o("0x15d")](o("0x162")),r.toDataURL&&(n[o("0x163")]=e[o("0x110")](r[o("0x164")](),23)),n}static[o("0xa7")](n){let r
const i=function(e){return r[o("0x165")](0,0,0,1),r[o("0x166")](r[o("0x167")]),r[o("0x168")](r[o("0x169")]),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),"["+e[0]+", "+e[1]+"]"}
if(r=t[o("0x16a")](),!r)return null
const a={},s=r[o("0x16b")]()
r.bindBuffer(r.ARRAY_BUFFER,s)
const c=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0])
r[o("0x16c")](r[o("0x16d")],c,r[o("0x16e")]),s[o("0x16f")]=3,s.numItems=3
const d=r[o("0x170")](),u=r.createShader(r[o("0x171")])
r[o("0x172")](u,o("0x173")),r.compileShader(u)
const l=r[o("0x174")](r[o("0x175")])
r.shaderSource(l,o("0x176")),r[o("0x177")](l),r[o("0x178")](d,u),r[o("0x178")](d,l),r[o("0x179")](d),r[o("0x17a")](d),d[o("0x17b")]=r[o("0x17c")](d,o("0x17d")),d.offsetUniform=r[o("0x17e")](d,o("0x17f")),r[o("0x180")](d[o("0x181")]),r[o("0x182")](d[o("0x17b")],s[o("0x16f")],r[o("0x183")],!1,0,0),r[o("0x184")](d[o("0x185")],1,1),r[o("0x186")](r[o("0x187")],0,s[o("0x188")])
try{a[o("0x189")]=e[o("0x110")](r[o("0x145")].toDataURL(),23)}catch(e){}if(n[o("0x18a")][o("0x111")])return a
a[o("0x18b")]=t[o("0x18c")](),a[o("0x18d")]=r.getSupportedExtensions()||[],a[o("0x18e")]=i(r[o("0x18f")](r.ALIASED_LINE_WIDTH_RANGE)),a[o("0x190")]=i(r[o("0x18f")](r[o("0x191")])),a[o("0x192")]=r.getParameter(r.ALPHA_BITS),a[o("0x193")]=r[o("0x194")]().antialias?o("0x195"):"no",a[o("0x196")]=r[o("0x18f")](r[o("0x197")]),a["webgl depth bits"]=r[o("0x18f")](r.DEPTH_BITS),a[o("0x198")]=r.getParameter(r[o("0x199")]),a[o("0x19a")]=function(e){const t=e[o("0x19b")]("EXT_texture_filter_anisotropic")||e[o("0x19b")](o("0x19c"))||e[o("0x19b")](o("0x19d"))
if(t){let n=e[o("0x18f")](t[o("0x19e")])
return 0===n&&(n=2),n}return null}(r),a["webgl max combined texture image units"]=r[o("0x18f")](r[o("0x19f")]),a[o("0x1a0")]=r[o("0x18f")](r[o("0x1a1")]),a[o("0x1a2")]=r.getParameter(r.MAX_FRAGMENT_UNIFORM_VECTORS),a[o("0x1a3")]=r[o("0x18f")](r.MAX_RENDERBUFFER_SIZE),a[o("0x1a4")]=r.getParameter(r[o("0x1a5")]),a[o("0x1a6")]=r[o("0x18f")](r[o("0x1a7")]),a[o("0x1a8")]=r[o("0x18f")](r[o("0x1a9")]),a["webgl max vertex attribs"]=r[o("0x18f")](r[o("0x1aa")]),a["webgl max vertex texture image units"]=r[o("0x18f")](r[o("0x1ab")]),a[o("0x1ac")]=r[o("0x18f")](r.MAX_VERTEX_UNIFORM_VECTORS),a[o("0x1ad")]=i(r.getParameter(r[o("0x1ae")])),a[o("0x1af")]=r.getParameter(r.RED_BITS),a[o("0x1b0")]=r[o("0x18f")](r[o("0x1b1")]),a[o("0x1b2")]=r[o("0x18f")](r[o("0x1b3")]),a[o("0x1b4")]=r.getParameter(r[o("0x1b5")]),a[o("0x1b6")]=r[o("0x18f")](r[o("0x1b7")]),a[o("0x1b8")]=r.getParameter(r.VERSION)
try{const e=r[o("0x19b")](o("0x1b9"))
e&&(a[o("0x1ba")]=r[o("0x18f")](e[o("0x1bb")]),a[o("0x1bc")]=r.getParameter(e[o("0x1bd")]))}catch(e){}return r[o("0x1be")]?(t[o("0xb")](["FLOAT",o("0x1bf")],(function(e){t[o("0xb")]([o("0x1c0"),"FRAGMENT"],(function(n){t[o("0xb")]([o("0x1c1"),o("0x1c2"),"LOW"],(function(i){t[o("0xb")](["precision",o("0x1c3"),"rangeMax"],(function(t){const s=r[o("0x1be")](r[n+"_SHADER"],r[i+"_"+e])[t]
o("0x1c4")!==t&&(t="precision "+t)
const c=["webgl ",n[o("0x1c5")]()," shader ",i[o("0x1c5")]()," ",e[o("0x1c5")]()," ",t][o("0x9f")]("")
a[c]=s}))}))}))})),a):a}static getWebglVendorAndRenderer(){try{const e=t.getWebglCanvas(),n=e[o("0x19b")]("WEBGL_debug_renderer_info")
return e[o("0x18f")](n.UNMASKED_VENDOR_WEBGL)+"~"+e[o("0x18f")](n.UNMASKED_RENDERER_WEBGL)}catch(e){return null}}static[o("0x1c6")](){const e=document[o("0xf8")](o("0xf9"))
e[o("0x1c7")]=o("0x1c8"),e[o("0x1c9")]=o("0x1ca")
let t=!1
try{document[o("0x76")][o("0x10d")](e),t=0===document[o("0x1cb")](o("0x1ca"))[0].offsetHeight,document[o("0x76")][o("0x10f")](e)}catch(e){t=!1}return t}static getHasLiedLanguages(){if(void 0!==navigator[o("0x1cc")])try{if(navigator[o("0x1cc")][0][o("0x1cd")](0,2)!==navigator.language.substr(0,2))return!0}catch(e){return!0}return!1}static[o("0xb3")](){return window.screen[o("0x146")]<window.screen[o("0x67")]||window[o("0x5b")].height<window.screen[o("0x68")]}static getHasLiedOs(){const e=navigator[o("0x3c")][o("0x1c5")]()
let t=navigator.oscpu
const n=navigator[o("0x141")][o("0x1c5")]()
let r
if(r=e[o("0xf7")]("windows phone")>=0?"Windows Phone":e[o("0xf7")](o("0x1ce"))>=0?o("0x1cf"):e[o("0xf7")]("android")>=0?"Android":e.indexOf(o("0x1d0"))>=0||e[o("0xf7")](o("0x1d1"))>=0?"Linux":e[o("0xf7")](o("0x1d2"))>=0||e[o("0xf7")](o("0x1d3"))>=0?o("0x1d4"):e.indexOf(o("0x1d5"))>=0?"Mac":o("0x1d6"),(o("0x144")in window||navigator[o("0x1d7")]>0||navigator[o("0x1d8")]>0)&&o("0x1d9")!==r&&o("0x1da")!==r&&o("0x1d4")!==r&&o("0x1d6")!==r)return!0
if(void 0!==t){if(t=t[o("0x1c5")](),t[o("0xf7")]("win")>=0&&o("0x1cf")!==r&&o("0x1d9")!==r)return!0
if(t[o("0xf7")]("linux")>=0&&o("0x1db")!==r&&"Android"!==r)return!0
if(t.indexOf(o("0x1d5"))>=0&&o("0x1dc")!==r&&o("0x1d4")!==r)return!0
if((-1===t[o("0xf7")](o("0x1ce"))&&-1===t.indexOf(o("0x1d0"))&&-1===t.indexOf(o("0x1d5")))!=(o("0x1d6")===r))return!0}return n[o("0xf7")]("win")>=0&&"Windows"!==r&&o("0x1d9")!==r||(n[o("0xf7")]("linux")>=0||n[o("0xf7")](o("0x1dd"))>=0||n.indexOf(o("0x1de"))>=0)&&o("0x1db")!==r&&"Android"!==r||(n[o("0xf7")](o("0x1d5"))>=0||n[o("0xf7")]("ipad")>=0||n.indexOf("ipod")>=0||n[o("0xf7")]("iphone")>=0)&&"Mac"!==r&&o("0x1d4")!==r||(n[o("0xf7")](o("0x1ce"))<0&&n[o("0xf7")](o("0x1d0"))<0&&n[o("0xf7")](o("0x1d5"))<0&&n[o("0xf7")](o("0x1d2"))<0&&n[o("0xf7")](o("0x1d3"))<0)!=(o("0x1d6")===r)||void 0===navigator[o("0x118")]&&o("0x1cf")!==r&&"Windows Phone"!==r}static[o("0xb5")](){const e=navigator[o("0x3c")].toLowerCase(),t=navigator.productSub
let n
if(n=e.indexOf(o("0x1df"))>=0?o("0x95"):e.indexOf(o("0x1e0"))>=0||e[o("0xf7")](o("0x1e1"))>=0?"Opera":e[o("0xf7")](o("0x1e2"))>=0?o("0x24"):e[o("0xf7")](o("0x1e3"))>=0?"Safari":e[o("0xf7")]("trident")>=0?"Internet Explorer":o("0x1d6"),("Chrome"===n||o("0x90")===n||o("0xa2")===n)&&o("0x1e4")!==t)return!0
const r=eval[o("0x8")]().length
if(37===r&&o("0x90")!==n&&o("0x95")!==n&&o("0x1d6")!==n)return!0
if(39===r&&o("0x1e5")!==n&&o("0x1d6")!==n)return!0
if(33===r&&"Chrome"!==n&&o("0xa2")!==n&&"Other"!==n)return!0
let i
try{throw"a"}catch(e){try{e[o("0x1e6")](),i=!0}catch(e){i=!1}}return i&&o("0x95")!==n&&o("0x1d6")!==n}static[o("0xa5")](){const e=document[o("0xf8")](o("0x145"))
return!(!e[o("0x148")]||!e[o("0x148")]("2d"))}static isWebGlSupported(){if(!t[o("0xa5")]())return!1
const e=t.getWebglCanvas()
return!!window[o("0x1e7")]&&!!e}static[o("0x117")](){return"Microsoft Internet Explorer"===navigator.appName||!(o("0x1e8")!==navigator[o("0x7f")]||!/Trident/[o("0x93")](navigator.userAgent))}static[o("0x1e9")](){return void 0!==window[o("0x1ea")]}static[o("0xb7")](){return window[o("0x1ea")][o("0x1eb")](o("0x1ec"))}static[o("0x1ed")](e){const t=document[o("0xf8")](o("0xf9"))
t.setAttribute("id",e[o("0xf5")][o("0x1ee")]),document[o("0x76")][o("0x10d")](t)}static[o("0xb9")](e,n){window[o("0x1ef")]=function(t){e(t)}
const r=n.fonts.swfContainerId
t[o("0x1ed")]()
const i={onReady:o("0x1ef")}
window[o("0x1ea")][o("0x1f0")](n[o("0xf5")][o("0xb8")],r,"1","1","9.0.0",!1,i,{allowScriptAccess:o("0x1f1"),menu:o("0x1f2")},{})}static getWebglCanvas(){const e=document[o("0xf8")]("canvas")
let t=null
try{t=e[o("0x148")](o("0x18a"))||e[o("0x148")]("experimental-webgl")}catch(e){}return t||(t=null),t}constructor(){this[o("0x1f3")]=[{key:o("0x1f4"),getData:t[o("0x2e")],shouldEnforceDataLimit:!0,dataLimit:1e3},{key:o("0x32"),getData:t.enumerateDevicesKey,shouldEnforceDataLimit:!0,dataLimit:22e3},{key:"appName",getData:t[o("0x7e")],shouldEnforceDataLimit:!0,dataLimit:45},{key:o("0x1f5"),getData:t[o("0x82")],shouldEnforceDataLimit:!0,dataLimit:20},{key:o("0x1f6"),getData:t[o("0x80")],shouldEnforceDataLimit:!0,dataLimit:150},{key:"appCodeName",getData:t[o("0x81")],shouldEnforceDataLimit:!0,dataLimit:15},{key:o("0x1f7"),getData:t[o("0xaa")],shouldEnforceDataLimit:!0,dataLimit:1500},{key:"javascripts",getData:t[o("0xa8")],shouldEnforceDataLimit:!0,dataLimit:2200},{key:o("0x141"),getData:t.platformKey,shouldEnforceDataLimit:!0,dataLimit:15},{key:"product",getData:t.productKey,shouldEnforceDataLimit:!0,dataLimit:12},{key:o("0x85"),getData:t[o("0x1f8")],shouldEnforceDataLimit:!0,dataLimit:15},{key:o("0x13f"),getData:t[o("0x7a")],shouldEnforceDataLimit:!0,dataLimit:15},{key:"oscpu",getData:t[o("0x7c")],shouldEnforceDataLimit:!0,dataLimit:60},{key:o("0x13e"),getData:t[o("0x13a")],alias:o("0x1f9"),shouldEnforceDataLimit:!0,dataLimit:10},{key:"deviceMemory",getData:t.deviceMemoryKey,shouldEnforceDataLimit:!0,dataLimit:25},{key:"vendor",getData:t[o("0x86")],shouldEnforceDataLimit:!0,dataLimit:50},{key:o("0x88"),getData:t[o("0x1fa")],shouldEnforceDataLimit:!0,dataLimit:10},{key:o("0x1fb"),getData:t.languageKey,shouldEnforceDataLimit:!0,dataLimit:12},{key:o("0x69"),getData:t[o("0x69")],shouldEnforceDataLimit:!0,dataLimit:5},{key:o("0x6b"),getData:t[o("0x6b")],shouldEnforceDataLimit:!0,dataLimit:30},{key:o("0x3c"),getData:t.UserAgent,shouldEnforceDataLimit:!0,dataLimit:1500},{key:"webdriver",getData:t[o("0x25")],shouldEnforceDataLimit:!0,dataLimit:7},{key:o("0x142"),getData:t[o("0x89")],shouldEnforceDataLimit:!0,dataLimit:10},{key:o("0x1fc"),getData:t.incognitoKey,shouldEnforceDataLimit:!0,dataLimit:7},{key:"colorDepth",getData:t[o("0x1fd")],shouldEnforceDataLimit:!0,dataLimit:5},{key:o("0x5c"),getData:t.pixelDepthKey,shouldEnforceDataLimit:!0,dataLimit:5},{key:o("0x1fe"),getData:t[o("0x1ff")],shouldEnforceDataLimit:!0,dataLimit:10},{key:o("0x200"),getData:t[o("0x5e")],shouldEnforceDataLimit:!0,dataLimit:25},{key:"screenOrientation",getData:t[o("0x60")],shouldEnforceDataLimit:!0,dataLimit:70},{key:"availableScreenResolution",getData:t[o("0x66")],shouldEnforceDataLimit:!0,dataLimit:30},{key:o("0x13c"),getData:t.sessionStorageKey,shouldEnforceDataLimit:!0,dataLimit:7},{key:o("0x13d"),getData:t[o("0x71")],shouldEnforceDataLimit:!0,dataLimit:7},{key:o("0x201"),getData:t[o("0x73")],shouldEnforceDataLimit:!0,dataLimit:7},{key:"addBehavior",getData:t[o("0x75")],shouldEnforceDataLimit:!0,dataLimit:7},{key:o("0x79"),getData:t[o("0x78")],shouldEnforceDataLimit:!0,dataLimit:7},{key:o("0x145"),getData:t[o("0xa4")],shouldEnforceDataLimit:!0,dataLimit:90},{key:"webgl",getData:t.webglKey,shouldEnforceDataLimit:!0,dataLimit:6e3},{key:o("0x202"),getData:t[o("0xb1")],shouldEnforceDataLimit:!0,dataLimit:150},{key:o("0x203"),getData:t.touchSupportKey,shouldEnforceDataLimit:!0,dataLimit:90},{key:o("0x204"),getData:t[o("0x135")],shouldEnforceDataLimit:!0,dataLimit:150},{key:o("0x205"),getData:t[o("0x130")],shouldEnforceDataLimit:!0,dataLimit:100},{key:o("0x3a"),getData:t[o("0x206")],shouldEnforceDataLimit:!0,dataLimit:30},{key:o("0x207"),getData:t[o("0x208")],shouldEnforceDataLimit:!0,dataLimit:36},{key:o("0x118"),getData:t[o("0x209")],shouldEnforceDataLimit:!0,dataLimit:17e3},{key:"mimetyps",getData:t[o("0x113")],shouldEnforceDataLimit:!0,dataLimit:27e3},{key:o("0xf5"),getData:t[o("0xbd")],shouldEnforceDataLimit:!0,dataLimit:1500},{key:o("0x20a"),getData:t.flashFontsKey,shouldEnforceDataLimit:!0,dataLimit:100}]}getFeatures(e,t){if("function"!=typeof e)return
if(!t)return e({error:"Options not provided"})
let n={data:{latency:{acq_time:{}},errors:{}}},r=Date[o("0x83")](),i={},a=0,s=0
this[o("0x1f3")][o("0xd")]((function(c){if(t[o("0x20b")][c[o("0x20c")]])return
let d=c[o("0x20c")]
void 0!==c[o("0x20d")]&&null!==c.alias&&c[o("0x20d")][o("0x6")]>0&&(d=c[o("0x20d")]),a++
const u=()=>{i[d]=Date[o("0x83")]()
try{c.getData((function(t){if(!1!==c[o("0x20e")]){let e=c[o("0xe")](o("0x20f"))&&o("0x210")==typeof c[o("0x20f")]?c[o("0x20f")]:1e3
const r=JSON[o("0x211")](t).length
r>e&&(n.data[o("0x212")][d]=o("0x213")+e+o("0x214")+d+o("0x215")+r,t={})}n[o("0x216")][d]=t,n[o("0x216")][o("0x217")].acq_time[d]=Date[o("0x83")]()-i[d],s++,s>=a&&(n.data[o("0x217")][o("0x218")][o("0x219")]=Date.now()-r,e(n[o("0x216")],!0))}),t)}catch(e){n.data.errors[d]=String(e)}}
"function"==typeof window.requestIdleCallback?window[o("0x21a")](u):u()})),n[o("0x216")].latency.acq_time[o("0x219")]=Date[o("0x83")]()-r,e(n[o("0x216")],!1)}}function n(e){let t=arguments[o("0x6")]>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2]
const r=n?n[o("0x21b")]("#"+e):document[o("0x21c")](e)
if(r){const n=r[o("0x21d")][o("0x21e")]
if(t&&r[o("0x21f")].removeChild(r),n)try{return JSON[o("0x220")](n)}catch(e){return}}}class r{static[o("0x221")](e){const t=new ArrayBuffer(e[o("0x6")]),n=new Uint8Array(t)
for(let t=0,r=e.length;t<r;t++)n[t]=e[o("0x7")](t)
return t}static[o("0x222")](e){return window[o("0x223")](String[o("0x224")].apply(null,e))}static[o("0x225")](e,t,n){const i=window[o("0x226")](t),a=r[o("0x221")](i)
return window[o("0x227")][o("0x228")][o("0x229")](e,a,{name:o("0x22a"),hash:"SHA-256"},!0,n)}static[o("0x22b")](e,t){return r[o("0x225")](o("0x22c"),t,["wrapKey"]).then((t=>window.crypto[o("0x228")].wrapKey(o("0x22d"),e,t,{name:o("0x22a")}))).then((e=>r[o("0x222")](new Uint8Array(e))))}static[o("0x22e")](e){const t={a:null,b:null,c:null}
return t[o("0x22f")]=e,t}static[o("0x230")](e,t,n){const i={a:null,b:null,c:null}
try{let a=Date[o("0x83")]()
if(o("0x231")!=typeof t||"number"!=typeof n)throw new Error(o("0x232"))
const s=window[o("0x227")][o("0x233")](new Uint8Array(16))
i.a=r[o("0x222")](s)
const c=(new TextEncoder).encode(e),d=o("0x234")
return window[o("0x227")][o("0x228")][o("0x235")]({name:d,length:256},!0,[o("0x236"),"decrypt"]).then((e=>window[o("0x227")][o("0x228")][o("0x236")]({name:d,iv:s},e,c)[o("0x1f")]((s=>r.wrap(e,t)[o("0x1f")]((e=>(i.b=e,i.c=r[o("0x222")](new Uint8Array(s)),i.d=Date[o("0x83")]()-a,i.e=n,i)))))))[o("0x38")]((e=>(i.error=String(e),i)))}catch(e){return i[o("0x22f")]=String(e),Promise[o("0x237")](i)}}static[o("0x238")](e,t,i,a){if(o("0x231")!=typeof t||"string"!=typeof i)return Promise[o("0x237")](r.wrapErrorResult(o("0x239")))
let s=n(t),c=parseInt(n(i))
return(o("0x231")!=typeof s||"number"!=typeof c||Number.isNaN(c))&&(s=a?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqyVTa3Pi5twlDxHc34nl3MlTHOweIenIid6hDqVlh5/wcHzIxvB9nZjObW3HWfwqejGM+n2ZGbo9x8R7ByS3/V4qRgAs1z4aB6F5+HcXsx8uVrQfwigK0+u7d3g1s7H8qUaguMPHxNnyj5EisTJBh2jf9ODp8TpWnhAQHCCSZcDM4JIoIlsVdGmv+dGlzZzmf1if26U4KJqFdrqS83r3nGWcEpXWiQB+mx/EX4brbrhOFCvfPovvsLEjMTm0UC68Bvki3UsB/vkkMPW9cxNiiJJdnDkOEEdQPuFmPug+sqhACl3IIHLVBFM7vO0ca14rcCNSbSDaaKOY6BQoW1A30wIDAQAB":o("0x23a"),c=a?2:1),r[o("0x230")](e,s,c)}static encryptWithKeyFromDifferentSources(e,t,n,i,a){return null!=i&&o("0x231")==typeof i[o("0x23b")]&&o("0x210")==typeof i[o("0x23c")]?r[o("0x230")](e,i[o("0x23b")],i[o("0x23c")]):r[o("0x238")](e,t,n,a)}static[o("0x23d")](){return([1e7]+-1e3+-4e3+-8e3+-1e11)[o("0xa0")](/[018]/g,(e=>(e^window.crypto[o("0x233")](new Uint8Array(1))[0]&15>>e/4)[o("0x8")](16)))}}const i=o("0x23e"),a={preprocessor:null,audio:{timeout:1e3,excludeIOS11:!0},fonts:{swfContainerId:o("0x23f"),swfPath:o("0x240"),userDefinedFonts:[],extendedJsFonts:void 0,hashOnly:!1},screen:{detectScreenOrientation:!0},plugins:{sortPluginsFor:[/palemoon/i],excludeIE:!1},webgl:{hashOnly:!1},ponfUrl:o("0x241"),telemetryCollectPath:o("0x242"),extraComponents:[],excludes:{pixelRatio:!0,doNotTrack:!0,fontsFlash:!0},debug:!1,NOT_AVAILABLE:"n/a",ERROR:o("0x243"),EXCLUDED:"excluded"}
class s{constructor(e,t){void 0!==t&&void 0!==e&&o("0x244")===e[o("0x245")]?"complete"===document[o("0x246")]?this[o("0x247")](a,t):window[o("0x248")]("load",(()=>{this.intializeGlobalIntegration(a,t)})):void 0!==e?this[o("0x249")](a,e):o("0x1b")===document.readyState?this[o("0x249")](a):window[o("0x248")](o("0x24a"),(()=>{this[o("0x249")](a)}))}[o("0x249")](e,i){if(null!=i||null!=n(o("0x24b"))){this[o("0x24e")](e,i)
var a=this[o("0x24f")],s=this[o("0x250")],c=this[o("0x251")]()
return(new t).getFeatures((function(t,n){t[o("0x24f")]=a,t.pageInstance=s,t[o("0x252")]=n,r[o("0x253")](JSON.stringify(t),o("0x24b"),o("0x254"),i,c)[o("0x1f")]((t=>{globalThis.apfcDf=t,!0===n&&function(e,t,n){let r=new XMLHttpRequest,i=o(n?"0x255":"0x256")
i+=String(t),r[o("0x96")](o("0x257"),i),r[o("0x258")](o("0x259"),o("0x25a")),r[o("0x25b")](e)}(JSON[o("0x211")](t),e.telemetryCollectPath,c)}))}),e)}globalThis[o("0x24c")]=this[o("0x24d")]}[o("0x247")](e,n){return(new t)[o("0x25c")]((function(e,t){!0===t&&r[o("0x238")](JSON[o("0x211")](e),"apfcDfPK",o("0x254")).then((e=>{n(i,JSON[o("0x211")](e))}))}),e)}}s[o("0xc")][o("0x24d")]=function(e){globalThis[o("0x24c")]=null,new s(e)},s[o("0xc")][o("0x25d")]=function(e){globalThis[o("0x25e")]=null,new s({globalIntegration:o("0x244")},e)},s[o("0xc")][o("0x251")]=function(){const e=location&&location.host
return e&&e.indexOf(o("0x25f"))>-1&&!e.startsWith(o("0x260"))},s[o("0xc")][o("0x261")]=function(){var e=[]
return[...document[o("0x1cb")]("div_bc")][o("0xd")]((t=>{[...t[o("0x262")](o("0x263"))][o("0xd")]((t=>{let n=t.innerHTML
if(n){var r=(new DOMParser)[o("0x264")](n,o("0x265"))
r&&[...r.getElementsByClassName("bc")][o("0xd")]((t=>{e.push({src:t.getAttribute(o("0x266")),style:t[o("0x27")](o("0xfa")),class:t[o("0x27")](o("0x267")),width:t[o("0x27")](o("0x146")),height:t[o("0x27")](o("0x65"))})}))}}))})),0===e[o("0x6")]?null:e[0]},s[o("0xc")].placePonfBeacon=function(e,t){if(null==e)return
var n,i,a="bc",s=o("0x268"),c="1",d="1",u=e[o("0x269")]
if(this[o("0x24f")]=null,this[o("0x250")]=null,null!==(n=this[o("0x261")]())){a=n[o("0x267")],s=n[o("0xfa")],c=n[o("0x146")],d=n[o("0x65")]
let e=new URL(n.src)
u=e[o("0x26a")]+"//"+e[o("0xac")]+e[o("0x26b")],this[o("0x24f")]=e.searchParams.get("reqid"),this[o("0x250")]=e[o("0x26c")][o("0x26d")]("pageInstance")}else if(void 0!==(i=function(e){let t=arguments[o("0x6")]>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2]
const r=n?n.querySelector("#"+e):document[o("0x21c")](e)
if(r){const n=r[o("0x21d")].nodeValue
if(t&&r.parentNode[o("0x10f")](r),n)try{let e=n
return"'"!==e.charAt(0)&&'"'!==e[o("0x26e")](0)||(e=e[o("0x26f")](1,e[o("0x6")]-1)),JSON[o("0x220")](e)}catch(e){return}}}(o("0x270"))))this[o("0x24f")]=void 0===i.reqid?null:i[o("0x24f")],this[o("0x250")]=i[o("0x250")]
else{if(void 0===t)return
this.pageInstance=t[o("0x250")]}this[o("0x251")]()||(u=u[o("0xa0")](/\.linkedin\.com/,".linkedin-ei.com")),null===this[o("0x24f")]&&(this[o("0x24f")]=r[o("0x23d")]())
let l=u+"?"+new URLSearchParams({reqid:this.reqid,pageInstance:this[o("0x250")],js:o("0x244")}).toString(),p=document.getElementsByClassName(o("0x271"))[0]
null==p&&(p=document[o("0xf8")](o("0xf9")),p[o("0x272")]("id",this.reqid),document[o("0x76")][o("0x10d")](p))
let f=document[o("0xf8")](o("0x273"))
f.src=l,f[o("0xfa")]=s,f[o("0x1c9")]=a,f[o("0x146")]=c,f[o("0x65")]=d,p[o("0x10d")](f)},o("0x274")!=typeof globalThis&&"undefined"!=typeof document&&o("0x274")!=typeof window&&(globalThis[o("0x25e")]=s[o("0xc")][o("0x25d")],new s)}()
class s{static isInitialized(){return Boolean("undefined"!=typeof globalThis&&void 0!==globalThis.triggerApfc&&null!==globalThis.triggerApfc)}static setDf(e){globalThis.triggerApfc(e)}}class c{static collectFeatures(e,t){try{"undefined"!=typeof globalThis&&"undefined"!=typeof document&&"undefined"!=typeof window&&"undefined"!==globalThis.triggerDnaApfcEvent&&globalThis.triggerDnaApfcEvent(t)}catch(e){}}}},57727:(e,t,n)=>{"use strict"
function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}n.r(t),n.d(t,{NON_ESSENTIAL_CATEGORIES:()=>y,USER_MODE:()=>v,getBannerData:()=>N,getCookieConsent:()=>O,parseEncodedConsent:()=>M,updateCookieConsent:()=>P})
var o=new RegExp("urn:[^:]+:([a-z]\\w*)(?::(.+))?"),s=/^fs_/
function c(e){if("string"!=typeof e)throw new TypeError("URNs must be of type string, but the parameter passed to extractEntityInfoFromUrn was of type "+typeof e+".")
var t,n,r=o.exec(e)
return r&&(t=r[1].replace(s,""),n=r[2]),{id:n,type:t}}var d,u,l,p,f,h,m=/(?![^(]*\)),/,g=function e(t){var n=c(t),r=n.id,i=n.type,a={}
if("("===r.charAt(0)){for(var o,s=r.substring(1,r.length-1).split(m),d=0;o=s[d];++d)0===o.indexOf("urn")&&(s[d]=e(o))
r=s}return a[i]=r,a},y={ADVERTISING:"ADVERTISING",ANALYTICS_AND_RESEARCH:"ANALYTICS_AND_RESEARCH",FUNCTIONAL:"FUNCTIONAL"},v={GUEST:"GUEST",MEMBER:"MEMBER",ENTERPRISE_UNBOUND:"ENTERPRISE_UNBOUND"},b=(i(d={},v.GUEST,"li_gc"),i(d,v.MEMBER,"li_mc"),i(d,v.ENTERPRISE_UNBOUND,"li_ec"),d),T=(i(u={},v.GUEST,"mypreferences/g/guest-cookies"),i(u,v.MEMBER,"settings/member-cookies"),i(u,v.ENTERPRISE_UNBOUND,"mypreferences/e/enterprise-cookies"),u),_="liap",E=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null
for(var o in r(this,e),t=t||{},this.consentAvailable=!1,this.issuedAt=n,this.userMode=i,this.optedInConsentMap={},y)t[o]=t[o]||0,0!==t[o]&&(this.consentAvailable=!0),this.optedInConsentMap[o]=1===t[o]||0===t[o]&&1===a},x=(l=[y.ADVERTISING,y.ANALYTICS_AND_RESEARCH,y.FUNCTIONAL],p=[0,1,2,0],f=function(e){for(var t={},n=0;n<l.length;n++)t[l[n]]=p[e>>2*n&3]
return t},h=function(e){var t=0
return e>=0&&e<=3&&(t=p[e]),t},{parseConsentBody:function(e,t){var n=new RegExp(["^(\\d+)","(\\d+)","(\\d+)","((?:.|\\s)+)"].join(";")),r=e.match(n)
if(!r)return{error:"Invalid consent body encoding",consent:new E}
var i=f(parseInt(r[1],10)),a=new Date(1e3*parseInt(r[2],10)),o=h(parseInt(r[3],10))
return{error:null,consent:new E(i,a,t,o)}},parseConsentBodyEnterpriseUnbound:function(e,t,n){var r=function(e){try{var t=g(e)
if(t&&t.enterpriseProfile&&t.enterpriseProfile.length>=2&&t.enterpriseProfile[0].enterpriseAccount)return{enterpriseAccountId:parseInt(t.enterpriseProfile[0].enterpriseAccount,10),enterpriseProfileId:parseInt(t.enterpriseProfile[1],10)}}catch(e){return null}return null}(t)
if(!r)return{error:"Invalid enterprise profile urn provided",consent:new E}
var i=r.enterpriseAccountId,o=r.enterpriseProfileId,s=new RegExp(["^((?:\\d+,\\d+,\\d+,\\d+,\\d+)(?:\\|(?:\\d+,\\d+,\\d+,\\d+,\\d+))*)","(\\d+)","(\\d+)","(?:(?:.|\\s)+)$"].join(";")),c=e.match(s)
if(!c)return{error:"Invalid consent body encoding",consent:new E}
var d=c[1].split("|").map((function(e){return e.split(",").map((function(e){return parseInt(e,10)}))})).filter((function(e){var t,r=(4,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0
try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),4!==n.length);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(t)||function(e,t){if(e){if("string"==typeof e)return a(e,4)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,4):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=r[1],c=r[2],d=r[3]
return s===i&&c===o&&d===n}))[0]
if(!d)return{error:null,consent:new E}
var u=f(d[0]),l=new Date(1e3*parseInt(c[2],10)),p=h(parseInt(c[3],10))
return{error:null,consent:new E(u,l,v.ENTERPRISE_UNBOUND,p)}}}),S=new RegExp(["^(\\d+)","((?:.|\\s)+)"].join(";")),C=function(e,t){var n=t.match(new RegExp("(?:^|; *)".concat(e,"=([^;]*)")))
return n&&n.length>1?n[1]:null},A=function(e,t,n,r){var i=C(b[e],t)
return i?M(i,e,n,r):C(b[v.GUEST],t)||C(b[v.MEMBER],t)||C(b[v.ENTERPRISE_UNBOUND],t)?k(2):k(1)},k=function(e){var t={}
for(var n in y)t[n]=e
return{error:null,consent:new E(t,null,null,e)}},I=function(){var e=document.domain.match(/^(?:|.*\.)([^\.]+\.[^\.]+)$/)
return e?e[1]:"linkedin-ei.com"},R=function(e,t){var n=T[e],r=t.enterpriseProfileHash,i=t.enterpriseAppInstanceId,a=new URLSearchParams
e===v.ENTERPRISE_UNBOUND&&(r&&a.append("p",r),i&&a.append("iid",i))
var o=Array.from(a).length?"?"+a.toString():""
return"https://www.".concat(I(),"/").concat(n).concat(o)},w=function(){return"undefined"==typeof document},M=function(e,t,n,r){e&&e.length>1&&'"'==e.charAt(0)&&'"'==e.charAt(e.length-1)&&(e=e.substring(1,e.length-1))
var i,a=null
try{a=(i=e,"undefined"==typeof atob&&"undefined"!=typeof Buffer?Buffer.from(i,"base64").toString("binary"):atob(i)).match(S)}catch(e){}if(!a)return{error:"Invalid consent encoding",consent:new E}
var o=parseInt(a[1],10),s=a[2]
return 1===o?t===v.ENTERPRISE_UNBOUND?x.parseConsentBodyEnterpriseUnbound(s,n,r):x.parseConsentBody(s,t):{error:"Invalid encoded consent version ".concat(o),consent:new E}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.enterpriseProfileUrn,i=n.enterpriseAppInstanceId
if("string"!=typeof t){if(w())return{error:"cookie string must be provided in SSR mode",consent:new E}
t=document.cookie}if(r&&!i||!r&&i)return{error:"enterpriseProfileUrn and enterpriseAppInstanceId must both be provided if at least one is provided",consent:new E}
if(!(e!==v.ENTERPRISE_UNBOUND||r&&i))return{error:"enterpriseProfileUrn and enterpriseAppInstanceId are required for unbound userMode",consent:new E}
if(!e){var a=C(b[v.ENTERPRISE_UNBOUND],t)
if(a&&r&&i){var o=M(a,v.ENTERPRISE_UNBOUND,r,i),s=o.consent.userMode===v.ENTERPRISE_UNBOUND
if(s||o.error)return o}e=C(_,t)?C(b[v.MEMBER],t)?v.MEMBER:v.GUEST:C(b[v.GUEST],t)?v.GUEST:v.MEMBER}return A(e,t,r,i)},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=O(e,document.cookie,t),r=n.consent,i=e||r.userMode||v.GUEST
return{showBanner:!n.error&&!r.consentAvailable,userMode:i,managePreferenceUrl:R(i,t)}},P=function(e,t){var n=e.optedInConsentMap,r=e.updateSettings,i=e.userMode,a=e.xLiTrackPayload,o=e.enterpriseContext||{},s=o.enterpriseProfileHash,c=o.enterpriseAppInstanceId
t=t||function(e,t){}
var d=C(b[v.ENTERPRISE_UNBOUND],document.cookie)
n||t("optedInConsentMap is a required option",null)
var u=new XMLHttpRequest,l=new URLSearchParams
d&&c&&l.append("appInstanceId",c)
var p=Array.from(l).length?"?"+l.toString():""
u.open("POST","https://www.".concat(I(),"/cookie-consent/").concat(p)),u.setRequestHeader("Content-Type","application/json"),a&&u.setRequestHeader("X-LI-Track",a),d&&s&&u.setRequestHeader("x-li-identity",s),u.withCredentials=!0,u.onload=function(){200!==u.status?t("Request failed with status ".concat(u.status),null):t(null,u)},u.onerror=function(){t("Request failed with an error",u)}
var f={UPDATE_SETTINGS:r,USER_MODE:i,CATEGORIES:{}}
for(var h in y){var m=void 0
!0===n[h]?m=1:!1===n[h]&&(m=2),f.CATEGORIES[h]=m}u.send(JSON.stringify(f))}},74319:(e,t,n)=>{"use strict"
var r
n.r(t),n.d(t,{CALL_TREE_ID_HEADER_NAME:()=>h,DEGRADATION_TRACKING_EVENT_FIELD:()=>_,DEGRADATION_TRACKING_EVENT_NAME:()=>l,DOWNSTREAM_REQUEST_FIELD:()=>E,DegradationTrackingMetadata:()=>j,DegradationTrackingMetadataOptionName:()=>P,FABRIC_HEADER_NAME:()=>y,FEATURE_DEGRADATION_METRIC_EVENT_NAME:()=>p,FailureTrackingMetadata:()=>$,INSTRUMENTATION_GUIDE_PROMPT:()=>u,InternalFailureProcessingMetadata:()=>X,InternalFeatureDegradationMetricEventProducer:()=>A,InternalFeatureDegradationMetricStore:()=>N,InvalidArgumentError:()=>D,JET_UNCLASSIFIED_ERROR_TAG:()=>S,METRIC_EMISSION_INTERVAL_IN_MS:()=>x,MICROSOFT_EDGE_REFERENCE_HEADER_NAME:()=>g,PEM_METADATA_HEADER_NAME:()=>b,PEM_RESPONSE_METADATA_HEADER_NAME:()=>v,PEM_RESPONSE_METATADA_HEADER_AVAILABILITY_KEY:()=>T,POINT_OF_PRESENCE_ID_HEADER_NAME:()=>m,ParsedResponseHeaders:()=>Q,PemTrackingService:()=>ee,RESPONSE_HEADERS:()=>f,ResponseDetails:()=>Y,RetryableDegradationTrackingMetadata:()=>q,SUPPORTED_DEGRADATION_TRACKING_METADATA_OPTIONS:()=>U,calculateSuccessfulDownstreamCallsRatio:()=>z,createDegradeEvents:()=>K,determineResponseErrorType:()=>G,generateSpanSuffix:()=>W,parseDownstreamEndpointPathname:()=>V,refineServerErrorType:()=>H,teardown:()=>Z,validateKey:()=>B,validateProductName:()=>F})
var i=new Uint8Array(16)
function a(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")
return r(i)}const o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,s=function(e){return"string"==typeof e&&o.test(e)}
for(var c=[],d=0;d<256;++d)c.push((d+256).toString(16).substr(1))
const u="See https://go/pem/degradation-tracking-user-guide for instrumentation instructions",l="FeatureDegradeEvent",p="FeatureDegradationMetricEvent",f={CALL_TREE_ID:"x-li-uuid",POINT_OF_PRESENCE_ID:"x-li-pop",MICROSOFT_EDGE_REFERENCE:"x-msedge-ref",FABRIC:"x-li-fabric",PEM_RESPONSE_METADATA:"x-li-pem-resp-meta",CONTENT_TYPE:"content-type",CDN_CACHE:"x-cache"},h=f.CALL_TREE_ID,m=f.POINT_OF_PRESENCE_ID,g=f.MICROSOFT_EDGE_REFERENCE,y=f.FABRIC,v=f.PEM_RESPONSE_METADATA,b="X-LI-PEM-Metadata",T="availability",_={featureKey:"featureKey",productName:"productName",downstreamRequests:"downstreamRequests"},E={degradationKey:"degradationKey",degradationReason:"degradationReason",responseCode:"responseCode",endpointPath:"endpointPath",callTreeId:"responseCallTreeId"},x=6e4,S="pem-unclassified-error"
class C{constructor(e,t){this._collectedFeatureMetrics=e,this._fireEventCallback=t}}class A extends C{produceMetricEvent(e){this._collectedFeatureMetrics.flushMetrics().forEach((t=>{const n=[]
t.featureCallCounts.forEach((e=>{n.push({featureProductName:e.featureMetricIdentifier.productName,featureKey:e.featureMetricIdentifier.featureKey,degradedDownstreamCallCount:0,totalDownstreamCallCount:e.totalApiCallCount,retriedDownstreamCallCount:e.retriedApiCallCount,retriedSuccessfulDownstreamCallsRatio:e.retriedSuccessfulCallsRatio,pointOfPresenceId:e.featureMetricIdentifier.pointOfPresenceId,responseErrorTypeV2:e.featureMetricIdentifier.responseErrorType,successfulDownstreamCallsRatio:e.successfulApiCallsRatio,metricKey:{featureProductName:e.featureMetricIdentifier.productName,featureKey:e.featureMetricIdentifier.featureKey,pointOfPresenceId:e.featureMetricIdentifier.pointOfPresenceId,responseErrorTypeV2:e.featureMetricIdentifier.responseErrorType,responseFabric:e.featureMetricIdentifier.responseFabric}})}))
const r={header:{},requestHeader:{},time:Date.now(),metrics:n}
this._fireEventCallback(p,r,t.pageInstance,e)}))}}class k{constructor(e){this._featureCallCounts=new Map,this._pageInstance=e}get pageInstance(){return this._pageInstance}get featureCallCounts(){return this._featureCallCounts}}class I{constructor(e){this.featureMetricIdentifier=e}}function R(e){return JSON.stringify(e,Object.keys(e).sort())}class w extends k{trackSuccessfulFeatureApiCall(e){this.trackMetric(e,(e=>{e.successfulApiCallsRatio+=1,e.totalApiCallCount++}))}trackFailedFeatureApiCall(e,t){this.trackMetric(e,(e=>{e.successfulApiCallsRatio+=t,e.totalApiCallCount++}))}trackRetriedFeatureApiCall(e,t){this.trackMetric(e,(e=>{e.retriedApiCallCount++,e.retriedSuccessfulCallsRatio+=t}))}trackRetriedSuccessfulFeatureApiCall(e){this.trackMetric(e,(e=>{e.successfulApiCallsRatio++,e.totalApiCallCount++}))}changeRetriedMetricsToTotal(){this.featureCallCounts.forEach((e=>e.changeCallCountsFromRetriedToTotal()))}trackMetric(e,t){const n=R(e)
if(this.featureCallCounts.has(n))t(this.featureCallCounts.get(n))
else{const r=new M(e)
t(r),this.featureCallCounts.set(n,r)}}}class M extends I{constructor(){super(...arguments),this.successfulApiCallsRatio=0,this.totalApiCallCount=0,this.retriedApiCallCount=0,this.retriedSuccessfulCallsRatio=0}mergeCallCounts(e){return this.successfulApiCallsRatio+=e.successfulApiCallsRatio,this.totalApiCallCount+=e.totalApiCallCount,this.retriedApiCallCount+=e.retriedApiCallCount,this.retriedSuccessfulCallsRatio+=e.retriedSuccessfulCallsRatio,this}changeCallCountsFromRetriedToTotal(){this.totalApiCallCount+=this.retriedApiCallCount,this.successfulApiCallsRatio+=this.retriedSuccessfulCallsRatio,this.retriedApiCallCount=0,this.retriedSuccessfulCallsRatio=0}}class O{flushMetrics(){const e=[...this.metrics.values()]
return this.metrics=new Map,e}}class N extends O{constructor(){super(...arguments),this.metrics=new Map}incrementSuccessfulFeatureApiCall(e,t){this.incrementMetric(t,(t=>t.trackSuccessfulFeatureApiCall(e)))}incrementFailedFeatureApiCall(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0
this.incrementMetric(t,(t=>t.trackFailedFeatureApiCall(e,n)))}incrementRetriedFeatureApiCall(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0
this.incrementMetric(t,(t=>t.trackRetriedFeatureApiCall(e,n)))}incrementRetriedSuccessfulApiCall(e,t){this.incrementMetric(t,(t=>t.trackRetriedSuccessfulFeatureApiCall(e)))}mergeMetricsFrom(e){e.metrics.forEach(((e,t)=>{const n=this.metrics.get(t)
void 0!==n?e.featureCallCounts.forEach(((e,r)=>{var i
let a=n.featureCallCounts.get(r)
void 0!==a?a=a.mergeCallCounts(e):null===(i=this.metrics.get(t))||void 0===i||i.featureCallCounts.set(t,e)})):this.metrics.set(t,e)}))}changeRetriedMetricsToTotal(){this.metrics.forEach((e=>e.changeRetriedMetricsToTotal()))}incrementMetric(e,t){const n=R(e)
if(this.metrics.has(n))t(this.metrics.get(n))
else{const r=new w(e)
t(r),this.metrics.set(n,r)}}}var P
!function(e){e.ProductName="productName",e.AdditionalDegradedResponseCodes="additionalDegradedResponseCodes",e.NonDegradedResponseCodes="nonDegradedResponseCodes",e.DegradationKeyOverrides="degradationKeyOverrides",e.ClientSensorGroupName="clientSensorGroupName",e.EnablePerformanceMeasurement="enablePerformanceMeasurement",e.CustomTrackingId="customTrackingId",e.DisableAvailabilityCalculation="disableAvailabilityCalculation",e.EnableSessionRecording="enableSessionRecording"}(P||(P={}))
const U=new Set(Object.values(P))
class D extends Error{constructor(e){super(e),Object.setPrototypeOf(this,D.prototype)}}function L(e){return 0===e.length||!e.trim()}function F(e){if("string"!=typeof e)throw new D(`The product name must be a string. ${u}.`)
if(L(e))throw new D(`No product name was specified. Please configure a defaultProductName or specify it per instrumented API call. ${u}.`)
if(/[^a-zA-Z0-9-_ \\/]/.test(e))throw new D(`Product name '${e}' can only contain alphanumeric, underscores (_), spaces ( ), dashes (-) and forward slashes (/). ${u}.`)
return e}function B(e){if("string"!=typeof e)throw new D(`Keys must be strings. ${u}.`)
if(L(e))throw new D(`Keys should not be blank. ${u}.`)
if(/[^a-z0-9-]/.test(e))throw new D(`'${e}' can only contain lowercase alphanumeric characters and dashes (-). ${u}.`)
return e}class j{constructor(e,t,n){var r,i,a
if(this._shouldEnablePerformanceMeasurement=!1,this._shouldDisableAvailabilityCalculation=!1,this._shouldRecordSession=!1,this._featureKey=B(e),this._defaultDegradationKey=B(t),!n)return this._additionalDegradedResponseCodes=[],this._nonDegradedResponseCodes=[],void(this._degradationKeyOverrides=[])
if("object"!=typeof n)throw new D(`DegradationTrackingMetadata options should be an object. ${u}.`)
const o=n.productName
o&&(this._productName=F(o))
const s=n.additionalDegradedResponseCodes,c=n.nonDegradedResponseCodes
!function(e,t){const n=(e,t)=>{if("number"!=typeof(n=e)||!isFinite(n)||Math.floor(n)!==n||e<=0||e>999)throw new D(`Please only specify positive integer response codes between 1 and 999 for the ${t} option. ${e} was specified. ${u}.`)
var n
if(429===e||999===e)throw new D(`PEM does not consider 429 and 999 API responses indications of the real member experience because it represents LinkedIn throttling abusive requests. We drop 429s and 999s by default, so please remove them from your ${t} options.`)
if(t===P.NonDegradedResponseCodes&&e>=400&&e<500)throw new D(`For server responses that have a status code, PEM does not consider 4xx as degraded. ${e} is not considered a degradation unless you explicitly add it to the ${P.AdditionalDegradedResponseCodes} option. Please remove ${e} from the ${P.NonDegradedResponseCodes} option. ${u}.`)}
if(void 0!==e&&!Array.isArray(e))throw new D(`Please specify an array of positive integer response codes between 1 and 999 for the response codes that shouldn't be counted as degraded for the ${P.NonDegradedResponseCodes} option. ${u}.`)
if(void 0!==t&&!Array.isArray(t))throw new D(`Please specify an array of positive integer response codes between 1 and 999 for the response codes that should only be considered as the degraded state(s) for the ${P.AdditionalDegradedResponseCodes} option. ${u}.`)
null==e||e.forEach((e=>n(e,P.NonDegradedResponseCodes))),null==t||t.forEach((e=>n(e,P.AdditionalDegradedResponseCodes)))
const r=new Set(t),i=new Set(e)
if([...r].some((e=>i.has(e))))throw new D(`Response codes can't be both degraded and non-degraded. Please ensure that your additionalDegradedResponseCodes and nonDegradedResponseCodes don't have any overlapping response codes. ${u}.`)}(c,s),this._nonDegradedResponseCodes=c||[],this._additionalDegradedResponseCodes=s||[],this._degradationKeyOverrides=n.degradationKeyOverrides||[],this._clientSensorGroupName=n.clientSensorGroupName,this._shouldEnablePerformanceMeasurement=null!==(r=n.enablePerformanceMeasurement)&&void 0!==r&&r,this._customTrackingId=n.customTrackingId,this._shouldDisableAvailabilityCalculation=null!==(i=n.disableAvailabilityCalculation)&&void 0!==i&&i,this._shouldRecordSession=null!==(a=n.enableSessionRecording)&&void 0!==a&&a,function(e){Object.keys(e).forEach((e=>{if(!U.has(e))throw new D(`An unsupported degradation tracking option '${e}' was provided. Please fix or remove it. ${u}`)}))}(n)}static isDegradationTrackingMetadata(e){return null!=e&&Object.getOwnPropertyNames(j.prototype).every((t=>Object.hasOwnProperty.call(Object.getPrototypeOf(e),t)))}get featureKey(){return this._featureKey}get defaultDegradationKey(){return this._defaultDegradationKey}get degradationKey(){return this._defaultDegradationKey}get productName(){return this._productName}get additionalDegradedResponseCodes(){return this._additionalDegradedResponseCodes}get nonDegradedResponseCodes(){return this._nonDegradedResponseCodes}get degradationKeyOverrides(){return this._degradationKeyOverrides}get clientSensorGroupName(){return this._clientSensorGroupName}get shouldEnablePerformanceMeasurement(){return this._shouldEnablePerformanceMeasurement}get customTrackingId(){return this._customTrackingId}get shouldDisableAvailabilityCalculation(){return this._shouldDisableAvailabilityCalculation}get shouldRecordSession(){return this._shouldRecordSession}}class q{constructor(e){this._degradationTrackingMetadata=e,this._featureMetricStore=new N,this._lastRequestMetricStore=new N,this._requestsMade=0,this._trackingId=function(e,t,n){var r=(e=e||{}).random||(e.rng||a)()
if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0
for(var i=0;i<16;++i)t[n+i]=r[i]
return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase()
if(!s(n))throw TypeError("Stringified UUID is invalid")
return n}(r)}()}static isRetryableDegradationTrackingMetadata(e){return null!=e&&Object.getOwnPropertyNames(q.prototype).every((t=>Object.hasOwnProperty.call(Object.getPrototypeOf(e),t)))}get degradationTrackingMetadata(){return this._degradationTrackingMetadata}get featureMetricStore(){return this._featureMetricStore}get currentRequestSequenceId(){return this._requestsMade-1}get flowTrackingId(){return this._trackingId}get shouldDisableAvailabilityCalculation(){return this._degradationTrackingMetadata.shouldDisableAvailabilityCalculation}get featureKey(){return this._degradationTrackingMetadata.featureKey}get defaultDegradationKey(){return this._degradationTrackingMetadata.defaultDegradationKey}get productName(){return this._degradationTrackingMetadata.productName}get nonDegradedResponseCodes(){return new Set(this._degradationTrackingMetadata.nonDegradedResponseCodes)}get additionalDegradedResponseCodes(){return this._degradationTrackingMetadata.additionalDegradedResponseCodes}get degradationKeyOverrides(){return this._degradationTrackingMetadata.degradationKeyOverrides}get customTrackingId(){return this._degradationTrackingMetadata.customTrackingId}get clientSensorGroupName(){return this._degradationTrackingMetadata.clientSensorGroupName}get shouldEnablePerformanceMeasurement(){return this._degradationTrackingMetadata.shouldEnablePerformanceMeasurement}incrementRetriedFeatureApiCall(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0
this._requestsMade++,this._featureMetricStore.mergeMetricsFrom(this._lastRequestMetricStore),this._lastRequestMetricStore.flushMetrics(),this._lastRequestMetricStore.incrementRetriedFeatureApiCall(e,t,n)}incrementRetriedSuccessfulApiCall(e,t){this._requestsMade++,this._featureMetricStore.mergeMetricsFrom(this._lastRequestMetricStore),this._lastRequestMetricStore.flushMetrics(),this._lastRequestMetricStore.incrementRetriedSuccessfulApiCall(e,t)}flushMetricStoreToServiceStore(e){this._lastRequestMetricStore.changeRetriedMetricsToTotal(),this._featureMetricStore.mergeMetricsFrom(this._lastRequestMetricStore),e.mergeMetricsFrom(this._featureMetricStore),this._featureMetricStore.flushMetrics(),this._lastRequestMetricStore.flushMetrics()}}function V(e,t){if(!e.includes("/"))return e
const n=function(e){const t=document.createElement("a")
return t.href=e,t.pathname}(e),r=n.split("/").filter((e=>e.length))
if(!t.length)return r.join("/")
const i=[]
for(let e=r.length-1;e>=0;e--){const n=r[e],a=t.indexOf(n)
a>=0?t.splice(a,1):i.push(n)}return i.reverse().join("/")}function H(e){if(e){if(e.fabric)return"SERVER_ERROR"
if(e.pointOfPresenceId)return"TRAFFIC_LI_POP_TO_DC_ERROR"
if(e.microsoftEdgeReference)return"TRAFFIC_AFD_TO_LI_POP_ERROR"}return"SERVER_ERROR"}function G(e){const t=e.responseError,n=e.parsedHeaders,r=e.responseCode
if(r){if(429===r||999===r)return"TOO_MANY_REQUESTS"
if(n&&!n.hasAnyLinkedInHeaders()&&r&&r>=400&&r<600)return"BLOCKED_BY_CLIENT_PROXY"
if((i=r)>=400&&i<500)return function(e){return 429===e?"TOO_MANY_REQUESTS":"CLIENT_ERROR"}(r)
if(function(e){return e>=500&&e<600}(r))return H(n)
if(function(e,t){return!!(e>=200&&e<300&&t&&t.downstreamAvailability<1)}(r,n))return"DOWNSTREAM_GRACEFUL_DEGRADATION"}var i
if(!t)return null
if(t instanceof Error){if("AbortError"===t.name)return"CLIENT_ABORTED"
if(t instanceof TypeError&&(t.message.indexOf("Network request failed")>=0||t.message.indexOf("NetworkError when attempting to fetch resource")>=0||t.message.indexOf("Failed to fetch")>=0))return"NETWORK_ERROR"}else{if("timeout"===t.statusText)return"CLIENT_TIMEOUT"
if(0===t.status&&"abort"===t.statusText)return"CLIENT_ABORTED"
if("readyState"in t&&0===t.readyState)return"NETWORK_ERROR"}return"UNCLASSIFIED"}function K(e,t,n,r){if(!(null==e?void 0:e.trim())||!t||!Array.isArray(t))return[]
const i=[],a=r.responseCode
return t.forEach((t=>{const o=t.getDegradationKey(a),s=t.shouldImpactAvailability(n)&&t.isCountedAgainstAvailability(n,a),c={endpointPath:e,degradationKey:o,responseErrorTypeV2:n,isCountedAgainstAvailability:s,downstreamServiceErrorCode:r.downstreamServiceErrorCode}
a&&(c.responseCode=a)
const d=r.parsedHeaders
d.callTreeId&&(c.responseCallTreeId=d.callTreeId),(null==d?void 0:d.pointOfPresenceId)&&(c.pointOfPresenceId=d.pointOfPresenceId),(null==d?void 0:d.microsoftEdgeReference)&&(c.microsoftEdgeReference=d.microsoftEdgeReference),(null==d?void 0:d.fabric)&&(c.fabric=d.fabric),q.isRetryableDegradationTrackingMetadata(t.retryableTrackingMetadata)&&(c.retryDetails={trackingId:t.retryableTrackingMetadata.flowTrackingId,sequenceId:t.retryableTrackingMetadata.currentRequestSequenceId}),i.push({header:{},requestHeader:{},productName:t.productName,featureKey:t.featureKey,failedDownstreamRequests:[c],customTrackingId:t.customTrackingId})})),i}function W(e){if(!e)return"-success"
switch(e){case"SERVER_ERROR":case"GRAPHQL_FULL_FAILURE":return"-server-error"
case"CLIENT_ERROR":case"TOO_MANY_REQUESTS":return"-client-error"
default:return"-misc-error"}}function z(e,t){return"DOWNSTREAM_GRACEFUL_DEGRADATION"===e?t.downstreamAvailability:0}class $ extends j{static isFailureTrackingMetadata(e){return"object"==typeof e&&(null==e?void 0:e.constructor.name)===$.name}}class X{constructor(e,t){if(this._additionalDegradedResponseCodes=new Set,this._degradationKeyByResponseCode=new Map,this._shouldDisableAvailabilityCalculation=!1,this._shouldRecordSession=!1,this._retryableTrackingMetadata=null,!q.isRetryableDegradationTrackingMetadata(e)&&!j.isDegradationTrackingMetadata(e)&&!$.isFailureTrackingMetadata(e))throw new D("We encountered a bug where we forgot to provide the tracking metadata as an argument. Please report it to the #pem team.")
if(!t)throw new D("We encountered a bug where we forgot to provide the product name as an argument. Please report it to the #pem team.")
this._featureKey=e.featureKey,this._productName=t,this._clientSensorGroupName=e.clientSensorGroupName,this._defaultDegradationKey=e.defaultDegradationKey
let n=j.isDegradationTrackingMetadata(e)?e:void 0
q.isRetryableDegradationTrackingMetadata(e)&&(n=e.degradationTrackingMetadata,this._retryableTrackingMetadata=e),void 0!==n?(this._nonDegradedResponseCodes=new Set(n.nonDegradedResponseCodes),this._customTrackingId=n.customTrackingId,this._shouldDisableAvailabilityCalculation=n.shouldDisableAvailabilityCalculation,this._shouldRecordSession=n.shouldRecordSession,n.additionalDegradedResponseCodes.length&&(this.processAdditionalDegradedResponseCodes(e.additionalDegradedResponseCodes),this.initializeDegradationKeyOverrides(e.degradationKeyOverrides))):(this._nonDegradedResponseCodes=new Set(e.nonDegradedResponseCodes),this._customTrackingId=e.customTrackingId,this.processAdditionalDegradedResponseCodes(e.additionalDegradedResponseCodes),this.initializeDegradationKeyOverrides(e.degradationKeyOverrides))}getDegradationKey(e){return this._degradationKeyByResponseCode.has(e)?this._degradationKeyByResponseCode.get(e):this._defaultDegradationKey}get featureKey(){return this._featureKey}get productName(){return this._productName}get customTrackingId(){return this._customTrackingId}get clientSensorGroupName(){return this._clientSensorGroupName}get shouldDisableAvailabilityCalculation(){return this._shouldDisableAvailabilityCalculation}get shouldRecordSession(){return this._shouldRecordSession}get retryableTrackingMetadata(){return this._retryableTrackingMetadata}get retryMetricStore(){var e,t
return void 0!==(null===(e=this._retryableTrackingMetadata)||void 0===e?void 0:e.featureMetricStore)?null===(t=this._retryableTrackingMetadata)||void 0===t?void 0:t.featureMetricStore:null}isCountedAgainstAvailability(e,t){return null!==e&&(null==t||this.canResponseCodeCountAgainstAvailability(t))}canResponseCodeCountAgainstAvailability(e){if(this._degradationKeyByResponseCode.has(e))return!0
if(this._additionalDegradedResponseCodes.has(e))return!0
const t=e>=400&&e<500,n=e>=300&&e<400,r=this._nonDegradedResponseCodes.has(e)
return!n&&!t&&!r}shouldImpactAvailability(e,t,n){return!(e&&"CLIENT_ABORTED"===e||"BLOCKED_BY_CLIENT_PROXY"===e||!(null==n?void 0:n.hasAnyLinkedInHeaders())&&t&&t>=400&&t<600||"TOO_MANY_REQUESTS"===e)}processAdditionalDegradedResponseCodes(e){e.forEach((e=>{if(this._nonDegradedResponseCodes.has(e))throw new D(`You attempted to specify ${e} as an additional degraded response code for the '${this.featureKey}' feature, however it is also specified in the non-degraded response codes for that feature. Please decide whether you want to consider ${e} responses a degraded state or not. ${u}.`)
this._additionalDegradedResponseCodes.add(e)}))}initializeDegradationKeyOverrides(e){e.forEach((e=>{if(!e.responseCodesToOverride||!e.degradationKey||!Array.isArray(e.responseCodesToOverride)||"string"!=typeof e.degradationKey)throw new D(`Degradation key overrides must consist of an array of responseCodesToOverride and a string degradationKey. ${u}.`)
new Set(e.responseCodesToOverride).forEach((t=>{if(!this.canResponseCodeCountAgainstAvailability(t))throw new D(`A degradation key override was specified for ${t}, but that response code isn't considered degraded. Please add it to additionalDegradedResponseCodes if you want it to count against your availability.`)
this._degradationKeyByResponseCode.set(t,e.degradationKey)}))}))}}class Q{constructor(e){const t=new Map
null==e||e.forEach(((e,n)=>{t.set(n.toLowerCase(),e)})),this._callTreeId=t.get(f.CALL_TREE_ID)||null,this._pointOfPresenceId=t.get(f.POINT_OF_PRESENCE_ID)||null,this._msEdgeRef=t.get(f.MICROSOFT_EDGE_REFERENCE)||null,this._fabric=t.get(f.FABRIC)||null,this._responseMetadata=t.get(f.PEM_RESPONSE_METADATA)||null,this._downstreamAvailability=function(e){if(null==e)return null
const t=e.split(",")
for(const e of t){const t=e.split("=",2)
if(2===t.length&&t[0]===T){const e=parseFloat(t[1])
if(e>=0&&e<=1)return e}}return null}(this._responseMetadata)||1,this._contentType=t.get(f.CONTENT_TYPE)||null,this._cdnCacheMetadata=t.get(f.CDN_CACHE)||null}get callTreeId(){return this._callTreeId}get pointOfPresenceId(){return this._pointOfPresenceId}get microsoftEdgeReference(){return this._msEdgeRef}get fabric(){return this._fabric}get downstreamAvailability(){return this._downstreamAvailability}get contentType(){return this._contentType}get cdnCacheMetadata(){return this._cdnCacheMetadata}hasAnyLinkedInHeaders(){return!!(this._fabric||this._pointOfPresenceId||this._msEdgeRef||this._callTreeId)}}class Y{constructor(e,t,n,r){this._responseCode=e||null,this._parsedResponseHeaders=t?new Q(t):new Q,this._responseError=n||null,this._downstreamServiceErrorCode=r}get responseCode(){return this._responseCode}get parsedHeaders(){return this._parsedResponseHeaders}get responseError(){return this._responseError}set responseError(e){this._responseError=e}get downstreamServiceErrorCode(){return this._downstreamServiceErrorCode}set downstreamServiceErrorCode(e){this._downstreamServiceErrorCode=e}}const J="undefined"==typeof FastBoot
function Z(e){e._metricsInterval&&window.clearInterval(e._metricsInterval),window.removeEventListener("visibilitychange",e._visibilityListener)}class ee{constructor(e,t,n){this._featureMetricStore=new N,this._visibilityListener=()=>{"hidden"===document.visibilityState&&this._metricSender.produceMetricEvent(!0)},this._defaultProductName=e,this._fireEventCallback=t,this._jetErrorCallback=n,this._metricSender=new A(this._featureMetricStore,t),J&&(this._metricsInterval=window.setInterval((()=>this._metricSender.produceMetricEvent()),x),window.addEventListener("visibilitychange",this._visibilityListener))}trackFeatureDegradationsForFetch(e,t,n,r,i){let a,o=null
const s=new Map,c=this._createFailureProcessingMetadata(n)
return t=this._getAndValidateUrlEntityIDs(t),r.then((e=>{o=e.status,e.headers.forEach(((e,t)=>s.set(t.toLowerCase(),e))),!1===e.ok&&(a=e)})).catch((e=>{throw a=e,e})).finally((()=>{this._trackResponse(e,o,t,c,i,s,a)}))}trackFeatureDegradationsForJQueryAjax(e,t,n,r,i,a){const o=t.status,s=t.getAllResponseHeaders(),c=new Map
s&&s.trim().split(/[\r\n]+/).forEach((e=>{const t=e.split(": "),n=t.shift()
if(n){const e=t.join(": ")
c.set(n.toLowerCase(),e)}}))
const d=a?null:t,u=this._createFailureProcessingMetadata(r)
n=this._getAndValidateUrlEntityIDs(n),this._trackResponse(e,o,n,u,i,c,d)}startRetryFlow(e){return ee.startRetryFlow(e)}static startRetryFlow(e){return new q(e)}completeRetryFlow(e){if(!q.isRetryableDegradationTrackingMetadata(e))throw new D("retryFlowMetadata must be an instance of RetryableDegradationTrackingMetadata")
e.flushMetricStoreToServiceStore(this._featureMetricStore)}_trackResponse(e,t,n,r,i,a,o){const s=new Y(t,a,o),c=s.parsedHeaders,d=G(s),u=V(e,n),p=new Set,f=new Set
r.forEach((e=>{p.add(e.productName),f.add(e.featureKey)
const n=null!==e.retryableTrackingMetadata&&null!==e.retryMetricStore
!e.shouldDisableAvailabilityCalculation&&e.shouldImpactAvailability(d)&&(e.isCountedAgainstAvailability(d,t)?(n?e.retryableTrackingMetadata.incrementRetriedFeatureApiCall.bind(e.retryableTrackingMetadata):this._featureMetricStore.incrementFailedFeatureApiCall.bind(this._featureMetricStore))({featureKey:e.featureKey,productName:e.productName,pointOfPresenceId:c.pointOfPresenceId,responseErrorType:d,responseFabric:c.fabric},i,z(d,c)):(n?e.retryableTrackingMetadata.incrementRetriedSuccessfulApiCall.bind(e.retryableTrackingMetadata):this._featureMetricStore.incrementSuccessfulFeatureApiCall.bind(this._featureMetricStore))({featureKey:e.featureKey,productName:e.productName,pointOfPresenceId:c.pointOfPresenceId,responseFabric:c.fabric},i))})),d&&(this._reportErrorIfUnclassified(o,d,t,p,f),K(u,r,d,s).forEach((e=>{this._fireEventCallback(l,e,i)})))}_reportErrorIfUnclassified(e,t,n,r,i){var a
if((0===n||null==n)&&"UNCLASSIFIED"===t){const t=[S]
let n
r.forEach((e=>t.push(`pem-product-${e}`))),i.forEach((e=>t.push(`pem-feature-${e}`))),n=e instanceof Error?e:new Error(`Could not classify jQuery response: ${JSON.stringify(e)}`),null===(a=this._jetErrorCallback)||void 0===a||a.call(this,n,t,!1)}}_createFailureProcessingMetadata(e){if(!e||!Array.isArray(e)||!e.length)throw new D(`Please specify a non-empty array of degradation tracking metadata. ${u}.`)
const t=new Set
return e.map((e=>{if(!j.isDegradationTrackingMetadata(e)&&!q.isRetryableDegradationTrackingMetadata(e))throw new D(`Please use DegradationTrackingMetadata or RetryableDegradationTrackingMetadata to specify the degradations. ${u}.`)
const n=F(e.productName||this._defaultProductName),r=`${n}!!${e.featureKey}`
if(t.has(r))throw new D("More than one degradation tracking metadata has the same productName/featureKey combination. Please merge them together")
return t.add(r),new X(e,n)}))}_getAndValidateUrlEntityIDs(e){if(!Array.isArray(e))throw new D(`Please specify the queried IDs to remove from the request URL, or use an empty array if there are none. ${u}.`)
return e}}},97549:function(e,t){!function(e){"use strict"
const t=/[,()':]/g,n=/[,()':]/
function r(e){const t=JSON.parse(JSON.stringify(e))
return function(e){if("object"!=typeof e)throw new Error("You must pass either an array or an object to the encode function.")}(t),i(t,!1)}function i(e,t){return Array.isArray(e)?function(e,t){const n=new Array(e.length)
for(let r=0;r<e.length;r++)n[r]=i(e[r],t)
return`List(${n.join(",")})`}(e,t):function(e){return"object"==typeof e&&null!==e}(e)?function(e,t){return`(${Object.keys(e).map((n=>`${a(n,t)}:${i(e[n],t)}`)).join(",")})`}(e,t):a(e,t)}function a(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
return""===e?"''":r&&"string"==typeof e&&n.test(e)?e.replace(t,escape):r?e:encodeURIComponent(e).replace(t,escape)}Object.freeze({S_100_CONTINUE:100,S_101_SWITCHING_PROTOCOLS:101,S_200_OK:200,S_201_CREATED:201,S_202_ACCEPTED:202,S_203_NON_AUTHORITATIVE_INFORMATION:203,S_204_NO_CONTENT:204,S_205_RESET_CONTENT:205,S_206_PARTIAL_CONTENT:206,S_207_MULTI_STATUS:207,S_300_MULTIPLE_CHOICES:300,S_301_MOVED_PERMANENTLY:301,S_302_FOUND:302,S_303_SEE_OTHER:303,S_304_NOT_MODIFIED:304,S_305_USE_PROXY:305,S_307_TEMPORARY_REDIRECT:307,S_400_BAD_REQUEST:400,S_401_UNAUTHORIZED:401,S_402_PAYMENT_REQUIRED:402,S_403_FORBIDDEN:403,S_404_NOT_FOUND:404,S_405_METHOD_NOT_ALLOWED:405,S_406_NOT_ACCEPTABLE:406,S_407_PROXY_AUTHENTICATION_REQUIRED:407,S_408_REQUEST_TIMEOUT:408,S_409_CONFLICT:409,S_410_GONE:410,S_411_LENGTH_REQUIRED:411,S_412_PRECONDITION_FAILED:412,S_413_REQUEST_ENTITY_TOO_LARGE:413,S_414_REQUEST_URI_TOO_LONG:414,S_415_UNSUPPORTED_MEDIA_TYPE:415,S_416_REQUESTED_RANGE_NOT_SATISFIABLE:416,S_417_EXPECTATION_FAILED:417,S_422_UNPROCESSABLE_ENTITY:422,S_423_LOCKED:423,S_424_FAILED_DEPENDENCY:424,S_428_PRECONDITION_REQUIRED:428,S_429_TOO_MANY_REQUESTS:429,S_500_INTERNAL_SERVER_ERROR:500,S_501_NOT_IMPLEMENTED:501,S_502_BAD_GATEWAY:502,S_503_SERVICE_UNAVAILABLE:503,S_504_GATEWAY_TIMEOUT:504,S_505_HTTP_VERSION_NOT_SUPPORTED:505})
const o={"X-RestLi-Protocol-Version":"2.0.0","X-HTTP-Method-Override":"GET","Content-Type":"application/x-www-form-urlencoded"},s="lix/treatmentsV2"
function c(){const e=function(){const e=document.cookie.match(/JSESSIONID="?([^";]+)"?/)
if(e)return e[1]}()
if(e){const t={"Csrf-Token":e}
return Object.assign(t,o)}return o}class d{constructor(e,t){const n=function(e){return!e.lix}(e)?{lix:e}:e
this.lixes=n.lix,this.tracker=t}treatment(e){let{peek:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
const n=this.lixes[e]
if(!n)return"control"
if(!n.treatment)throw new Error("The LiX treatment object does not contain any treatment")
return!0!==t&&this.tracker.notifyOfEval(n),n.treatment}cleanup(){this.lixes={}}append(e){for(const t in e){const n=e[t]
void 0!==n&&(this.lixes[t]=n)}}getTests(){return this.lixes}replace(e){this.lixes=e}}const u="LixTreatmentsEvent"
class l{constructor(e){this.queue=[],this.pendingTrackedLixes=[],this.trackingFiredRecords=new WeakMap,this.logger=e}fireTrackingEvent(e){this._fireTrackingEvent?this._fireTrackingEvent(u,e):this.queue.push(e)}notifyOfEval(e){const t=Date.now()
this.shouldFireTrackingEvent(e,t)&&this.appendForTracking(e,t)}shouldFireTrackingEvent(e,t){return!(!e||!e.trackingInfo)&&t-(this.trackingFiredRecords.get(e)||0)>6e4}appendForTracking(e,t){0===this.pendingTrackedLixes.length&&(this.timer=window.setTimeout(this.fireTrackingEvents.bind(this),100)),this.pendingTrackedLixes.push(e.trackingInfo),this.trackingFiredRecords.set(e,t)}fireTrackingEvents(){this.track(this.pendingTrackedLixes),this.pendingTrackedLixes.length=0}attach(e){this._fireTrackingEvent=e,this.queue.forEach((e=>{var t
null===(t=this._fireTrackingEvent)||void 0===t||t.call(this,u,e)}))}cleanup(){delete this._fireTrackingEvent,this.pendingTrackedLixes=[],this.timer&&clearTimeout(this.timer)}track(e){const t=e.reduce(((e,t)=>{var n
const{experimentId:r,treatmentIndex:i,segmentIndex:a,urn:o,trackingUrns:s}=t,c={experimentId:r,treatmentIndex:i,segmentIndex:a},d=o.match(/^urn:li:([a-zA-Z0-9]+):(\S+)$/)
if(null===d)return this.logger(`Failed parse the URN: "${o}"`),e
const u=d[1],l=d[2]
if(!u||!l)return e
e[u]||(e[u]={})
const p=e[u]
p[l]||(p[l]={primaryEvaluationUrn:o,trackingUrns:s,treatments:[]})
const f=p[l]
return null==f||null===(n=f.treatments)||void 0===n||n.push(c),e}),{}),n=[]
for(const e in t)for(const i in t[e]){var r
const a=null===(r=t[e])||void 0===r?void 0:r[i]
if(a){const t={urnId:i,urnType:e,primaryEvaluationUrn:a.primaryEvaluationUrn,treatments:a.treatments}
Array.isArray(a.trackingUrns)&&(t.additionalTrackingUrns=a.trackingUrns),n.push(t)}}this.fireTrackingEvent({urns:n})}}const p="value_"
e.LixCache=d,e.LixClient=class{constructor(e,t,n){this.tracker=new l(t),this.legacyLixCache=new d(e,this.tracker),this.env=n}get lixKeys(){return Object.keys(this.legacyLixCache.getTests())}attachTrackingCore(e){const t=e.fireEvent.bind(e)
this.tracker.attach(t)}fetch(e){return this.env.isBrowser?function(e){let{lixKeys:t=[],explicitUrnLixList:n=[],context:i={},endpointPath:a=""}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
const o={ids:t,explicitUrnLiXList:n,evaluationContext:{context:i}},d=Object.keys(o).map((e=>`${e}=${r(o[e])}`))
return e(`/${a||s}`,{credentials:"same-origin",method:"POST",headers:c(),body:d.join("&")}).then((e=>e.text().then((t=>{const n=e.status
if(200!==n)throw new Error(`LiX request failed with status code: ${n}\n${t}`)
try{return JSON.parse(t).results}catch(e){throw new Error(`Failed to parse the LiX response: "${t}"\n${e}`)}}))))}(this.env.fetch,e).then((e=>this.appendToCache(e))):this.env.Promise.resolve({})}getTreatment(e,t){return this.legacyLixCache.treatment(e,t)}getTreatmentIsEnabled(e,t){return"control"!==this.getTreatment(e,t)}getTreatmentValue(e,t){const n=this.getTreatment(e,t)
if(!n||-1===n.indexOf(p))return!1
const r=parseInt(n.replace(p,""),10)
return!isNaN(r)&&r}destroy(){this.legacyLixCache.cleanup(),this.tracker.cleanup(),this.env.onDestroy&&this.env.onDestroy()}appendToCache(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
return this.legacyLixCache.append(e),this.legacyLixCache.getTests()}replaceCache(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this.legacyLixCache.replace(e)}clearCache(){this.legacyLixCache.cleanup()}notifyOfEval(e){this.tracker.notifyOfEval(e)}},e.LixTracker=l,e.TRACKING_BATCH_DELAY=100,e.fetchFromDom=function(){const e=document.querySelector('meta[name="__init"]')
if(!(e instanceof HTMLMetaElement))throw new Error("Unable to parse lix values from DOM, expected HTMLMetaElement")
if(!e||!e.content||"%INIT%"===e.content)return{}
try{return JSON.parse(e.content)}catch(e){throw new Error("Unable to parse lix values from DOM")}},Object.defineProperty(e,"__esModule",{value:!0})}(t)},14446:(e,t,n)=>{"use strict"
n.r(t),n.d(t,{BreadcrumbBuilder:()=>pn,BrowserTransporter:()=>ln,ClientBreadcrumb:()=>hn,ClientBreadcrumbType:()=>fn,FALLBACK_PAGEKEY:()=>_,FlushMode:()=>ai,Heap:()=>jt,HttpProtocolType:()=>xn,JetCore:()=>En,PerfMeasurement:()=>ui,ResourceProgressOriginalMetricsType:()=>Cn,ResourceProgressType:()=>Sn,RumCore:()=>si,TrackingCore:()=>yn,_eventEmitter:()=>nt,allPromisesSettled:()=>Mt,arrayFromSet:()=>Ot,copyContext:()=>St,deepClone:()=>Bt,deleteIDB:()=>Nt,emitJETError:()=>Lt,extractTransferInfo:()=>mn,extractVersionFromConfig:()=>wt,generateBase64UUID:()=>mt,generateByteUUID:()=>lt,generateControlUrn:()=>_t,generateNodeProcessJetPayload:()=>bn,generatePageInstance:()=>Tt,generatePageUrn:()=>Et,generateRfc4122UUID:()=>yt,generateTrackingId:()=>gt,generateUUID:()=>dt,getBsCookieInfo:()=>Ft,isBase64TrackingId:()=>ft,isFlushOnCloseBrowserTabEnabled:()=>Dt,operateSequenceNumberViaIDB:()=>Pt,parseStringPageInstance:()=>xt,parseTrackingId:()=>bt,queryStringToContext:()=>Rt,queryStringToControlUrn:()=>It,serializePageInstance:()=>Ct,shouldUseXHR:()=>Ut,stringifyTrackingId:()=>vt,uint8ToBase64:()=>ht,uint8ToByteString:()=>ut})
var r,i=["requestStart"],a=["requestTime","viewNames"],o=["requestStart"],s=["requestStart"]
function c(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?c(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{}
var n,r,i=function(e,t){if(null==e)return{}
var n,r,i={},a=Object.keys(e)
for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n])
return i}(e,t)
if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e)
for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
if(!n){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"==typeof e.length){n&&(e=n)
var r=0,i=function(){}
return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1
return{s:function(){n=n.call(e)},n:function(){var e=n.next()
return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function p(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return h(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T,_="unknown",E=new Uint8Array(16)
function x(){if(!T&&!(T="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")
return T(E)}var S=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i
function C(e){return"string"==typeof e&&S.test(e)}for(var A=[],k=0;k<256;++k)A.push((k+256).toString(16).slice(1))
function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0
return(A[e[t+0]]+A[e[t+1]]+A[e[t+2]]+A[e[t+3]]+"-"+A[e[t+4]]+A[e[t+5]]+"-"+A[e[t+6]]+A[e[t+7]]+"-"+A[e[t+8]]+A[e[t+9]]+"-"+A[e[t+10]]+A[e[t+11]]+A[e[t+12]]+A[e[t+13]]+A[e[t+14]]+A[e[t+15]]).toLowerCase()}function R(e){if(!C(e))throw TypeError("Invalid UUID")
var t,n=new Uint8Array(16)
return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}function w(e,t,n){function r(e,r,i,a){var o
if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e))
for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n))
return t}(e)),"string"==typeof r&&(r=R(r)),16!==(null===(o=r)||void 0===o?void 0:o.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)")
var s=new Uint8Array(16+e.length)
if(s.set(r),s.set(e,r.length),(s=n(s))[6]=15&s[6]|t,s[8]=63&s[8]|128,i){a=a||0
for(var c=0;c<16;++c)i[a+c]=s[c]
return i}return I(s)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function M(e){return 14+(e+64>>>9<<4)+1}function O(e,t){var n=(65535&e)+(65535&t)
return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function N(e,t,n,r,i,a){return O((o=O(O(t,e),O(r,a)))<<(s=i)|o>>>32-s,n)
var o,s}function P(e,t,n,r,i,a,o){return N(t&n|~t&r,e,t,i,a,o)}function U(e,t,n,r,i,a,o){return N(t&r|n&~r,e,t,i,a,o)}function D(e,t,n,r,i,a,o){return N(t^n^r,e,t,i,a,o)}function L(e,t,n,r,i,a,o){return N(n^(t|~r),e,t,i,a,o)}w("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e))
e=new Uint8Array(t.length)
for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r="0123456789abcdef",i=0;i<n;i+=8){var a=e[i>>5]>>>i%32&255,o=parseInt(r.charAt(a>>>4&15)+r.charAt(15&a),16)
t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[M(t)-1]=t
for(var n=1732584193,r=-271733879,i=-1732584194,a=271733878,o=0;o<e.length;o+=16){var s=n,c=r,d=i,u=a
n=P(n,r,i,a,e[o],7,-680876936),a=P(a,n,r,i,e[o+1],12,-389564586),i=P(i,a,n,r,e[o+2],17,606105819),r=P(r,i,a,n,e[o+3],22,-1044525330),n=P(n,r,i,a,e[o+4],7,-176418897),a=P(a,n,r,i,e[o+5],12,1200080426),i=P(i,a,n,r,e[o+6],17,-1473231341),r=P(r,i,a,n,e[o+7],22,-45705983),n=P(n,r,i,a,e[o+8],7,1770035416),a=P(a,n,r,i,e[o+9],12,-1958414417),i=P(i,a,n,r,e[o+10],17,-42063),r=P(r,i,a,n,e[o+11],22,-1990404162),n=P(n,r,i,a,e[o+12],7,1804603682),a=P(a,n,r,i,e[o+13],12,-40341101),i=P(i,a,n,r,e[o+14],17,-1502002290),n=U(n,r=P(r,i,a,n,e[o+15],22,1236535329),i,a,e[o+1],5,-165796510),a=U(a,n,r,i,e[o+6],9,-1069501632),i=U(i,a,n,r,e[o+11],14,643717713),r=U(r,i,a,n,e[o],20,-373897302),n=U(n,r,i,a,e[o+5],5,-701558691),a=U(a,n,r,i,e[o+10],9,38016083),i=U(i,a,n,r,e[o+15],14,-660478335),r=U(r,i,a,n,e[o+4],20,-405537848),n=U(n,r,i,a,e[o+9],5,568446438),a=U(a,n,r,i,e[o+14],9,-1019803690),i=U(i,a,n,r,e[o+3],14,-187363961),r=U(r,i,a,n,e[o+8],20,1163531501),n=U(n,r,i,a,e[o+13],5,-1444681467),a=U(a,n,r,i,e[o+2],9,-51403784),i=U(i,a,n,r,e[o+7],14,1735328473),n=D(n,r=U(r,i,a,n,e[o+12],20,-1926607734),i,a,e[o+5],4,-378558),a=D(a,n,r,i,e[o+8],11,-2022574463),i=D(i,a,n,r,e[o+11],16,1839030562),r=D(r,i,a,n,e[o+14],23,-35309556),n=D(n,r,i,a,e[o+1],4,-1530992060),a=D(a,n,r,i,e[o+4],11,1272893353),i=D(i,a,n,r,e[o+7],16,-155497632),r=D(r,i,a,n,e[o+10],23,-1094730640),n=D(n,r,i,a,e[o+13],4,681279174),a=D(a,n,r,i,e[o],11,-358537222),i=D(i,a,n,r,e[o+3],16,-722521979),r=D(r,i,a,n,e[o+6],23,76029189),n=D(n,r,i,a,e[o+9],4,-640364487),a=D(a,n,r,i,e[o+12],11,-421815835),i=D(i,a,n,r,e[o+15],16,530742520),n=L(n,r=D(r,i,a,n,e[o+2],23,-995338651),i,a,e[o],6,-198630844),a=L(a,n,r,i,e[o+7],10,1126891415),i=L(i,a,n,r,e[o+14],15,-1416354905),r=L(r,i,a,n,e[o+5],21,-57434055),n=L(n,r,i,a,e[o+12],6,1700485571),a=L(a,n,r,i,e[o+3],10,-1894986606),i=L(i,a,n,r,e[o+10],15,-1051523),r=L(r,i,a,n,e[o+1],21,-2054922799),n=L(n,r,i,a,e[o+8],6,1873313359),a=L(a,n,r,i,e[o+15],10,-30611744),i=L(i,a,n,r,e[o+6],15,-1560198380),r=L(r,i,a,n,e[o+13],21,1309151649),n=L(n,r,i,a,e[o+4],6,-145523070),a=L(a,n,r,i,e[o+11],10,-1120210379),i=L(i,a,n,r,e[o+2],15,718787259),r=L(r,i,a,n,e[o+9],21,-343485551),n=O(n,s),r=O(r,c),i=O(i,d),a=O(a,u)}return[n,r,i,a]}(function(e){if(0===e.length)return[]
for(var t=8*e.length,n=new Uint32Array(M(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32
return n}(e),8*e.length))}))
var F={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)}
function B(e,t,n){if(F.randomUUID&&!t&&!e)return F.randomUUID()
var r=(e=e||{}).random||(e.rng||x)()
if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0
for(var i=0;i<16;++i)t[n+i]=r[i]
return t}return I(r)}function j(e,t,n,r){switch(e){case 0:return t&n^~t&r
case 1:case 3:return t^n^r
case 2:return t&n^t&r^n&r}}function q(e,t){return e<<t|e>>>32-t}w("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520]
if("string"==typeof e){var r=unescape(encodeURIComponent(e))
e=[]
for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e))
e.push(128)
for(var a=e.length/4+2,o=Math.ceil(a/16),s=new Array(o),c=0;c<o;++c){for(var d=new Uint32Array(16),u=0;u<16;++u)d[u]=e[64*c+4*u]<<24|e[64*c+4*u+1]<<16|e[64*c+4*u+2]<<8|e[64*c+4*u+3]
s[c]=d}s[o-1][14]=8*(e.length-1)/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=8*(e.length-1)&4294967295
for(var l=0;l<o;++l){for(var p=new Uint32Array(80),f=0;f<16;++f)p[f]=s[l][f]
for(var h=16;h<80;++h)p[h]=q(p[h-3]^p[h-8]^p[h-14]^p[h-16],1)
for(var m=n[0],g=n[1],y=n[2],v=n[3],b=n[4],T=0;T<80;++T){var _=Math.floor(T/20),E=q(m,5)+j(_,g,y,v)+b+t[_]+p[T]>>>0
b=v,v=y,y=q(g,30)>>>0,g=m,m=E}n[0]=n[0]+m>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+y>>>0,n[3]=n[3]+v>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}))
var V=Uint8Array,H=Uint16Array,G=Uint32Array,K=new V([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),W=new V([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),z=new V([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$=function(e,t){for(var n=new H(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1]
var i=new G(n[30])
for(r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r
return[n,i]},X=$(K,2),Q=X[0],Y=X[1]
Q[28]=258,Y[258]=28
for(var J=$(W,0)[1],Z=new H(32768),ee=0;ee<32768;++ee){var te=(43690&ee)>>>1|(21845&ee)<<1
te=(61680&(te=(52428&te)>>>2|(13107&te)<<2))>>>4|(3855&te)<<4,Z[ee]=((65280&te)>>>8|(255&te)<<8)>>>1}var ne=function(e,t,n){for(var r=e.length,i=0,a=new H(t);i<r;++i)e[i]&&++a[e[i]-1]
var o,s=new H(t)
for(i=0;i<t;++i)s[i]=s[i-1]+a[i-1]<<1
if(n){o=new H(1<<t)
var c=15-t
for(i=0;i<r;++i)if(e[i])for(var d=i<<4|e[i],u=t-e[i],l=s[e[i]-1]++<<u,p=l|(1<<u)-1;l<=p;++l)o[Z[l]>>>c]=d}else for(o=new H(r),i=0;i<r;++i)e[i]&&(o[i]=Z[s[e[i]-1]++]>>>15-e[i])
return o},re=new V(288)
for(ee=0;ee<144;++ee)re[ee]=8
for(ee=144;ee<256;++ee)re[ee]=9
for(ee=256;ee<280;++ee)re[ee]=7
for(ee=280;ee<288;++ee)re[ee]=8
var ie=new V(32)
for(ee=0;ee<32;++ee)ie[ee]=5
var ae=ne(re,9,0),oe=ne(ie,5,0),se=function(e){return(e+7)/8|0},ce=function(e,t,n){n<<=7&t
var r=t/8|0
e[r]|=n,e[r+1]|=n>>>8},de=function(e,t,n){n<<=7&t
var r=t/8|0
e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},ue=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]})
var i=n.length,a=n.slice()
if(!i)return[ye,0]
if(1==i){var o=new V(n[0].s+1)
return o[n[0].s]=1,[o,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001})
var s=n[0],c=n[1],d=0,u=1,l=2
for(n[0]={s:-1,f:s.f+c.f,l:s,r:c};u!=i-1;)s=n[n[d].f<n[l].f?d++:l++],c=n[d!=u&&n[d].f<n[l].f?d++:l++],n[u++]={s:-1,f:s.f+c.f,l:s,r:c}
var p=a[0].s
for(r=1;r<i;++r)a[r].s>p&&(p=a[r].s)
var f=new H(p+1),h=le(n[u-1],f,0)
if(h>t){r=0
var m=0,g=h-t,y=1<<g
for(a.sort((function(e,t){return f[t.s]-f[e.s]||e.f-t.f}));r<i;++r){var v=a[r].s
if(!(f[v]>t))break
m+=y-(1<<h-f[v]),f[v]=t}for(m>>>=g;m>0;){var b=a[r].s
f[b]<t?m-=1<<t-f[b]++-1:++r}for(;r>=0&&m;--r){var T=a[r].s
f[T]==t&&(--f[T],++m)}h=t}return[new V(f),h]},le=function e(t,n,r){return-1==t.s?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},pe=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new H(++t),r=0,i=e[0],a=1,o=function(e){n[r++]=e},s=1;s<=t;++s)if(e[s]==i&&s!=t)++a
else{if(!i&&a>2){for(;a>138;a-=138)o(32754)
a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304)
a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i)
a=1,i=e[s]}return[n.subarray(0,r),t]},fe=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r]
return n},he=function(e,t,n){var r=n.length,i=se(t+2)
e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1]
for(var a=0;a<r;++a)e[i+a+4]=n[a]
return 8*(i+4+r)},me=function(e,t,n,r,i,a,o,s,c,d,u){ce(t,u++,n),++i[256]
for(var l=ue(i,15),p=l[0],f=l[1],h=ue(a,15),m=h[0],g=h[1],y=pe(p),v=y[0],b=y[1],T=pe(m),_=T[0],E=T[1],x=new H(19),S=0;S<v.length;++S)x[31&v[S]]++
for(S=0;S<_.length;++S)x[31&_[S]]++
for(var C=ue(x,7),A=C[0],k=C[1],I=19;I>4&&!A[z[I-1]];--I);var R,w,M,O,N=d+5<<3,P=fe(i,re)+fe(a,ie)+o,U=fe(i,p)+fe(a,m)+o+14+3*I+fe(x,A)+(2*x[16]+3*x[17]+7*x[18])
if(N<=P&&N<=U)return he(t,u,e.subarray(c,c+d))
if(ce(t,u,1+(U<P)),u+=2,U<P){R=ne(p,f,0),w=p,M=ne(m,g,0),O=m
var D=ne(A,k,0)
for(ce(t,u,b-257),ce(t,u+5,E-1),ce(t,u+10,I-4),u+=14,S=0;S<I;++S)ce(t,u+3*S,A[z[S]])
u+=3*I
for(var L=[v,_],F=0;F<2;++F){var B=L[F]
for(S=0;S<B.length;++S){var j=31&B[S]
ce(t,u,D[j]),u+=A[j],j>15&&(ce(t,u,B[S]>>>5&127),u+=B[S]>>>12)}}}else R=ae,w=re,M=oe,O=ie
for(S=0;S<s;++S)if(r[S]>255){j=r[S]>>>18&31,de(t,u,R[j+257]),u+=w[j+257],j>7&&(ce(t,u,r[S]>>>23&31),u+=K[j])
var q=31&r[S]
de(t,u,M[q]),u+=O[q],q>3&&(de(t,u,r[S]>>>5&8191),u+=W[q])}else de(t,u,R[r[S]]),u+=w[r[S]]
return de(t,u,R[256]),u+w[256]},ge=new G([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ye=new V(0),ve=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&-306674912)^n>>>1
e[t]=n}return e}(),be=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},Te="undefined"!=typeof TextDecoder&&new TextDecoder
try{Te.decode(ye,{stream:!0})}catch(Tr){}function _e(){return"undefined"!=typeof window&&"function"==typeof window.fetch}function Ee(){try{return _e()&&"keepalive"in new Request("")}catch(e){return!1}}function xe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}
if("undefined"!=typeof window&&void 0!==window.XMLHttpRequest){var r=new XMLHttpRequest
if(r.open("POST",e,!0),r.withCredentials=!0,n.headers)for(var i=0,a=Object.keys(n.headers);i<a.length;i++){var o=a[i]
r.setRequestHeader(o,n.headers[o])}r.send(t)}}function Se(e){var t=e.body,n=e.keepalive,r=e.headers,i=e.compress
r["content-type"]||(r["content-type"]="text/plain;charset=UTF-8")
var a=t
if(i&&"undefined"!=typeof TextEncoder)try{a=function(e,t){t||(t={})
var n=function(){var e=-1
return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=ve[255&n^t[r]]^n>>>8
e=n},d:function(){return~e}}}(),r=e.length
n.p(e)
var i,a,o,s=(i=e,a=t,o=function(e){return 10+(e.filename&&e.filename.length+1||0)}(t),function(e,t,n,r,i,a){var o=e.length,s=new V(r+o+5*(1+Math.ceil(o/7e3))+8),c=s.subarray(r,s.length-8),d=0
if(!t||o<8)for(var u=0;u<=o;u+=65535){var l=u+65535
l>=o&&(c[d>>3]=true),d=he(c,d+1,e.subarray(u,l))}else{for(var p=ge[t-1],f=p>>>13,h=8191&p,m=(1<<n)-1,g=new H(32768),y=new H(m+1),v=Math.ceil(n/3),b=2*v,T=function(t){return(e[t]^e[t+1]<<v^e[t+2]<<b)&m},_=new G(25e3),E=new H(288),x=new H(32),S=0,C=0,A=(u=0,0),k=0,I=0;u<o;++u){var R=T(u),w=32767&u,M=y[R]
if(g[w]=M,y[R]=w,k<=u){var O=o-u
if((S>7e3||A>24576)&&O>423){d=me(e,c,0,_,E,x,C,A,I,u-I,d),A=S=C=0,I=u
for(var N=0;N<286;++N)E[N]=0
for(N=0;N<30;++N)x[N]=0}var P=2,U=0,D=h,L=w-M&32767
if(O>2&&R==T(u-L))for(var F=Math.min(f,O)-1,B=Math.min(32767,u),j=Math.min(258,O);L<=B&&--D&&w!=M;){if(e[u+P]==e[u+P-L]){for(var q=0;q<j&&e[u+q]==e[u+q-L];++q);if(q>P){if(P=q,U=L,q>F)break
var z=Math.min(L,q-2),$=0
for(N=0;N<z;++N){var X=u-L+N+32768&32767,Q=X-g[X]+32768&32767
Q>$&&($=Q,M=X)}}}L+=(w=M)-(M=g[w])+32768&32767}if(U){_[A++]=268435456|Y[P]<<18|J[U]
var Z=31&Y[P],ee=31&J[U]
C+=K[Z]+W[ee],++E[257+Z],++x[ee],k=u+P,++S}else _[A++]=e[u],++E[e[u]]}}d=me(e,c,true,_,E,x,C,A,I,u-I,d)}return function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length)
var r=new(2==e.BYTES_PER_ELEMENT?H:4==e.BYTES_PER_ELEMENT?G:V)(n-t)
return r.set(e.subarray(t,n)),r}(s,0,r+se(d)+8)}(i,null==a.level?6:a.level,null==a.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(i.length)))):12+a.mem,o)),c=s.length
return function(e,t){var n=t.filename
if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&be(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8
for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}}(s,t),be(s,c-8,n.d()),be(s,c-4,r),s}((new TextEncoder).encode(t)),r["content-encoding"]="gzip"}catch(e){}return{body:a,keepalive:n,credentials:"include",headers:r,method:"POST",mode:"cors"}}function Ce(e){return e&&"message"in e?e.message:"UNKNOWN_ERROR"}var Ae,ke="undefined"!=typeof navigator&&"sendBeacon"in navigator,Ie=Ee()?function(e,t,n,r){return new Promise((function(i){fetch(e,Se({body:t,keepalive:!0,headers:n,compress:r})).catch((function(){return fetch(e,Se({body:t,keepalive:!1,headers:n,compress:r}))})).then((function(e){e.ok?i({type:"success",drop:!1,statusCode:e.status}):i({type:"response",drop:!0,statusCode:e.status,rawError:e.statusText})}),(function(e){return i({type:"network",drop:!0,rawError:Ce(e)})}))}))}:function(e,t,n,r){return new Promise((function(i){if(ke){var a=!1
try{a=navigator.sendBeacon(e,t)}catch(e){}if(a)return void i({type:"unknown",drop:!1})}fetch(e,Se({body:t,keepalive:!1,headers:n,compress:r})).then((function(e){e.ok?i({type:"success",drop:!1,statusCode:200}):i({type:"response",drop:!0,statusCode:e.status,rawError:e.statusText})}),(function(e){return i({type:"network",drop:!0,rawError:Ce(e)})}))}))}
function Re(e){return new Promise((function(t,n){e.oncomplete=e.onsuccess=function(){return t(e.result)},e.onabort=e.onerror=function(){return n(e.error)}}))}function we(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"key",r=arguments.length>3?arguments[3]:void 0,i=indexedDB.open(e)
i.onupgradeneeded=function(){try{i.result.createObjectStore(t,{keyPath:n})}catch(e){null==r||r.onError(e)}}
var a=new Promise((function(e,t){i.onsuccess=function(){var t=i.result
t.onversionchange=function(){return t.close()},e(t),null==r||r.onSuccess()},i.onerror=function(){t(i.error),null==r||r.onError(i.error)}}))
return function(e,n){return a.then((function(r){return n(r.transaction(t,e).objectStore(t))}))}}function Me(){return Ae||(Ae=we("idb-queue","default")),Ae}function Oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxNumber:1e3,batchEvictionNumber:300},n=0,r=null
return e.openKeyCursor().onsuccess=function(){var i=this.result
i&&n++<t.batchEvictionNumber?(r=i.key,i.continue()):null!=r&&e.delete(IDBKeyRange.upperBound(r))},Re(e.transaction)}function Ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{maxNumber:1e3,batchEvictionNumber:300},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me()
return t("readwrite",(function(t){return Oe(t,e)}))}var Pe=!1
function Ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxNumber:1e3,batchEvictionNumber:300},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Me()
return n("readwrite",(function(n){return n.put(e),Re(n.count()).then((function(e){if(!(e<=t.maxNumber))return Oe(n,t)}))})).catch((function(e){if(e&&"QuotaExceededError"===e.name)return Ne(t,n)}))}function De(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxNumber:1e3,batchEvictionNumber:300},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Me()
return Pe?Promise.resolve():Ue(e,t,n)}function Le(e,t,n){return t("readwrite",(function(t){var r=[]
return t.openCursor(null,n).onsuccess=function(){var t=this.result
t&&(r.push(t.value),t.delete(),(e<0||r.length<e)&&t.continue())},Re(t.transaction).then((function(){return r}))}))}function Fe(e,t,n){return t("readonly",(function(t){var r=[]
return t.openCursor(null,n).onsuccess=function(){var t=this.result
t&&(r.push(t.value),(e<0||r.length<e)&&t.continue())},Re(t.transaction).then((function(){return r}))}))}function Be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me()
return Fe(e,t,"next")}function je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me()
return Fe(e,t,"prev")}function qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0
return!t||n<1||(e[t]=JSON.stringify({attempt:n,errorCode:r})),e}function Ve(e){"undefined"!=typeof window&&window.__DEBUG_BEACON_TRANSPORTER&&console.debug("[beacon-transporter] ",e())}function He(e){"undefined"!=typeof window&&window.__DEBUG_BEACON_TRANSPORTER&&console.error("[beacon-transporter] ",e())}function Ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{timeRemaining:5,timeout:1e4}
if("undefined"==typeof requestIdleCallback)setTimeout(e,t.fallbackTimeout||10)
else{var n=function n(){requestIdleCallback((function(r){r.timeRemaining()>t.timeRemaining||r.didTimeout?e():n()}),{timeout:t.timeout})}
n()}}function Ke(e,t){var n=0
return{throttledFn:function(){var r=Date.now()
r-n>t&&(Ve((function(){return"[throttle] Run fn() at "+String(r)})),e(),n=r)},resetThrottle:function(){n=0}}}var We=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
g(this,e),b(this,"config",void 0),b(this,"compress",void 0),b(this,"throttleControl",void 0),b(this,"withStore",void 0),b(this,"disablePersistence",!1),this.config=t,this.compress=r
var i=t.measureIDB
i&&performance.mark(i.createStartMark),this.withStore=we(t.idbName,"beacons","timestamp",{onSuccess:function(){i&&performance.measure(i.createSuccessMeasure,i.createStartMark)},onError:function(){i&&performance.measure(i.createFailMeasure,i.createStartMark),n.disablePersistence=!0}}),this.throttleControl=Ke(this.replayEntries.bind(this),t.throttleWait)}return v(e,[{key:"onNotify",value:function(){this.disablePersistence||this.throttleControl.throttledFn()}},{key:"push",value:function(e){var t=this
if(!this.disablePersistence){var n=function(){Ve((function(){return"Persisting to DB "+e.url})),De(e,t.config,t.withStore).then((function(){t.throttleControl.resetThrottle(),Ve((function(){return"push completed"}))})).catch((function(){t.disablePersistence=!0,He((function(){return"push failed"}))}))}
this.config.useIdle?Ge(n):n()}}},{key:"clear",value:function(){var e=this
return this.disablePersistence?Promise.resolve():function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me()
return Pe=!0,e("readwrite",(function(e){return e.clear(),Re(e.transaction).finally((function(){return Pe=!1}))}))}(this.withStore).catch((function(){e.disablePersistence=!0,He((function(){return"clear failed"}))}))}},{key:"peek",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1
return this.disablePersistence?Promise.resolve([]):Be(t,this.withStore).catch((function(){return e.disablePersistence=!0,He((function(){return"peek failed"})),[]}))}},{key:"peekBack",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1
return this.disablePersistence?Promise.resolve([]):je(t,this.withStore).catch((function(){return e.disablePersistence=!0,He((function(){return"peekBack failed"})),[]}))}},{key:"replayEntries",value:function(){var e=this
if(!this.disablePersistence){var t=function(){Ve((function(){return"Replaying entry: shift from store"})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me()
return Le(e,t,"next")}(1,e.withStore).then((function(t){if(t.length>0){var n,r,i=t[0],a=i.url,o=i.body,s=i.headers,c=i.timestamp,d=i.statusCode,u=i.attemptCount
return Ve((function(){return"header: ".concat(String(e.config.headerName),"; attemptCount: ").concat(u)})),null===(n=(r=e.config).onBeforeRetry)||void 0===n||n.call(r,o),Ie(a,o,qe(s,e.config.headerName,u,d),e.compress).then((function(t){if("unknown"===t.type||"success"===t.type){var n,r
null===(n=(r=e.config).onResult)||void 0===n||n.call(r,t,o),e.replayEntries()}else{var i,s,l,p,f,h
if(u+1>e.config.attemptLimit)return Ve((function(){return"Exceeded attempt count, dropping the entry: "+JSON.stringify({url:a,timestamp:c,statusCode:d},null,2)})),t.drop=!0,void(null===(i=(s=e.config).onResult)||void 0===i||i.call(s,t,o))
if("network"===t.type||e.config.statusCodes.includes(t.statusCode))return t.drop=!1,null===(l=(p=e.config).onResult)||void 0===l||l.call(p,t,o),Ve((function(){return"Replaying the entry failed, pushing back to IDB: "+JSON.stringify({url:a,timestamp:c,statusCode:d},null,2)})),De({url:a,body:o,timestamp:c,statusCode:d,attemptCount:u+1},e.config,e.withStore)
t.drop=!0,null===(f=(h=e.config).onResult)||void 0===f||f.call(h,t,o)}}))}})).catch((function(t){e.disablePersistence=!0,t&&t.message&&He((function(){return"Replay entry failed: ".concat(t.message)}))}))}
this.config.useIdle?Ge(t):t()}}}]),e}(),ze=function(){function e(){g(this,e)}return v(e,[{key:"onNotify",value:function(){}},{key:"push",value:function(){}},{key:"clear",value:function(){return Promise.resolve()}},{key:"peek",value:function(){return Promise.resolve([])}},{key:"peekBack",value:function(){return Promise.resolve([])}}]),e}(),$e=function(){function e(t,n){g(this,e),b(this,"queue",void 0),b(this,"beaconListeners",new Set),this.queue=e.hasSupport&&!n.disablePersistenceRetry?new We(t,n.compress):new ze}return v(e,[{key:"pushToQueue",value:function(e){this.queue.push(e)}},{key:"notifyQueue",value:function(){this.queue.onNotify()}},{key:"clearQueue",value:function(){return this.beaconListeners.forEach((function(e){return e()})),this.queue.clear()}},{key:"peekQueue",value:function(e){return this.queue.peek(e)}},{key:"peekBackQueue",value:function(e){return this.queue.peekBack(e)}},{key:"onClear",value:function(e){this.beaconListeners.add(e)}},{key:"removeOnClear",value:function(e){this.beaconListeners.delete(e)}}]),e}()
b($e,"hasSupport","undefined"!=typeof globalThis&&!!globalThis.indexedDB)
var Xe=[502,504],Qe=[429,503],Ye=function(){function e(t,n,r,i){var a=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4]
g(this,e),b(this,"url",void 0),b(this,"body",void 0),b(this,"config",void 0),b(this,"persistenceConfig",void 0),b(this,"compress",void 0),b(this,"timestamp",void 0),b(this,"isClearQueuePending",!1),b(this,"onClearCallback",void 0),this.url=t,this.body=n,this.config=r,this.persistenceConfig=i,this.compress=o,this.timestamp=Date.now(),this.onClearCallback=function(){return a.isClearQueuePending=!0}}return v(e,[{key:"send",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this.persistenceConfig.db.onClear(this.onClearCallback)
var n=this.retryLimit
return this.retry((function(t){return Ie(e.url,e.body,t,e.compress)}),n,t).finally((function(){Ve((function(){return"beacon finished"})),e.persistenceConfig.db.removeOnClear(e.onClearCallback)}))}},{key:"retryLimit",get:function(){return this.config.attemptLimit}},{key:"getAttemptCount",value:function(e){return this.retryLimit-e+1}},{key:"retry",value:function(e,t,n,r){var i=this,a=this.getAttemptCount(t)-1
return e(qe(n,this.config.headerName,a,r)).then((function(r){var a,o,s,c
if(r.drop=!1,"unknown"===r.type||"success"===r.type)i.isClearQueuePending||i.persistenceConfig.disabled||i.persistenceConfig.db.notifyQueue(),s=r
else if(Ve((function(){return"retry rejected "+JSON.stringify(r)})),i.shouldPersist(t,r))i.persistenceConfig.db.pushToQueue({url:i.url,body:i.body,headers:n,statusCode:r.statusCode,timestamp:i.timestamp,attemptCount:i.getAttemptCount(t)}),s={type:"persisted",drop:!1,statusCode:r.statusCode}
else{if(t>0&&i.isRetryableError(r)){var d,u
null===(d=(u=i.config).onIntermediateResult)||void 0===d||d.call(u,r,i.body)
var l=i.config.calculateRetryDelay(i.getAttemptCount(t),t)
return Ve((function(){return"in memory retry in ".concat(l,"ms")})),(c=l,new Promise((function(e){return setTimeout(e,c)}))).then((function(){return i.retry(e,t-1,n,r.statusCode)}))}(s=r).drop=!0}return null===(a=(o=i.config).onIntermediateResult)||void 0===a||a.call(o,s,i.body),s}))}},{key:"isRetryableError",value:function(e){return!("network"!==e.type&&!this.config.statusCodes.includes(e.statusCode))}},{key:"shouldPersist",value:function(e,t){return!(this.isClearQueuePending||this.persistenceConfig.disabled||navigator.onLine&&(0!==e||"network"!==t.type)&&("response"!==t.type||!this.persistenceConfig.statusCodes.includes(t.statusCode)))}}]),e}()
function Je(e,t,n){var r=e.get(t)
r&&r.push(n)||e.set(t,[n])}function Ze(e,t,n){var r=e.get(t)
r&&r.splice(r.indexOf(n)>>>0,1)}var et,tt,nt=(et=new Map,tt=new Map,{on:function(e,t){Je(et,e,t)},before:function(e,t){Je(tt,e,t)},off:function(e,t){Ze(et,e,t)},offBefore:function(e,t){Ze(tt,e,t)},emit:function(e,t){(tt.get(e)||[]).concat(et.get(e)||[]).slice().map((function(e){e(t)}))},clear:function(){tt.clear(),et.clear()}})
if("undefined"!=typeof document&&"undefined"!=typeof window){var rt=function(e){"pagehide"!==e.type&&"hidden"!==document.visibilityState||nt.emit("internal:hide",e)}
document.addEventListener("visibilitychange",rt),window.addEventListener("pagehide",rt)}var it=null
if("undefined"==typeof crypto||!crypto.getRandomValues){var at=("undefined"!=typeof FastBoot?FastBoot.require:require)("crypto")
if(at){var ot=new Uint8Array(256),st=ot.length
it={rng:function(){return st>ot.length-16&&(at.randomFillSync(ot),st=0),ot.slice(st,st+=16)}}}}var ct="object"===("undefined"==typeof crypto?"undefined":m(crypto))&&"function"==typeof crypto.randomUUID?function(){return crypto.randomUUID()}:function(){return vt(dt())}
function dt(){return B(it,new Array(16),0)}function ut(e){return p(e).map((function(e){return String.fromCharCode(e)})).join("")}function lt(){return ut(dt())}var pt=/^[a-zA-Z0-9/+]+[=]+$/
function ft(e){return"string"==typeof e&&!!e.match(pt)}function ht(e){for(var t,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=[],i=0,a=e.length,o=a%3,s=a-o;i<s;)t=e[i]<<16,t|=e[i+1]<<8,t|=e[i+2],r.push(n.charAt(t>>>18&63)),r.push(n.charAt(t>>>12&63)),r.push(n.charAt(t>>>6&63)),r.push(n.charAt(63&t)),i+=3
switch(o){case 2:t=e[i]<<16,t|=e[i+1]<<8,r.push(n.charAt(t>>>18&63)),r.push(n.charAt(t>>>12&63)),r.push(n.charAt(t>>>6&63)),r.push("=")
break
case 1:t=e[i]<<16,r.push(n.charAt(t>>>18&63)),r.push(n.charAt(t>>>12&63)),r.push("="),r.push("=")}return r.join("")}function mt(){return ht(dt())}function gt(){return ct()}function yt(){return ct()}function vt(e){return function(e){var t=I(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)
if(!C(t))throw TypeError("Stringified UUID is invalid")
return t}(e)}function bt(e){return R(e)}function Tt(e,t){return{pageUrn:Et(e),trackingId:t||mt()}}function _t(e,t){return"urn:li:control:".concat(e,"-").concat(t)}function Et(e){return"urn:li:page:".concat(e)}function xt(e){var t=decodeURIComponent(e).split(";")
if(t.length>1)return{pageUrn:t[0],trackingId:t[1]}}function St(e,t){return{pageInstance:t.assign({},e.pageInstance),pageKey:e.pageKey,applicationInstance:e.applicationInstance}}function Ct(e){return"".concat(e.pageUrn,";").concat(e.trackingId)}var At=new RegExp("[?&]lipi=([^&#]*)"),kt=new RegExp("[?&]licu=([^&#]*)")
function It(e){var t=e.match(kt)
return t?decodeURIComponent(t[1]):null}function Rt(e){var t=e.match(At)
if(t){var n=xt(t[1])
if(n)return{pageInstance:n,pageKey:""}}return null}function wt(e){var t,n=null===(t=e.APP)||void 0===t?void 0:t.version
return(n="string"==typeof n?n.split("_").pop():"")||""}function Mt(e,t){return void 0!==t.allSettled?t.allSettled(e):function(e){return new Promise((function(t){var n=new Set,r=function(e){n.delete(e),0===n.size&&t()}
0===e.length?t():e.map((function(e){return e.then((function(){return r(e)})).catch((function(){return r(e)}))}))}))}(e)}function Ot(e){var t=[]
return e.forEach((function(e){return t.push(e)})),t}function Nt(e){var t=window.indexedDB.deleteDatabase(e)
return new Promise((function(e,n){t.onsuccess=function(){return e()},t.onerror=function(){return n(t.error)}}))}function Pt(e,t,n){if("undefined"!=typeof window&&window.indexedDB){var r,i="sequenceNumber"
try{r=window.indexedDB.open(i)}catch(e){return Promise.resolve(null)}return new Promise((function(a,o){r.onupgradeneeded=function(){var e=r.result
e.objectStoreNames.contains(i)||e.createObjectStore(i,{autoIncrement:!0})},r.onsuccess=function(){var s=r.result,c=s.transaction(i,"readwrite"),d=c.objectStore(i),u=d.get(1)
u.onsuccess=function(){var r=u.result
if(r){if("read"===e)return a(r)
if("update"!==e)return a(null)
var i,s=Object.assign({},r),c=!1,l=null!==(i=s.sequenceNumber)&&void 0!==i?i:0
if(void 0!==t&&t>l&&(s.sequenceNumber=t,c=!0),n&&Object.keys(n).forEach((function(e){var t,r=null!==(t=s[e])&&void 0!==t?t:0,i=n[e]
i>r&&(s[e]=i,c=!0)})),c){var p=d.put(s,1)
p.onsuccess=function(){return a(null)},p.onerror=function(){o(p.error)}}}else{var f={sequenceNumber:0}
n&&Object.keys(n).forEach((function(e){f[e]=0}))
var h=d.add(f)
h.onsuccess=function(){return a(0)},h.onerror=function(){o(h.error)}}},u.onerror=function(){return s.close(),o(new Error("Error: get sequence number from indexedDB ".concat(String(u.error))))},c.oncomplete=function(){return s.close()}},r.onerror=function(){return a(null)}}))}return Promise.resolve(null)}function Ut(){return"undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1||!_e()||"undefined"==typeof Promise}function Dt(){return!Ut()&&(Ee()||"undefined"!=typeof navigator&&"sendBeacon"in navigator)}function Lt(e,t){nt.emit("internal:error",{tags:["core-web-tracking:".concat(e)],reason:t instanceof Error?t:new Error("".concat(e,": ").concat(t))})}function Ft(e){var t,n={issueTime:0,browserId:""},r=l(e)
try{for(r.s();!(t=r.n()).done;){var i=t.value.split("=")
if(i.length>1&&"bscookie"===i[0]){var a=decodeURIComponent(i[1]),o=Number(a.substring(4,18)),s=isNaN(o)?0:o,c=a.substring(18,50)
return n.browserId=c,n.issueTime=s,n}}}catch(e){r.e(e)}finally{r.f()}return n}var Bt=function(e){var t=window.structuredClone
return t?t(e):JSON.parse(JSON.stringify(e))},jt=function(){function e(t){g(this,e),b(this,"heap",void 0),b(this,"comparator",void 0),this.comparator=t,this.heap=[]}return v(e,[{key:"heapsize",value:function(){return this.heap.length}},{key:"peak",value:function(){return this.heap[0]}},{key:"heapArray",get:function(){return this.heap}},{key:"heapClear",value:function(){var e=p(this.heap)
return this.heap=[],e}},{key:"heappop",value:function(){var e=this.heap.length,t=[this.heap[e-1],this.heap[0]]
this.heap[0]=t[0],this.heap[e-1]=t[1]
for(var n=this.heap.pop(),r=0;2*r+1<this.heap.length;){var i=2*r+1,a=2*r+2,o=a<this.heap.length&&this.comparator(this.heap[a],this.heap[i])?a:i
if(!this.comparator(this.heap[o],this.heap[r]))break
var s=[this.heap[r],this.heap[o]]
this.heap[o]=s[0],this.heap[r]=s[1],r=o}return n}},{key:"heapPush",value:function(e){this.heap.push(e)
for(var t=this.heap.length-1;t>0;){var n=Math.floor((t-1)/2)
if(!this.comparator(this.heap[t],this.heap[n]))break
var r=[this.heap[n],this.heap[t]]
this.heap[t]=r[0],this.heap[n]=r[1],t=n}}}]),e}()
function qt(){if("undefined"==typeof Promise||"undefined"==typeof navigator)return!1
var e=navigator.userAgent.indexOf("Chrome")>-1,t=navigator.cookieEnabled,n=navigator.storage
return e&&Ee()&&t&&n}var Vt=function(){function e(t){g(this,e),b(this,"host",void 0),this.host=t}return v(e,[{key:"checkAndEnablePersistentRetry",value:function(e,t){if("function"==typeof(null==e?void 0:e.shouldAnonymizeMemberId)&&!this.host.retryBeacon){var n=this.getRetryTreatment()
this.host.retryConfig&&function(e,t,n,r,i){"control"!==r&&e.retryConfig&&qt()&&navigator.storage.estimate().then((function(a){if(!((a.quota||0)-(a.usage||0)>52428800))return Nt("beacons")
var o,s,c=null!==(o=e.retryConfig.inMemory)&&void 0!==o?o:{attemptLimit:4,statusCodes:[502,504]},d=null!==(s=e.retryConfig.persist)&&void 0!==s?s:{attemptLimit:3,statusCodes:[429,503],maxNumber:1e3,batchEvictionNumber:300,throttleWait:3e5},u={compress:n,inMemoryRetry:{onIntermediateResult:null==i?void 0:i.onIntermediateResult,attemptLimit:c.attemptLimit,statusCodes:c.statusCodes,headerName:"x-li-retry-context",calculateRetryDelay:function(e){return function(e){return 1e3*Math.pow(2,e)}(e)}},disablePersistenceRetry:e.retryConfig.disablePersistence,persistenceRetry:{onBeforeRetry:null==i?void 0:i.onBeforeRetry,onResult:null==i?void 0:i.onResult,idbName:"beacons",attemptLimit:d.attemptLimit,statusCodes:d.statusCodes,maxNumber:d.maxNumber,batchEvictionNumber:d.batchEvictionNumber,throttleWait:d.throttleWait,useIdle:!0,measureIDB:{createStartMark:"idb_open_start",createSuccessMeasure:"idb_open_success_phase",createFailMeasure:"idb_open_fail_phase"}}},l=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Boolean(t.compress),r=Object.assign({attemptLimit:0,statusCodes:Xe,calculateRetryDelay:function(e,t){return 2e3*t}},t.inMemoryRetry)
if(t.retryDB)e=t.retryDB
else{var i=Object.assign({idbName:"beacon-transporter",attemptLimit:3,statusCodes:Qe,maxNumber:1e3,batchEvictionNumber:300,throttleWait:3e5},t.persistenceRetry)
i.headerName=i.headerName||r.headerName,e=new $e(i,{compress:t.compress,disablePersistenceRetry:t.disablePersistenceRetry})}return{beacon:function(i,a,o){var s
return _e()?new Ye(i,a,r,{db:e,disabled:Boolean(t.disablePersistenceRetry),statusCodes:(null===(s=t.persistenceRetry)||void 0===s?void 0:s.statusCodes)||Qe},n).send(o):Promise.resolve({type:"unknown",drop:!0})},database:e}}(u),p=l.beacon,f=l.database
return e.retryBeacon={shouldRetry:!0,beacon:p,database:f},"enabled"===r?(e.retryBeacon.shouldRetry=!1,!u.disablePersistenceRetry&&t.shouldAnonymizeMemberId()?f.peekQueue(1).then((function(e){if(Array.isArray(e)&&e[0]){var t=JSON.parse(e[0].body)
if(Array.isArray(t)&&t.some((function(e){return!e.eventInfo.shouldAnonymizeMemberId})))return f.clearQueue()}}),(function(){return f.clearQueue()})).then((function(){e.retryBeacon.shouldRetry=!0})).catch((function(e){Lt("retry:idb",e)})):(e.retryBeacon.shouldRetry=!0,Promise.resolve())):void 0})).catch((function(e){Lt("retry:setup",e)}))}(this.host,e,this.shouldCompressPayload(),n,t)}}},{key:"clearPersistedEventsOnLogout",value:function(){var e=this.host.retryBeacon
if(e&&e.shouldRetry)return e.shouldRetry=!1,e.database.clearQueue().catch((function(e){Lt("retry:logout",e)}))}},{key:"sendPayload",value:function(e,t,n,r){var i,a=this.getRetryTreatment()
Ee()&&"control"!==a&&null!==(i=this.host.retryBeacon)&&void 0!==i&&i.shouldRetry?this.sendPayloadWithRetry(e,t,n):this.sendPayloadFireForget(e,t,n,r)}},{key:"sendPayloadWithRetry",value:function(e,t,n){(!Array.isArray(t)||t.length>0)&&this.host.retryBeacon.beacon(e,JSON.stringify(t),n).catch((function(e){Lt("retry:beacon",e)}))}},{key:"sendPayloadFireForget",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;(!Array.isArray(t)||t.length>0)&&(Ut()?xe(e,JSON.stringify(t),{headers:n}):Ie(e,JSON.stringify(t),n,this.shouldCompressPayload()).then((function(e){null==r||r.onResult(e,t)}),(function(){})))}},{key:"getRetryTreatment",value:function(){var e,t,n
if(!this.host.retryConfig)return"control"
var r=this.host.retryConfig.lixKey
return r?null!==(e=null===(t=(n=this.host).__getLixTreatment)||void 0===t?void 0:t.call(n,r))&&void 0!==e?e:"control":"enabled"}},{key:"shouldCompressPayload",value:function(){return!0!==this.host.disableCompression}},{key:"isBrowserPersistentRetryEnabled",value:function(){var e,t
return"control"!==this.getRetryTreatment()&&null!==(e=null===(t=this.host.retryBeacon)||void 0===t?void 0:t.shouldRetry)&&void 0!==e&&e&&qt()&&"undefined"!=typeof globalThis&&!!globalThis.indexedDB}}]),e}(),Ht="undefined"!=typeof window&&"undefined"!=typeof document,Gt=/JSESSIONID="?([^";]+)"?/,Kt="",Wt=0
function zt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cacheLifeSpan,n=void 0===t?1e4:t,r=e.regex,i=void 0===r?Gt:r
if(!Kt||Date.now()-Wt>n){var a=Ht&&document.cookie.match(i)
Kt=a&&a[1]||"",Wt=Date.now()}return Kt}var $t=function(){function e(t){g(this,e),b(this,"networkTransporter",void 0),b(this,"inactive",void 0),b(this,"mpName",void 0),b(this,"endpoint",void 0),b(this,"debug",void 0),this.networkTransporter=new Vt(t),this.mpName=t.appId,this.inactive=t.inactive
var n=function(e){var t,n=!1
switch(e){case"https://www.linkedin.com/li/track":t=Qt
break
case"https://www.linkedin-ei.com/li/track/validate":default:n=!0,t=Xt
break
case"https://www.linkedin-ei.com/li/track":t=Xt}return{endpoint:t,debug:n}}(t.endpoint)
this.endpoint=n.endpoint,this.debug=n.debug}return v(e,[{key:"fireFragment",value:function(e){var t
if(!this.inactive){var n={"content-type":"application/json; charset=UTF-8","x-li-track":JSON.stringify({mpName:this.mpName}),"csrf-token":zt(),"x-restli-protocol-version":"2.0.0"},r=[],i=null!==(t=null==e?void 0:e.stats)&&void 0!==t?t:{},a=i.failures,o=i.previousInstanceEventStats.reduce((function(e,t){return e.push.apply(e,p(t.failures)),e}),[]);[].concat(p(a),p(o)).forEach((function(e){var t=e.reason,n=e.rawError,i=e.eventTopic,a=e.header,o=e.requestHeader
r.push({reason:t,rawError:n,failedTopicName:i,header:a,requestHeader:o})}))
var s={clientTrackingFailures:r,debug:this.debug}
this.networkTransporter.sendPayload(this.endpoint,s,n)}}}]),e}(),Xt="https://www.linkedin-ei.com/trackingMonitoring/?action=reportClientFailures",Qt="https://www.linkedin.com/trackingMonitoring/?action=reportClientFailures"
function Yt(e){return"string"==typeof e}function Jt(e){return Yt(e)?e:e.topicName||e.eventName}function Zt(e){return Yt(e)?e:e.eventName}var en,tn,nn=function(){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
g(this,e),b(this,"host",void 0),b(this,"cmoTransporter",void 0),b(this,"clientMonitoringInstanceId",lt()),b(this,"currentContext",on()),b(this,"appState",{}),b(this,"estimatedFragmentSize",0),b(this,"fragmentSizeLimit",void 0),b(this,"activeFragmentEvent",void 0),b(this,"debounceTimer",void 0),this.host=t,this.cmoTransporter=r.cmoTransporter||new $t(t),this.fragmentSizeLimit=(null===(n=t.clientMonitoringConfig)||void 0===n?void 0:n.fragmentSizeLimit)||10240,this.activeFragmentEvent=an(this.clientMonitoringInstanceId,0,0,!1,this.getEventHeaders())}return v(e,[{key:"getCurrentInstanceId",value:function(){return this.clientMonitoringInstanceId}},{key:"scheduleDebouncedFiring",value:function(){var e,t,n=this
void 0!==this.debounceTimer&&(clearTimeout(this.debounceTimer),this.debounceTimer=void 0),this.fragmentIsFull()&&this.fireFragmentEventIfFull(!0),this.debounceTimer=setTimeout((function(){n.fireFragmentEventIfFull()}),null!==(e=null===(t=this.host.batching)||void 0===t?void 0:t.debounceTime)&&void 0!==e?e:1)}},{key:"logEventGenerated",value:function(e){this.scheduleDebouncedFiring()
var t=this.activeFragmentEvent.stats,n=this.activeFragmentEvent.firstEventNumber+t.eventsGenerated
return t.eventTopics.push(e),t.eventsGenerated++,this.estimatedFragmentSize+=e.length,n}},{key:"logEventReadyToSend",value:function(e){this.activeFragmentEvent.stats.eventsReadyToSend+=e}},{key:"logEventSent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCurrentInstanceId()
t===this.getCurrentInstanceId()?this.activeFragmentEvent.stats.eventsSent+=e:this.findPreviousInstanceStat(t,(function(t){t.eventsSent+=e}))}},{key:"logNetworkResponseCode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCurrentInstanceId(),n=this.activeFragmentEvent.stats.networkResponseStats
t!==this.getCurrentInstanceId()&&this.findPreviousInstanceStat(t,(function(e){n=e.networkResponseStats})),e>=200&&e<300?n.eventsWith2XXResponse++:400===e?n.eventsWith400Response++:408===e?n.eventsWith408Response++:429===e?n.eventsWith429Response++:e>400&&e<500?n.eventsWith4XXResponse++:500===e?n.eventsWith500Response++:502===e?n.eventsWith502Response++:503===e?n.eventsWith503Response++:504===e?n.eventsWith504Response++:e>500&&e<600&&n.eventsWith5XXResponse++}},{key:"findPreviousInstanceStat",value:function(e,t){var n,r=l(this.activeFragmentEvent.stats.previousInstanceEventStats)
try{for(r.s();!(n=r.n()).done;){var i=n.value
if(i.instanceId===e)return void t(i)}}catch(e){r.e(e)}finally{r.f()}var a=this.getEventHeaders(),o=a.header,s=a.requestHeader,c={header:Object.assign(o,{memberId:-1}),requestHeader:s,instanceId:e,eventsSent:0,eventTopics:[],networkResponseStats:{eventsWith2XXResponse:0,eventsWith400Response:0,eventsWith408Response:0,eventsWith429Response:0,eventsWith4XXResponse:0,eventsWith500Response:0,eventsWith502Response:0,eventsWith503Response:0,eventsWith504Response:0,eventsWith5XXResponse:0},failures:[]}
t(c),this.activeFragmentEvent.stats.previousInstanceEventStats.push(c)}},{key:"logFailedEvent",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getCurrentInstanceId(),a=this.getEventHeaders(),o=a.header,s=a.requestHeader,c={header:Object.assign(o,{memberId:-1}),requestHeader:s,instanceId:i,instanceEventNumber:r,reason:e,rawError:n,eventName:Zt(t),eventTopic:Jt(t)}
this.estimatedFragmentSize+=JSON.stringify(c).length,i===this.getCurrentInstanceId()?this.activeFragmentEvent.stats.failures.push(c):this.findPreviousInstanceStat(i,(function(e){e.failures.push(c)})),this.fireFragmentEventIfFull()}},{key:"flush",value:function(){this.activeFragmentEvent.isLastFragment=!0,this.fireFragmentEventIfFull(!0)}},{key:"fragmentIsFull",value:function(){return this.activeFragmentEvent.stats.eventsGenerated>=100||this.estimatedFragmentSize>=this.fragmentSizeLimit}},{key:"fireFragmentEventIfFull",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]
if(e||this.fragmentIsFull()){this.debounceTimer=void 0
var t=this.getEventHeaders(),n=t.header,r=t.requestHeader,i=this.activeFragmentEvent
i.header=n,i.requestHeader=r,this.cmoTransporter.fireFragment(i),this.estimatedFragmentSize=0,this.activeFragmentEvent=an(this.clientMonitoringInstanceId,i.fragmentNumber+1,i.firstEventNumber+i.stats.eventsGenerated,!1,t)}}},{key:"setCurrentContext",value:function(e){this.currentContext=e}},{key:"updateAppState",value:function(e){this.host.api.assign(this.appState,e)}},{key:"getEventHeaders",value:function(){var e=void 0
this.appState.clientApplicationInstance&&((e=this.appState.clientApplicationInstance).trackingId=sn(e.trackingId))
var t=this.currentContext.pageInstance
return t.trackingId=sn(t.trackingId),{requestHeader:{interfaceLocale:this.host.locale,pageKey:this.currentContext.pageKey,path:this.host.api.location.pathname+this.host.api.location.search,referer:this.host.api.document.referrer},header:{applicationViewerUrn:this.appState.applicationViewerUrn,clientApplicationInstance:e,pageInstance:t,time:Date.now(),version:this.host.appVersion,server:"",service:"",guid:lt(),memberId:0}}}}]),e}()
function rn(e){return en||(en=new nn(e)),{getCurrentInstanceId:function(){return en.getCurrentInstanceId()},logEventGenerated:function(e){return en.logEventGenerated(e)},logEventReadyToSend:function(e){en.logEventReadyToSend(e)},logEventSent:function(e){en.logEventSent(e)},logPersistedEventSent:function(e,t){en.logEventSent(t,e)},logNetworkResponseCode:function(e){en.logNetworkResponseCode(e)},logPersistedNetworkResponseCode:function(e,t){var n
null===(n=en)||void 0===n||n.logNetworkResponseCode(t,e)},logFailedEvent:function(e,t,n,r){en.logFailedEvent(e,t,n,r)},logPersistedFailedEvent:function(e,t,n,r,i){en.logFailedEvent(t,n,r,i,e)},flush:function(){en.flush()},destroy:function(){en=void 0},isDestroyed:function(){return void 0===en},setCurrentContext:function(e){en.setCurrentContext(e)},updateAppState:function(e){en.updateAppState(e)}}}function an(e,t,n,r,i){return{fragmentNumber:t,firstEventNumber:n,isLastFragment:r,stats:{instanceId:e,eventsGenerated:0,eventsReadyToSend:0,eventsSent:0,networkResponseStats:{eventsWith2XXResponse:0,eventsWith400Response:0,eventsWith408Response:0,eventsWith429Response:0,eventsWith4XXResponse:0,eventsWith500Response:0,eventsWith502Response:0,eventsWith503Response:0,eventsWith504Response:0,eventsWith5XXResponse:0},eventTopics:[],failures:[],previousInstanceEventStats:[]},requestHeader:i.requestHeader,header:i.header}}function on(){return{pageKey:"unknown",pageInstance:Tt("unknown")}}function sn(e){return Array.isArray(e)?ut(e):16===e.length?e:ft(e)?atob(e):ut(bt(e))}function cn(e){return{onResult:function(t,n){e&&!e.isDestroyed()&&(t.statusCode&&e.logNetworkResponseCode(t.statusCode),!0===t.drop&&n.forEach((function(n){var r=n.eventInfo.eventName,i=n.eventInfo.topicName||r,a="rawError"in t?t.rawError:"null",o=["type: ".concat(t.type),"statusCode: ".concat(t.statusCode||"null"),"drop: ".concat(String(t.drop)),"rawError: ".concat(a)].join(", ")
null==e||e.logFailedEvent(tn.UNKNOWN_EXECUTION_ERROR,{eventName:r,topicName:i},o,n.eventBody.header.clientMonitoringInstanceEventNumber||-1)})))}}}!function(e){e.NONE="NONE",e.UNKNOWN_EXECUTION_ERROR="UNKNOWN_EXECUTION_ERROR",e.MISSING_REQUIRED_PROPERTIES="MISSING_REQUIRED_PROPERITES",e.STORAGE_WRITE_FAILURE="STORAGE_WRITE_FAILURE",e.RETRIES_EXCEEDED="RETRIES_EXCEEDED",e.EVENT_EVICTED_FROM_STORAGE="EVENT_EVICTED_FROM_STORAGE",e.STORAGE_UNAVAILABLE="STORAGE_UNAVAILABLE",e.SERIALIZATION_FAILURE="SERIALIZATION_FAILURE"}(tn||(tn={}))
var dn=["PageViewEvent","SponsoredImpressionEvent","JobViewEvent"],un="PageViewEvent",ln=function(){function e(t){var n=this
g(this,e),b(this,"host",void 0),b(this,"queue",void 0),b(this,"preContextQueue",void 0),b(this,"debounceTimer",void 0),b(this,"unloadHandlers",void 0),b(this,"maxQueueSize",void 0),b(this,"flushDebounceTime",void 0),b(this,"trackingEventListeners",[]),b(this,"onHideHandler",(function(){n.forceFlush()})),b(this,"networkTransporter",void 0),b(this,"clientMonitoringConn",void 0),b(this,"clientGlobalSequenceNumberCounter",void 0),b(this,"clientTopicLocalSequenceNumberCountersMap",{}),b(this,"isTimerRunning",void 0),this.host=t,this.queue=[],this.preContextQueue=[],this.unloadHandlers=[]
var r=t.batching
this.maxQueueSize=r&&r.maxSize||1,this.flushDebounceTime=r&&r.debounceTime||0,nt.on("internal:hide",this.onHideHandler),this.networkTransporter=new Vt(t),this.isLixEnabled("pemberly.tracking.monitoring")&&t.clientMonitoringConfig&&!t.inactive&&(this.clientMonitoringConn=rn(t)),this.getSequenceNumberFromIDB(),this.updateSequenceNumberOnExit(),this.isTimerRunning=!1}return v(e,[{key:"checkAndEnablePersistentRetry",value:function(e){var t,n=(t=this.clientMonitoringConn,{onIntermediateResult:function(e,n){var r
if(t&&!t.isDestroyed())try{if(r=JSON.parse(n),!Array.isArray(r)||0===r.length)return
e.statusCode&&t.logNetworkResponseCode(e.statusCode),!0===e.drop&&r.forEach((function(n){var r,i=n.eventInfo.eventName,a=n.eventInfo.topicName||i,o="rawError"in e?e.rawError:"null",s=["type: ".concat(e.type),"statusCode: ".concat(e.statusCode||"null"),"drop: ".concat(String(e.drop)),"rawError: ".concat(o)].join(", ")
t.logFailedEvent(tn.UNKNOWN_EXECUTION_ERROR,{eventName:i,topicName:a},s,null!==(r=n.eventBody.header.clientMonitoringInstanceEventNumber)&&void 0!==r?r:-1)}))}catch(e){}},onBeforeRetry:function(e){var n
if(t&&!t.isDestroyed())try{if(n=JSON.parse(e),!Array.isArray(n)||0===n.length||!n[0].eventBody.header.clientMonitoringInstanceId)return
var r=n[0].eventBody.header.clientMonitoringInstanceId,i=n.length
t.logPersistedEventSent(r,i)}catch(e){}},onResult:function(e,n){var r
if(t)try{if(r=JSON.parse(n),!Array.isArray(r)||0===r.length||!r[0].eventBody.header.clientMonitoringInstanceId)return
var i=r[0].eventBody.header.clientMonitoringInstanceId
e.statusCode&&t.logPersistedNetworkResponseCode(i,e.statusCode),!0===e.drop&&r.forEach((function(n){var r=n.eventInfo.eventName,a=n.eventInfo.topicName||r,o="rawError"in e?e.rawError:"null",s=["type: ".concat(e.type),"statusCode: ".concat(e.statusCode||"null"),"drop: ".concat(String(e.drop)),"rawError: ".concat(o)].join(", ")
t.logPersistedFailedEvent(i,tn.UNKNOWN_EXECUTION_ERROR,{eventName:r,topicName:a},s,n.eventBody.header.clientMonitoringInstanceEventNumber)}))}catch(e){}}})
this.networkTransporter.checkAndEnablePersistentRetry(e,n)}},{key:"clearPersistedEventsOnLogout",value:function(){return this.networkTransporter.clearPersistedEventsOnLogout()}},{key:"on",value:function(e){this.trackingEventListeners.push(e)}},{key:"fireEvent",value:function(e){var t=function(e){return e.meta.time=Date.now(),e}(e)
this.clientMonitoringConn&&(t.meta.clientMonitoringInstanceId=this.clientMonitoringConn.getCurrentInstanceId(),t.meta.clientMonitoringInstanceEventNumber=this.clientMonitoringConn.logEventGenerated(Jt(e.id)))
var n=this.host,r=n.api.Promise,i=n.batching
if(function(e){return!!e.meta.context}(t)){var a,o=this.prepareCompleteEnvelopeQueue(t)
null===(a=this.clientMonitoringConn)||void 0===a||a.logEventReadyToSend(1)
var s=Jt(o.id)
if(this.isLixEnabled("pemberly.tracking.generic-event-immediate-fire")&&("GenericActionEvent"===s||"GenericImpressionEvent"===s)){var c=[o]
return this.sendPayload(c),r.resolve(!0)}return this.queue.push(o),i?(this.batchFire(),r.resolve(!0)):(this.flush(!0),r.resolve(!0))}return this.preContextQueue.push(t),r.resolve(!0)}},{key:"callOnDestroy",value:function(e){this.unloadHandlers.push(e)}},{key:"destroy",value:function(){this.unloadHandlers.forEach((function(e){return e()})),this.forceFlush(),this.trackingEventListeners=[],this.clientMonitoringConn=void 0,nt.off("internal:hide",this.onHideHandler)}},{key:"forceFlush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1
this.populatePreContextQueue({pageInstance:Tt("unknown"),pageKey:"unknown"}).forEach((function(t){e.queue.push(t)})),this.isLixEnabled("pemberly.tracking.even-batch")?1===t?this.sendPayload(void 0,!0):this.sendPayload():this.flush(!0)}},{key:"isLixEnabled",value:function(e){var t,n
return"enabled"===(null===(t=(n=this.host).__getLixTreatment)||void 0===t?void 0:t.call(n,e))}},{key:"getSequenceNumberFromIDB",value:function(){var e=this
Pt("read").then((function(t){var n
e.clientGlobalSequenceNumberCounter=null!==(n=null==t?void 0:t.sequenceNumber)&&void 0!==n?n:0,dn.forEach((function(n){var r
e.clientTopicLocalSequenceNumberCountersMap[n]=null!==(r=null==t?void 0:t[n])&&void 0!==r?r:0}))})).catch((function(e){Lt("sequence-number:idb-read",e)}))}},{key:"updateSequenceNumberToIDB",value:function(){Pt("update",this.clientGlobalSequenceNumberCounter,this.clientTopicLocalSequenceNumberCountersMap).catch((function(e){Lt("sequence-number:idb-update",e)}))}},{key:"updateSequenceNumberOnExit",value:function(){var e=this
"undefined"!=typeof window&&"undefined"!=typeof document&&window.addEventListener("beforeunload",(function t(){e.updateSequenceNumberToIDB(),window.removeEventListener("beforeunload",t)}))}},{key:"prepareCompleteEnvelopeQueue",value:function(e){var t=this,n=e.meta.context=St(e.meta.context,this.host.api)
return"function"==typeof e.body&&(e.body=e.body(n)),this.preContextQueue.length>0&&this.populatePreContextQueue(n).forEach((function(e){return t.queue.push(e)})),e}},{key:"envelop",value:function(e,t,n){var r=this.host,i=r.appId,a=r.api,o={eventBody:t,eventInfo:"string"==typeof e?{appId:i,eventName:e,topicName:e}:a.assign({appId:i},e)}
return n.length>0&&this.host.api.assign(o,{clientBreadcrumbs:n}),o}},{key:"getBreadcrumbs",value:function(e){return e.clientBreadcrumbs||[]}},{key:"getGenericEventBody",value:function(e){var t,n=this.host,r=n.appVersion,i=n.locale,a=n.api,o=a.location,s=a.document,c=a.assign,d=e.meta.context,u=d.pageKey,l=d.pageInstance,p=function(e){return"string"==typeof e?e===un:e.eventName===un}(e.id)&&(null===(t=e.body.requestHeader)||void 0===t?void 0:t.pageKey)||u,f=null
"string"!=typeof i&&null!==this.host.locale||(f=i)
var h={interfaceLocale:f,pageKey:p,path:o.pathname+o.search,referer:s.referrer,isFlushOnCloseBrowserTabEnabled:Dt(),isBrowserPersistentRetryEnabled:this.networkTransporter.isBrowserPersistentRetryEnabled()},m={pageInstance:l,time:e.meta.time,version:r,server:"",service:"",guid:lt(),memberId:0}
"number"==typeof this.clientGlobalSequenceNumberCounter&&c(m,{clientGlobalSequenceNumber:this.clientGlobalSequenceNumberCounter})
var g=Jt(e.id)
if(dn.includes(g)){var y=this.clientTopicLocalSequenceNumberCountersMap[g]
"number"==typeof y&&c(m,{clientTopicLocalSequenceNumber:y})}var v={header:c(m,e.meta.header||{}),requestHeader:c(h,e.meta.requestHeader||{})},b=e.meta.clientMonitoringInstanceId,T=e.meta.clientMonitoringInstanceEventNumber
return b&&c(v.header,{clientMonitoringInstanceId:b,clientMonitoringInstanceEventNumber:T}),c(e.body,v)}},{key:"populatePreContextQueue",value:function(e){var t,n=this.preContextQueue
return this.preContextQueue=[],null===(t=this.clientMonitoringConn)||void 0===t||t.logEventReadyToSend(n.length),n.map((function(t){return t.meta.context=e,"function"==typeof t.body&&(t.body=t.body(e)),t}))}},{key:"trigger",value:function(e,t){this.trackingEventListeners.forEach((function(n){return n(e,t)}))}},{key:"requestFlush",value:function(e){var t=this
e((function(){t.forceFlush(0)}),{timeout:1e4})}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.host.api.requestIdleCallback
e||!t?this.sendPayload(void 0,!0):this.requestFlush(t)}},{key:"batchFire",value:function(){var e=this
this.queue.length>this.maxQueueSize?this.flush():(this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout((function(){return e.flush()}),this.flushDebounceTime))}},{key:"sendPayload",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
if(this.isLixEnabled("pemberly.tracking.even-batch"))if(Array.isArray(e)&&e.length>0)t=e
else{var i=this.maxQueueSize+1
this.queue.length>0&&(this.queue.length<=i||r)?(t=this.queue,this.queue=[]):t=this.queue.splice(0,i)}else Array.isArray(e)&&e.length>0?t=e:(t=this.queue,this.queue=[])
if(0!==t.length){"undefined"!=typeof window&&!1===this.isTimerRunning&&(this.isTimerRunning=!0,setInterval((function(){n.updateSequenceNumberToIDB()}),5e3))
var a,o=[],s=[]
t.forEach((function(e){var t=n.getGenericEventBody(e),r=n.getBreadcrumbs(e),i=n.envelop(e.id,t,r)
n.trigger(i,e.meta)
var a=i.eventInfo.eventName
"LixTreatmentsEvent"===a||"JavaScriptErrorEvent"===a?o.push(i):s.push(i),"number"==typeof n.clientGlobalSequenceNumberCounter&&n.clientGlobalSequenceNumberCounter++
var c=Jt(e.id)
dn.includes(c)&&"number"==typeof n.clientTopicLocalSequenceNumberCountersMap[c]&&n.clientTopicLocalSequenceNumberCountersMap[c]++})),this.host.inactive||(this.clientMonitoringConn&&(this.clientMonitoringConn.logEventSent(o.length+s.length),a=cn(this.clientMonitoringConn)),this.networkTransporter.sendPayloadFireForget(this.host.endpoint,o,void 0,a),this.networkTransporter.sendPayload(this.host.endpoint,s,void 0,a))}}}]),e}()
function pn(){var e={},t=new Proxy({},{get:function(n,r){return"build"===r?function(){return e}:function(n){return e[r.toString()]=n,t}}})
return t}var fn,hn=function(){function e(t,n){g(this,e),this.clientBreadcrumbType=t,this.id=n}return v(e,[{key:"builder",get:function(){return pn().id(this.id).clientBreadcrumbType(this.clientBreadcrumbType)}}],[{key:"toPointer",value:function(e){return{id:e.id,type:e.clientBreadcrumbType}}}]),e}()
function mn(e){if(!e)return{}
var t=e.trk,n=!1,r=e.licu&&decodeURIComponent(e.licu)
e.external_control&&(r="urn:li:externalControl:".concat(decodeURIComponent(e.external_control)),n=!0)
var i,a=e.lipi&&xt(e.lipi)
if(a?i={pageInstance:a,pageKey:t}:t&&(i={pageKey:t}),e.external_page&&e.external_page_instance){var o=decodeURIComponent(e.external_page)
i={pageInstance:{pageUrn:"urn:li:externalPage:".concat(o),trackingId:e.external_page_instance},pageKey:o},n=!0}var s=e.external_app&&e.external_app_instance?{applicationUrn:"urn:li:externalApplication:".concat(decodeURIComponent(e.external_app)),trackingId:e.external_app_instance,version:""}:void 0
return s&&((i=i||{}).applicationInstance=s),{fromExternalApp:n||!!s,previousApplicationInstance:s,previousContext:i,previousControlId:e.lici&&decodeURIComponent(e.lici),previousControlUrn:r}}function gn(e){return"retryConfig"in e.host}!function(e){e.UNKNOWN="UNKNOWN",e.ME_NOTIFICATION="ME_NOTIFICATION",e.ME_NOTIFICATION_ACTION="ME_NOTIFICATION_ACTION",e.JOB_VIEW="JOB_VIEW"}(fn||(fn={}))
var yn=function(){function e(t,n){var r,i
if(g(this,e),b(this,"transporter",void 0),b(this,"delegate",void 0),b(this,"currentContext",void 0),b(this,"appState",void 0),b(this,"previousAppContext",void 0),b(this,"customTransporters",void 0),b(this,"clientMonitoringConn",void 0),this.transporter=t,this.delegate=n,this.appState={},this.customTransporters={},n&&n.customTransporterHosts)for(var a in n.customTransporterHosts)if(Object.prototype.hasOwnProperty.call(n.customTransporterHosts,a)){var o=this.transporter.host.api.assign({},this.transporter.host)
this.customTransporters[a]=new ln(this.transporter.host.api.assign(o,n.customTransporterHosts[a]))}"enabled"===(null===(r=(i=t.host).__getLixTreatment)||void 0===r?void 0:r.call(i,"pemberly.tracking.monitoring"))&&t.host.clientMonitoringConfig&&!t.host.inactive&&"location"in t.host.api&&(this.clientMonitoringConn=rn(t.host))}return v(e,[{key:"host",get:function(){return this.transporter.host}},{key:"checkAndEnablePersistentRetry",value:function(){gn(this.transporter)&&this.transporter.checkAndEnablePersistentRetry(this.delegate)}},{key:"flushAndClearPersistedEventsOnLogout",value:function(){this.forceFlush()
var e=gn(this.transporter)?this.transporter.clearPersistedEventsOnLogout():null
return null!=e?e:this.host.api.Promise.resolve()}},{key:"getCurrentContext",value:function(){if(this.currentContext)return St(this.currentContext,this.host.api)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.navMetaFromSeed(e,mn(t))
if(this.setCurrentContext(r.to),!n.suppressEventsFiring)return this.fireNavEvents(r)}},{key:"setCurrentContext",value:function(e){var t
this.currentContext=St(e,this.host.api),null===(t=this.clientMonitoringConn)||void 0===t||t.setCurrentContext(St(e,this.host.api))}},{key:"updateAppState",value:function(e){var t
this.host.api.assign(this.appState,e),null===(t=this.clientMonitoringConn)||void 0===t||t.updateAppState(e)}},{key:"fireCIE",value:function(e,t,n,r,i){return this.fireEvent("ControlInteractionEvent",(function(n){var a=_t(n.pageKey,e),o={controlTrackingId:r,controlUrn:a,interactionType:t}
return i&&i(a),o}),{context:n})}},{key:"fireEvent",value:function(e,t,n,r){if(!t){var i=Jt(e),a=void 0===t?"undefined":null===t?"null":m(t),o='Firing tracking event "'.concat(i,'" with invalid body, you fired "').concat(a,'"')
if(this.clientMonitoringConn){var s=this.clientMonitoringConn.logEventGenerated(i)
this.clientMonitoringConn.logFailedEvent(tn.MISSING_REQUIRED_PROPERTIES,e,o,s)}throw new Error(o)}var c=r||[]
if(c.length>0){var d=c.map((function(e){return hn.toPointer(e)}))
this.host.api.assign(t,{clientBreadcrumbPointers:d})}var u=c.length>0?this.generateEnvelopeWithBreadcrumbs(e,t,n,c):this.generateEnvelope(e,t,n)
return this.fireEnvelope(u)}},{key:"generateEnvelopeWithBreadcrumbs",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=this.generateEnvelope(e,t,n),a=r.length>0?this.addBreadcrumbsToEnvelope(i,r):i
return a}},{key:"addBreadcrumbsToEnvelope",value:function(e,t){return this.host.api.assign(e,{clientBreadcrumbs:t}),e}},{key:"fireEnvelope",value:function(e){var t,n
if(null!==(t=this.delegate)&&void 0!==t&&null!==(n=t.shouldAnonymizeMemberId)&&void 0!==n&&n.call(t))if(Yt(e.id)){var r=e.id
e.id={eventName:r,topicName:r,shouldAnonymizeMemberId:!0}}else e.id.shouldAnonymizeMemberId=!0
var i=this.delegate&&this.delegate.preTransporter?this.delegate.preTransporter(e):e
if(i){var a=i.meta.transporterKey,o=a?this.customTransporters[a]:this.transporter
if(!o&&a){var s=Jt(i.id),c="Could not find custom transporter: ".concat(a)
if(this.clientMonitoringConn){var d=this.clientMonitoringConn.logEventGenerated(s)
this.clientMonitoringConn.logFailedEvent(tn.UNKNOWN_EXECUTION_ERROR,i.id,c,d)}throw new Error(c)}return o.fireEvent(i)}return this.host.api.Promise.resolve(!0)}},{key:"generatePageInstance",value:function(e,t){return Tt(e,t)}},{key:"firePVE",value:function(e,t,n){return this._firePVE(e,t,n)}},{key:"_firePVE",value:function(e,t,n){var r={pageType:"full",totalTime:0,trackingCode:this.getTrackingCode(),trackingInfo:{}},i=this.host.api.assign(r,t),a=this.generateEnvelope("PageViewEvent",i,{context:n})
return a.meta.requestHeader.pageKey=e,this.fireEnvelope(a)}},{key:"destroy",value:function(){for(var e in this.transporter.destroy(),this.customTransporters)this.customTransporters[e].destroy()
this.clientMonitoringConn&&(this.clientMonitoringConn.flush(),this.clientMonitoringConn.destroy(),this.clientMonitoringConn=void 0),nt.clear()}},{key:"forceFlush",value:function(){for(var e in this.transporter.forceFlush(),this.customTransporters)this.customTransporters[e].forceFlush()}},{key:"generateControlUrn",value:function(e,t){return _t((t||this.currentContext||{pageKey:"unknown"}).pageKey,e)}},{key:"fireRawCIE",value:function(e,t,n,r){var i={controlTrackingId:r,controlUrn:e,interactionType:t}
return{beacon:this.fireEvent("ControlInteractionEvent",i,{context:n}),controlUrn:e}}},{key:"generateNavigationEvent",value:function(e){var t=e.triggerId,n=e.triggerUrn,r=e.from
return{previousPageInstance:r&&r.pageInstance,triggerControlTrackingId:t,triggerControlUrn:n}}},{key:"getTrackingCode",value:function(){return this.previousAppContext&&this.previousAppContext.pageKey}},{key:"navMetaFromSeed",value:function(e,t){var n="NavigationEvent"
this.previousAppContext=t.previousContext
var r=t.fromExternalApp?{eventName:n,topicName:"InboundNavigationEvent"}:n
return{from:t.previousContext,navEventId:r,to:{applicationInstance:t.applicationInstance,pageInstance:this.generatePageInstance(e,t.pageTrackingId),pageKey:e},triggerId:t.previousControlId,triggerUrn:t.previousControlUrn}}},{key:"fireNavEvents",value:function(e){var t=this.generateNavigationEvent(e),n=e.to,r=e.from,i=e.navEventId,a=this.generateEnvelope(i,t)
a.meta.requestHeader.pageKey=n.pageKey
var o=r&&r.applicationInstance
return o&&(a.meta.header.clientApplicationInstance=o),this.host.api.Promise.all([this._firePVE(n.pageKey),this.fireEnvelope(a)])}},{key:"generateEnvelope",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={directive:n.directive,transporterKey:n.transporterKey,context:n.context||this.currentContext&&St(this.currentContext,this.host.api),requestHeader:this.host.api.assign({trackingCode:this.getTrackingCode()},n.requestHeader||{}),header:this.host.api.assign({applicationViewerUrn:this.appState.applicationViewerUrn,clientApplicationInstance:this.appState.clientApplicationInstance},n.header||{})}
return{body:"function"==typeof t?t:function(){return t},id:e,meta:r}}}]),e}()
function vn(e){return e.split("").reduce((function(e,t){return(e<<5)-e+t.charCodeAt(0)|0}),0)}function bn(e){var t="unknown"
return e.map((function(e){var n=e.e,r=e.options,i=e.tags,a=n.message,o=n.name,s=n.stack,c=void 0===s?"":s,d=r.appId,u=r.appVersion,l=r.protocol,p=r.eventName,f=r.service,h=r.host,m=void 0===h?t:h,g=r.hash,y=void 0===g?t:g,v=r.path,b=void 0===v?t:v,T=r.query,_=void 0===T?t:T,E=r.serviceInstance,x=void 0===E?t:E,S=r.pageKey
return{eventBody:{appId:d,e:{m:a,s:c,t:o},l:l,service:f,serviceVersion:u,t:i,serviceInstance:x,o:m,h:y,p:b,q:_,pageKey:void 0===S?t:S},eventInfo:{appId:d,eventName:p,topicName:p}}}))}var Tn,_n,En=function(){function e(t,n){var r,i=this
g(this,e),b(this,"core",void 0),b(this,"protocol",void 0),b(this,"throttleKeySet",new Set),b(this,"config",void 0),b(this,"reportTransporterError",(function(e){e.reason instanceof Error||(e.reason=new Error(e.reason||"An error occurred in the transporter")),i.reportError(e.reason,e.tags.concat(["info"])).catch((function(){}))})),this.core=t
var a=this.core.host.api.location.protocol
this.protocol=a.substring(0,a.length-1),this.config={throttleTime:null!==(r=null==n?void 0:n.throttleTime)&&void 0!==r?r:100},nt.on("internal:error",this.reportTransporterError)}return v(e,[{key:"reportError",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.callTreeId,o=void 0===a?"":a,s=i.responseHeaders,c=void 0===s?{}:s,d=e.message,u=e.name,l=e.stack,p=void 0===l?"":l,f=e.fileName,h=void 0===f?"":f,m=e.lineNumber,g=void 0===m?0:m,y=e.columnNumber,v=void 0===y?0:y,b=this.core.host,T=b.appId,_=b.appVersion,E=b.service,x=b.serviceInstance,S=b.treeID,C=void 0===S?"":S,A=b.api,k=A.Promise,I=A.location,R=I.host,w=I.pathname,M=I.search,O=I.hash,N=void 0===O?"":O
if(c){t={}
var P=new Map
Object.keys(c).forEach((function(e){P.set(e.toLowerCase(),c[e])})),t.callTreeId=P.get("x-li-uuid"),t.microsoftEdgeReference=P.get("x-msedge-ref"),t.pointOfPresenceId=P.get("x-li-pop"),t.fabric=P.get("x-li-fabric")}var U=function(){return n.core.fireEvent("JavaScriptErrorEvent",(function(e){return{appId:T,e:{c:v,l:g,m:d,s:p,t:u,u:h},h:N,l:n.protocol,o:R,p:w,pageKey:e.pageKey,q:M,service:E,serviceInstance:x,serviceVersion:_,t:r,trackingID:e.pageInstance.trackingId,treeID:C,callTreeId:o,responseTraceHeaders:t}}))}
if(this.config.throttleTime<0)return U()
var D=vn(u+d+p+r.join("")+o)
return this.throttleKeySet.has(D)?k.resolve(!1):(this.throttleKeySet.add(D),setTimeout((function(){return n.throttleKeySet.delete(D)}),this.config.throttleTime),U())}},{key:"flush",value:function(){this.core.forceFlush()}},{key:"destroy",value:function(){this.core.destroy(),nt.off("internal:error",this.reportTransporterError)}}]),e}()
!function(e){e.RealUserMonitoringEvent="RealUserMonitoringEvent",e.FeaturePerformanceMeasurementEvent="FeaturePerformanceMeasurementEvent",e.ClientPerfMetricsEvent="ClientPerfMetricsEvent",e.WEB_UI_FRAMEWORK="web-ui-framework",e.APP_ID="app-id",e.APP_VERSION="app-version",e.IS_SINGLE_PAGE_APP="is-single-page-app",e.IS_APP_RENDER_FAILED="is-app-render-failed",e.APP_RENDER_MODE="app-render-mode",e.USER_TIMING_MARK_ENABLED="user-timing-mark-enabled",e.USER_TIMING_MEASURE_ENABLED="user-timing-measure-enabled",e.BEACON_SOURCE="beacon-source",e.BEACON_TIMEOUT="beacon-timeout",e.ENABLE_RS_TIMING="enable-rs-timing",e.ENABLE_CDN_TRACKING="enable-cdn-tracking",e.ASYNC_PLUGINS_TIMEOUT="async-plugins-timeout",e.ENABLE_MEMORY_MEASUREMENT="enable-memory-measurement",e.PAGE_KEY_PREFIX="pageKeyPrefix"}(Tn||(Tn={})),function(e){e.PageLoadStartEvent="PageLoadStartEvent",e.PageLoadEndEvent="PageLoadEndEvent",e.ResourceLoadEvent="ResourceLoadEvent",e.CustomMeasureEvent="CustomMeasureEvent",e.ViewLoadEvent="ViewLoadEvent",e.PEMTracer="PEMTracer"}(_n||(_n={}))
var xn,Sn,Cn,An,kn,In,Rn=(b(r={},"web-ui-framework","EMBER"),b(r,"app-id","linkedin.rum.tracking"),b(r,"app-version","unknown"),b(r,"is-single-page-app",!0),b(r,"user-timing-mark-enabled",!1),b(r,"user-timing-measure-enabled",!0),b(r,"beacon-source","apps"),b(r,"enable-rs-timing",!0),b(r,"enable-cdn-tracking",!1),b(r,"async-plugins-timeout",5e3),b(r,"beacon-timeout",3e4),b(r,"enable-memory-measurement",!1),b(r,"pageKeyPrefix",""),r),wn=["loadEventEnd","loadEventStart","domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","domLoading","responseEnd","responseStart","requestStart","secureConnectionStart","connectEnd","connectStart","domainLookupEnd","domainLookupStart","fetchStart","redirectEnd","redirectStart","unloadEventEnd","unloadEventStart","navigationStart"],Mn={redirectStart:"REDIRECT_START",redirectEnd:"REDIRECT_END",fetchStart:"FETCH_START",domainLookupStart:"DOMAIN_LOOKUP_START",domainLookupEnd:"DOMAIN_LOOKUP_END",connectStart:"CONNECT_START",connectEnd:"CONNECT_END",secureConnectionStart:"SECURE_CONNECTION_START",requestStart:"REQUEST_START",responseStart:"RESPONSE_START",responseEnd:"RESPONSE_END",workerStart:"WORKER_START"},On={"http/0.9":"HTTP0_9","http/1.0":"HTTP1_0","http/1.1":"HTTP1_1",h2:"HTTP2"},Nn="pageLoadId does not exist",Pn="rum token passed is invalid",Un=[new RegExp(/.licdn.com\/playlist\//),new RegExp(/sensorCollect\/\?action=reportMetrics/)],Dn=function(){function e(){g(this,e),b(this,"userTimingEntries",[]),b(this,"longTasks",[]),b(this,"resourceTimingEntries",[]),b(this,"cdnData",void 0)}return v(e,[{key:"reset",value:function(){this.userTimingEntries=[],this.longTasks=[],this.resourceTimingEntries=[]}},{key:"attachTreeIds",value:function(e){this.resourceTimingEntries.forEach((function(t){var n=e.get(t.name)
n&&(t.resourceTreeId=n)}))}},{key:"getData",value:function(){return{userTimingEntries:this.userTimingEntries,longTasks:this.longTasks,resourceTimingEntries:this.resourceTimingEntries.map(Fn),cdnData:this.cdnData}}}]),e}(),Ln=["resourceTreeId","name","entryType","startTime","duration","initiatorType","nextHopProtocol","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","transferSize","encodedBodySize","decodedBodySize","workerStart"]
function Fn(e){return Ln.reduce((function(t,n){var r=e[n]
return void 0!==r&&(t[n]=r),t}),{})}function Bn(e,t){if(e.nodeType!==Node.ELEMENT_NODE)throw new Error("Can't generate CSS selector for non-element node type.")
if("html"===e.tagName.toLowerCase())return"html"
var n={root:document.body,idName:function(e){return!0},className:function(e){return!0},tagName:function(e){return!0},attr:function(e,t){return!1},seedMinLength:1,optimizedMinLength:2,threshold:1e3,maxNumberOfTries:1e4}
kn=Object.assign(Object.assign({},n),t),In=function(e,t){return e.nodeType===Node.DOCUMENT_NODE?e:e===t.root?e.ownerDocument:e}(kn.root,n)
var r=jn(e,An.All,(function(){return jn(e,An.Two,(function(){return jn(e,An.One)}))}))
if(r){var i=Qn(Yn(r,e))
return i.length>0&&(r=i[0]),Vn(r)}throw new Error("Selector was not found.")}function jn(e,t,n){for(var r=null,i=[],a=e,o=0,s=function(){var e=zn(function(e){var t=e.getAttribute("id")
return t&&kn.idName(t)?{name:"#"+ir(t,{isIdentifier:!0}),penalty:0}:null}(a))||zn.apply(void 0,p(function(e){return Array.from(e.attributes).filter((function(e){return kn.attr(e.name,e.value)})).map((function(e){return{name:"["+ir(e.name,{isIdentifier:!0})+'="'+ir(e.value)+'"]',penalty:.5}}))}(a)))||zn.apply(void 0,p(function(e){return Array.from(e.classList).filter(kn.className).map((function(e){return{name:"."+ir(e,{isIdentifier:!0}),penalty:1}}))}(a)))||zn(function(e){var t=e.tagName.toLowerCase()
return kn.tagName(t)?{name:t,penalty:2}:null}(a))||[{name:"*",penalty:3}],s=function(e){var t=e.parentNode
if(!t)return null
var n=t.firstChild
if(!n)return null
for(var r=0;n&&(n.nodeType===Node.ELEMENT_NODE&&r++,n!==e);)n=n.nextSibling
return r}(a)
if(t===An.All)s&&(e=e.concat(e.filter(Wn).map((function(e){return Kn(e,s)}))))
else if(t===An.Two)e=e.slice(0,1),s&&(e=e.concat(e.filter(Wn).map((function(e){return Kn(e,s)}))))
else if(t===An.One){var c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
if(null!=n){var r,i,a=[],o=!0,s=!1
try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e=e.slice(0,1),1)[0]
s&&Wn(c)&&(e=[Kn(c,s)])}var d,u=l(e)
try{for(u.s();!(d=u.n()).done;)d.value.level=o}catch(e){u.e(e)}finally{u.f()}if(i.push(e),i.length>=kn.seedMinLength&&(r=qn(i,n)))return"break"
a=a.parentElement,o++};a&&a!==kn.root.parentElement&&"break"!==s(););return r||(r=qn(i,n)),r}function qn(e,t){var n=Qn(Xn(e))
if(n.length>kn.threshold)return t?t():null
var r,i=l(n)
try{for(i.s();!(r=i.n()).done;){var a=r.value
if(Gn(a))return a}}catch(e){i.e(e)}finally{i.f()}return null}function Vn(e){for(var t=e[0],n=t.name,r=1;r<e.length;r++){var i=e[r].level||0
n=t.level===i-1?"".concat(e[r].name," > ").concat(n):"".concat(e[r].name," ").concat(n),t=e[r]}return n}function Hn(e){return e.map((function(e){return e.penalty})).reduce((function(e,t){return e+t}),0)}function Gn(e){switch(In.querySelectorAll(Vn(e)).length){case 0:throw new Error("Can't select any node with this selector: ".concat(Vn(e)))
case 1:return!0
default:return!1}}function Kn(e,t){return{name:e.name+":nth-child(".concat(t,")"),penalty:e.penalty+1}}function Wn(e){return"html"!==e.name&&!e.name.startsWith("#")}function zn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
var r=t.filter($n)
return r.length>0?r:null}function $n(e){return null!=e}function Xn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]
if(e.length>0){var n,r=[],i=l(e[0])
try{for(i.s();!(n=i.n()).done;){var a=n.value
r=r.concat(Xn(e.slice(1,e.length),t.concat(a)))}}catch(e){i.e(e)}finally{i.f()}return r}return[t]}function Qn(e){return Array.from(e).sort((function(e,t){return Hn(e)-Hn(t)}))}function Yn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{counter:0,visited:new Map},r=[]
if(e.length>2&&e.length>kn.optimizedMinLength)for(var i=1;i<e.length-1;i++){if(n.counter>kn.maxNumberOfTries)return r
n.counter+=1
var a=p(e)
a.splice(i,1)
var o=Vn(a)
if(n.visited.has(o))return r
Gn(a)&&Jn(a,t)&&(r.push(a),n.visited.set(o,!0),r=r.concat(Yn(a,t,n)))}return r}function Jn(e,t){return In.querySelector(Vn(e))===t}!function(e){e.HTTP0_9="HTTP0_9",e.HTTP1_0="HTTP1_0",e.HTTP1_1="HTTP1_1",e.HTTP2="HTTP2",e.UNKNOWN="UNKNOWN"}(xn||(xn={})),function(e){e.REDIRECT_START="REDIRECT_START",e.REDIRECT_END="REDIRECT_END",e.FETCH_START="FETCH_START",e.DOMAIN_LOOKUP_START="DOMAIN_LOOKUP_START",e.DOMAIN_LOOKUP_END="DOMAIN_LOOKUP_END",e.CONNECT_START="CONNECT_START",e.CONNECT_END="CONNECT_END",e.SECURE_CONNECTION_START="SECURE_CONNECTION_START",e.REQUEST_START="REQUEST_START",e.RESPONSE_START="RESPONSE_START",e.RESPONSE_END="RESPONSE_END",e.WORKER_START="WORKER_START"}(Sn||(Sn={})),function(e){e.redirectStart="redirectStart",e.redirectEnd="redirectEnd",e.fetchStart="fetchStart",e.domainLookupStart="domainLookupStart",e.domainLookupEnd="domainLookupEnd",e.connectStart="connectStart",e.connectEnd="connectEnd",e.secureConnectionStart="secureConnectionStart",e.requestStart="requestStart",e.responseStart="responseStart",e.responseEnd="responseEnd",e.workerStart="workerStart"}(Cn||(Cn={})),function(e){e[e.All=0]="All",e[e.Two=1]="Two",e[e.One=2]="One"}(An||(An={}))
var Zn,er=/[ -,\.\/:-@\[-\^`\{-~]/,tr=/[ -,\.\/:-@\[\]\^`\{-~]/,nr=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,rr={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1}
function ir(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign(Object.assign({},rr),t)
"single"!=n.quotes&&"double"!=n.quotes&&(n.quotes="single")
for(var r="double"==n.quotes?'"':"'",i=n.isIdentifier,a=e.charAt(0),o="",s=0,c=e.length;s<c;){var d=e.charAt(s++),u=d.charCodeAt(0),l=void 0
if(u<32||u>126){if(u>=55296&&u<=56319&&s<c){var p=e.charCodeAt(s++)
56320==(64512&p)?u=((1023&u)<<10)+(1023&p)+65536:s--}l="\\"+u.toString(16).toUpperCase()+" "}else l=n.escapeEverything?er.test(d)?"\\"+d:"\\"+u.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(d)?"\\"+u.toString(16).toUpperCase()+" ":"\\"==d||!i&&('"'==d&&r==d||"'"==d&&r==d)||i&&tr.test(d)?"\\"+d:d
o+=l}return i&&(/^-[-\d]/.test(o)?o="\\-"+o.slice(1):/\d/.test(a)&&(o="\\3"+a+" "+o.slice(1))),o=o.replace(nr,(function(e,t,n){return t&&t.length%2?e:(t||"")+n})),!i&&n.wrap?r+o+r:o}function ar(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
if(e&&"function"==typeof e.now&&(e.timeOrigin||e.timing)){var n,r=e.now()
return n=!e.timing&&t?Math.floor(e.timeOrigin):e.timing.navigationStart,Math.round(r+n)}return Date.now()}function or(e){var t=e||performance
return Math.round(t.now())}function sr(e){if(!e)return"null"
if(e.nodeType===Node.ELEMENT_NODE)try{return Bn(e,{idName:function(e){return 0!==e.indexOf("ember")}})}catch(e){return"serialization_error"}var t=sr(e.parentElement||void 0)
return"".concat(t," > nodeType(").concat(e.nodeType,")")}function cr(e,t,n,r){var i=[]
return e&&"function"==typeof e.getEntriesByType&&(t["user-timing-measure-enabled"]&&e.getEntriesByType("measure").forEach((function(e){var t=e.name,n=e.startTime,a=e.duration
i.push({entryType:"MEASURE",name:t,startTime:n,duration:a}),null==r||r({measurementName:t,measurementType:"MEASURE",measureProgressStates:[{measureProgressName:t,timestamp:n,duration:a}]})})),t["user-timing-mark-enabled"]&&e.getEntriesByType("mark").forEach((function(e){var t=e.name,n=e.startTime,a=e.duration
i.push({entryType:"MARK",name:t,startTime:n,duration:a}),null==r||r({measurementName:t,measurementType:"MARK",measureProgressStates:[{measureProgressName:t,timestamp:n}]})})),n&&(e.clearMeasures(),e.clearMarks())),i}function dr(e){var t=[]
return e.forEach((function(e){return t.push(e)})),t}var ur,lr,pr=function(){function e(t){g(this,e),b(this,"hostApis",void 0),b(this,"hostnameProperties",void 0),b(this,"usedHostnames",void 0),b(this,"abortController",void 0),b(this,"pendingPromises",void 0),this.hostApis=t
var n=t.AbortController
this.hostnameProperties={},this.usedHostnames=new Set,this.abortController=new n,this.pendingPromises=new Set}return v(e,[{key:"clearUsedHostnames",value:function(){this.usedHostnames=new Set}},{key:"getPresentData",value:function(){var e=this
return Ot(this.usedHostnames).map((function(t){return e.hostnameProperties[t]||{hostname:t,provider:"",ipVersion:"",httpVersion:""}}))}},{key:"getDataWhenReady",value:function(e){var t=this,n=this.hostApis,r=n.AbortController,i=n.Promise,a=Mt(Ot(this.pendingPromises),i),o=setTimeout((function(){t.abortController.abort(),t.abortController=new r}),e)
return a.then((function(){return clearTimeout(o),t.getPresentData()}))}},{key:"inspectEntryForCdnData",value:function(e){var t=this
if(!(e.name.indexOf(".licdn.")<0)){var n,r,i=this.hostApis.assign,a=(n=e.name,r=this.hostApis.document,(Zn=Zn||r.createElement("a")).href=n,Zn.hostname)
if(this.usedHostnames.add(a),!this.hostnameProperties[a]&&!this.isResourcePossiblyFromCache(e)){var o=this.fetchCdnFromUrl(e.name).then((function(e){var n=i({hostname:a},e)
return t.hostnameProperties[a]||(t.hostnameProperties[a]=n),t.pendingPromises.delete(o),n}))
this.pendingPromises.add(o)}}}},{key:"fetchCdnFromUrl",value:function(e){return(0,this.hostApis.fetch)(e,{method:"HEAD",signal:this.abortController.signal}).then((function(e){return{provider:e.headers.get("X-CDN")||"",ipVersion:e.headers.get("X-CDN-CLIENT-IP-VERSION")||"",httpVersion:e.headers.get("X-CDN-Proto")||""}}))}},{key:"isResourcePossiblyFromCache",value:function(e){return void 0!==e.transferSize?0===e.transferSize:e.domainLookupStart===e.domainLookupEnd&&e.connectEnd===e.connectStart&&0===e.secureConnectionStart}}]),e}(),fr=["Windows Phone","Android","Linux","Mac","android","pike","firefox","opera","opr","chrome","safari","20030107","Internet Explorer","toSource","WebGLRenderingContext","Netscape","hasSwfObjectLoaded","swfobject","hasFlashPlayerVersion","9.0.0","addFlashDivNode","swfContainerId","___fp_swf_loaded","embedSWF","always","false","components","webrtc","tsSeed","appVersion","location","productSubKey","numOfCores","vendorSubKey","language","incognito","colorDepthKey","pixelRatio","pixelRatioKey","screenResolution","indexedDb","signals","touchSupport","networkInfo","battery","audioKey","automation","automationKey","pluginsComponent","fontsFlash","excludes","key","alias","shouldEnforceDataLimit","dataLimit","number","stringify","errors","Exceeded current data limit:"," Data length for:"," was found to be:","data","latency","acq_time","allFeatures","requestIdleCallback","querySelector","getElementById","firstChild","nodeValue","parentNode","parse","str2ab","encode","btoa","fromCharCode","importPk","atob","crypto","subtle","importKey","RSA-OAEP","wrap","spki","raw","wrapErrorResult","error","encryptWithKey","string","ec1","getRandomValues","AES-CBC","generateKey","encrypt","resolve","encryptWithKeyIds","Error: ec2","MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAtw/ArJ9dD6hi+jrX6ZpRqwk2Mm5v3EElQGhzSngYHAm7gvdcAEj6sbU4HhrXs3+TZamDV+RHwL+rDT+TtD8ZJBaVbA+wRDdIezECZT+WNZw2SMkjAsX0OynAT/wowGfE72zMhYc4byGfQmtAQrUL2iJ19KIJj0aZ4m41kvnBHMZbwO52+ceyQhqAzB7bn6U//QHJySHgjaOsgkpPnuxZUz6ly+FrKveQp+bNIfh8R5GO2ABRoeBL4c3jip/UjmmnfYE3xdzubni1a6WQ6YTTb6ZEJSgQTp/Rc+o/btcKkTIqDcXvGbO0iAxev8EXV7GtkRguqgfwaURAaps9Nes5NwIDAQAB","publicKey","publicKeyVersion","uuidv4","DNA","apfcDf","flash/compiled/FontList.swf","https://ponf.linkedin.com/pixel/tracking.png","/platform-telemetry/li/apfcDf","err","enabled","globalIntegration","readyState","intializeGlobalIntegration","addEventListener","initialize","load","apfcDfPK","triggerApfc","reentry","placePonfBeacon","reqid","pageInstance","isProd","fullFeatureCollection","encryptWithKeyFromDifferentSources","apfcDfPKV","https://www.linkedin.com","https://www.linkedin-ei.com","POST","setRequestHeader","Content-Type","application/json","send","getFeatures","reentryGlobalIntegration","triggerDnaApfcEvent",".linkedin.com","pemberly","getUrlFromNoscriptBeacon","getElementsByTagName","noscript","parseFromString","text/html","src","class","display:none;","ponfUrl","protocol","pathname","searchParams","get","charAt","substring","bc_context","div_bc","setAttribute","img","undefined","x64Add","x64Multiply","x64Rotl","x64LeftShift","x64Xor","x64Fmix","length","charCodeAt","toString","slice","00000000","each","prototype","forEach","hasOwnProperty","map","getIPs","RTCPeerConnection","webkitRTCPeerConnection","mozRTCPeerConnection","msRTCPeerConnection","stun:stun.l.google.com:19302","a=candidate:","keys","onicecandidate","candidate","onicegatheringstatechange","complete","iceGatheringState","createDataChannel","createOffer","then","setLocalDescription","undetected, fake browser","getBrowserNameAndVersion","split","Chrome","webdriver","document","getAttribute","_Selenium_IDE_Recorder","callPhantom","_phantom","PhantomJS","NOT_AVAILABLE","Selenium","webRtcKey","name","enumerateDevicesKey","isEnumerateDevicesSupported","enumerateDevices","deviceId","gid","groupId","kind","label","catch","mediaDevices","audio","excludeIOS11","userAgent","match","EXCLUDED","OfflineAudioContext","webkitOfflineAudioContext","type","triangle","frequency","setValueAtTime","currentTime","createDynamicsCompressor","threshold","knee","ratio","function","connect","startRendering","oncomplete","audioTimeout","renderedBuffer","getChannelData","reduce","abs","disconnect","UserAgent","languageKey","userLanguage","browserLanguage","systemLanguage"," GB","pixelDepthKey","screen","pixelDepth","devicePixelRatio","screenResolutionKey","getScreenResolution","screenOrientationKey","detectScreenOrientation","orientation","Orientation","msOrientation","height","availableScreenResolutionKey","availWidth","availHeight","timezoneOffset","getTimezoneOffset","timezone","Intl","DateTimeFormat","timeZone","sessionStorageKey","hasSessionStorage","localStorageKey","hasLocalStorage","indexedDbKey","hasIndexedDB","addBehaviorKey","body","addBehavior","openDatabaseKey","openDatabase","cpuClassKey","getNavigatorCpuClass","oscpuKey","oscpu","appNameKey","appName","appVersionKey","appCodeNameKey","seedKey","now","productKey","productSub","vendorKey","vendor","vendorSub","doNotTrackKey","getDoNotTrack","incognitoKey","RequestFileSystem","TEMPORARY","storage","estimate","Safari","safariIncognito","setItem","test","removeItem","Firefox","open","onerror","onsuccess","EDGE","indexedDB","PointerEvent","MSPointerEvent","exec","IE ","join","replace","OPR","Opera","splice","canvasKey","isCanvasSupported","isWebGlSupported","getWebglFp","javascriptsKey","scripts","locationKey","hash","host","hostname","href","origin","port","signalsKey","getSignals","getHasLiedResolution","getHasLiedOs","getHasLiedBrowser","flashFontsKey","hasMinFlashInstalled","swfPath","loadSwfAndDetectFonts","missing options.fonts.swfPath","flash not installed","swf object not loaded","jsFontsKey","monospace","sans-serif","Andale Mono","Arial","Arial Black","Arial Hebrew","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Geneva","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Monotype Corsiva","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MYRIAD","MYRIAD PRO","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Symbol","Tahoma","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3","concat","extendedJsFonts","fonts","userDefinedFonts","indexOf","createElement","div","style","position","absolute","left","-9999px","fontSize","72px","fontStyle","normal","fontWeight","letterSpacing","auto","lineHeight","textTransform","none","textAlign","fontFamily","offsetWidth","offsetHeight","appendChild","push","removeChild","x64hash128","hashOnly","lists","mimetypesComponent","mimeTypes","suffixes","description","isIE","plugins","getIEPlugins","pluginsShouldBeSorted","sort","ActiveXObject","Adodb.Stream","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","SWCtl.SWCtl","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control.1","ERROR","getRegularPlugins","sortPluginsFor","batteryKey","getBattery","level","chargingTime","dischargingTime","networkInfoKey","downlink","saveData","touchSupportKey","getTouchSupport","hardwareConcurrencyKey","getHardwareConcurrency","sessionStorage","localStorage","hardwareConcurrency","cpuClass","getNavigatorPlatform","platform","doNotTrack","msDoNotTrack","ontouchstart","canvas","width","display","getContext","rect","isPointInPath","textBaseline","alphabetic","#f60","fillRect","fillStyle","#069","dontUseFakeFontInCanvas","font","11pt Arial","11pt no-real-font-123","fillText","Cwm fjordbank glyphs vext quiz, 😃","rgba(102, 204, 0, 0.2)","18pt Arial","globalCompositeOperation","multiply","rgb(255,0,255)","arc","fill","rgb(0,255,255)","beginPath","closePath","rgb(255,255,0)","evenodd","canvasHash","toDataURL","clearColor","enable","DEPTH_TEST","depthFunc","LEQUAL","getWebglCanvas","createBuffer","bufferData","ARRAY_BUFFER","STATIC_DRAW","itemSize","createProgram","VERTEX_SHADER","shaderSource","attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}","createShader","FRAGMENT_SHADER","precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}","compileShader","attachShader","linkProgram","useProgram","vertexPosAttrib","getAttribLocation","attrVertex","getUniformLocation","uniformOffset","enableVertexAttribArray","vertexPosArray","vertexAttribPointer","FLOAT","uniform2f","offsetUniform","drawArrays","TRIANGLE_STRIP","numItems","webglHash","webgl","vendorAndRenderer","getWebglVendorAndRenderer","extensions","webgl aliased line width range","getParameter","webgl aliased point size range","ALIASED_POINT_SIZE_RANGE","webgl alpha bits","webgl antialiasing","getContextAttributes","yes","webgl blue bits","BLUE_BITS","webgl green bits","GREEN_BITS","webgl max anisotropy","getExtension","WEBKIT_EXT_texture_filter_anisotropic","MOZ_EXT_texture_filter_anisotropic","MAX_TEXTURE_MAX_ANISOTROPY_EXT","MAX_COMBINED_TEXTURE_IMAGE_UNITS","webgl max cube map texture size","MAX_CUBE_MAP_TEXTURE_SIZE","webgl max fragment uniform vectors","webgl max render buffer size","webgl max texture image units","MAX_TEXTURE_IMAGE_UNITS","webgl max texture size","MAX_TEXTURE_SIZE","webgl max varying vectors","MAX_VARYING_VECTORS","MAX_VERTEX_ATTRIBS","MAX_VERTEX_TEXTURE_IMAGE_UNITS","webgl max vertex uniform vectors","webgl max viewport dims","MAX_VIEWPORT_DIMS","webgl red bits","webgl renderer","RENDERER","webgl shading language version","SHADING_LANGUAGE_VERSION","webgl stencil bits","STENCIL_BITS","webgl vendor","VENDOR","webgl version","WEBGL_debug_renderer_info","webgl unmasked vendor","UNMASKED_VENDOR_WEBGL","webgl unmasked renderer","UNMASKED_RENDERER_WEBGL","getShaderPrecisionFormat","INT","VERTEX","HIGH","MEDIUM","rangeMin","precision","toLowerCase","getAdBlock","innerHTML","&nbsp;","className","adsbox","getElementsByClassName","languages","substr","win","Windows","linux","cros","iphone","ipad","iOS","mac","Other","maxTouchPoints","msMaxTouchPoints"]
ur=fr,lr=156,function(e){for(;--e;)ur.push(ur.shift())}(++lr)
var hr=function(e,t){return fr[e-=0]}
!function(){var e=function(e,t,n,r,i,a){function o(){g(this,o)}return v(o,null,[{key:hr("0x0"),value:function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]]
var n=[0,0,0,0]
return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}},{key:hr("0x1"),value:function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]]
var n=[0,0,0,0]
return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}},{key:hr("0x2"),value:function(e,t){return 32==(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}},{key:hr("0x3"),value:function(e,t){return 0==(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}},{key:hr("0x4"),value:function(e,t){return[e[0]^t[0],e[1]^t[1]]}},{key:hr("0x5"),value:function(e){return e=o[hr("0x4")](e,[0,e[0]>>>1]),e=o[hr("0x1")](e,[4283543511,3981806797]),e=o[hr("0x4")](e,[0,e[0]>>>1]),e=o[hr("0x1")](e,[3301882366,444984403]),o.x64Xor(e,[0,e[0]>>>1])}},{key:"x64hash128",value:function(e,t){t=t||0
var n,r=(e=e||"")[hr("0x6")]%16,i=e[hr("0x6")]-r,a=[0,t],s=[0,t],c=[0,0],d=[0,0],u=[2277735313,289559509],l=[1291169091,658871167]
for(n=0;n<i;n+=16)c=[255&e[hr("0x7")](n+4)|(255&e[hr("0x7")](n+5))<<8|(255&e[hr("0x7")](n+6))<<16|(255&e[hr("0x7")](n+7))<<24,255&e[hr("0x7")](n)|(255&e[hr("0x7")](n+1))<<8|(255&e[hr("0x7")](n+2))<<16|(255&e[hr("0x7")](n+3))<<24],d=[255&e[hr("0x7")](n+12)|(255&e[hr("0x7")](n+13))<<8|(255&e[hr("0x7")](n+14))<<16|(255&e.charCodeAt(n+15))<<24,255&e.charCodeAt(n+8)|(255&e[hr("0x7")](n+9))<<8|(255&e.charCodeAt(n+10))<<16|(255&e[hr("0x7")](n+11))<<24],c=o[hr("0x1")](c,u),c=o[hr("0x2")](c,31),c=o[hr("0x1")](c,l),a=o[hr("0x4")](a,c),a=o[hr("0x2")](a,27),a=o[hr("0x0")](a,s),a=o[hr("0x0")](o[hr("0x1")](a,[0,5]),[0,1390208809]),d=o[hr("0x1")](d,l),d=o[hr("0x2")](d,33),d=o[hr("0x1")](d,u),s=o[hr("0x4")](s,d),s=o[hr("0x2")](s,31),s=o[hr("0x0")](s,a),s=o[hr("0x0")](o[hr("0x1")](s,[0,5]),[0,944331445])
switch(c=[0,0],d=[0,0],r){case 15:d=o[hr("0x4")](d,o[hr("0x3")]([0,e[hr("0x7")](n+14)],48))
case 14:d=o[hr("0x4")](d,o[hr("0x3")]([0,e[hr("0x7")](n+13)],40))
case 13:d=o[hr("0x4")](d,o[hr("0x3")]([0,e[hr("0x7")](n+12)],32))
case 12:d=o[hr("0x4")](d,o.x64LeftShift([0,e[hr("0x7")](n+11)],24))
case 11:d=o[hr("0x4")](d,o[hr("0x3")]([0,e.charCodeAt(n+10)],16))
case 10:d=o.x64Xor(d,o[hr("0x3")]([0,e.charCodeAt(n+9)],8))
case 9:d=o.x64Xor(d,[0,e[hr("0x7")](n+8)]),d=o[hr("0x1")](d,l),d=o[hr("0x2")](d,33),d=o.x64Multiply(d,u),s=o[hr("0x4")](s,d)
case 8:c=o.x64Xor(c,o.x64LeftShift([0,e[hr("0x7")](n+7)],56))
case 7:c=o[hr("0x4")](c,o[hr("0x3")]([0,e[hr("0x7")](n+6)],48))
case 6:c=o[hr("0x4")](c,o[hr("0x3")]([0,e[hr("0x7")](n+5)],40))
case 5:c=o[hr("0x4")](c,o.x64LeftShift([0,e[hr("0x7")](n+4)],32))
case 4:c=o[hr("0x4")](c,o.x64LeftShift([0,e[hr("0x7")](n+3)],24))
case 3:c=o[hr("0x4")](c,o.x64LeftShift([0,e[hr("0x7")](n+2)],16))
case 2:c=o[hr("0x4")](c,o[hr("0x3")]([0,e.charCodeAt(n+1)],8))
case 1:c=o.x64Xor(c,[0,e[hr("0x7")](n)]),c=o.x64Multiply(c,u),c=o.x64Rotl(c,31),c=o[hr("0x1")](c,l),a=o[hr("0x4")](a,c)}return a=o.x64Xor(a,[0,e.length]),s=o.x64Xor(s,[0,e.length]),a=o[hr("0x0")](a,s),s=o[hr("0x0")](s,a),a=o.x64Fmix(a),s=o[hr("0x5")](s),a=o[hr("0x0")](a,s),s=o[hr("0x0")](s,a),("00000000"+(a[0]>>>0)[hr("0x8")](16))[hr("0x9")](-8)+(hr("0xa")+(a[1]>>>0)[hr("0x8")](16)).slice(-8)+(hr("0xa")+(s[0]>>>0)[hr("0x8")](16))[hr("0x9")](-8)+("00000000"+(s[1]>>>0).toString(16))[hr("0x9")](-8)}}]),o}(),t=function(t,n,r,i,a,o,s,c,d,u,l,p,f,h,y,b,T,_,E,x,S,C,A,k,I,R,w,M,O,N,P,U,D,L,F,B,j,q,V,H,G,K,W,z,$,X,Q,Y,J,Z,ee,te,ne,re,ie,ae,oe,se,ce,de,ue,le){function pe(){g(this,pe),this[hr("0x1f3")]=[{key:hr("0x1f4"),getData:pe[hr("0x2e")],shouldEnforceDataLimit:!0,dataLimit:1e3},{key:hr("0x32"),getData:pe.enumerateDevicesKey,shouldEnforceDataLimit:!0,dataLimit:22e3},{key:"appName",getData:pe[hr("0x7e")],shouldEnforceDataLimit:!0,dataLimit:45},{key:hr("0x1f5"),getData:pe[hr("0x82")],shouldEnforceDataLimit:!0,dataLimit:20},{key:hr("0x1f6"),getData:pe[hr("0x80")],shouldEnforceDataLimit:!0,dataLimit:150},{key:"appCodeName",getData:pe[hr("0x81")],shouldEnforceDataLimit:!0,dataLimit:15},{key:hr("0x1f7"),getData:pe[hr("0xaa")],shouldEnforceDataLimit:!0,dataLimit:1500},{key:"javascripts",getData:pe[hr("0xa8")],shouldEnforceDataLimit:!0,dataLimit:2200},{key:hr("0x141"),getData:pe.platformKey,shouldEnforceDataLimit:!0,dataLimit:15},{key:"product",getData:pe.productKey,shouldEnforceDataLimit:!0,dataLimit:12},{key:hr("0x85"),getData:pe[hr("0x1f8")],shouldEnforceDataLimit:!0,dataLimit:15},{key:hr("0x13f"),getData:pe[hr("0x7a")],shouldEnforceDataLimit:!0,dataLimit:15},{key:"oscpu",getData:pe[hr("0x7c")],shouldEnforceDataLimit:!0,dataLimit:60},{key:hr("0x13e"),getData:pe[hr("0x13a")],alias:hr("0x1f9"),shouldEnforceDataLimit:!0,dataLimit:10},{key:"deviceMemory",getData:pe.deviceMemoryKey,shouldEnforceDataLimit:!0,dataLimit:25},{key:"vendor",getData:pe[hr("0x86")],shouldEnforceDataLimit:!0,dataLimit:50},{key:hr("0x88"),getData:pe[hr("0x1fa")],shouldEnforceDataLimit:!0,dataLimit:10},{key:hr("0x1fb"),getData:pe.languageKey,shouldEnforceDataLimit:!0,dataLimit:12},{key:hr("0x69"),getData:pe[hr("0x69")],shouldEnforceDataLimit:!0,dataLimit:5},{key:hr("0x6b"),getData:pe[hr("0x6b")],shouldEnforceDataLimit:!0,dataLimit:30},{key:hr("0x3c"),getData:pe.UserAgent,shouldEnforceDataLimit:!0,dataLimit:1500},{key:"webdriver",getData:pe[hr("0x25")],shouldEnforceDataLimit:!0,dataLimit:7},{key:hr("0x142"),getData:pe[hr("0x89")],shouldEnforceDataLimit:!0,dataLimit:10},{key:hr("0x1fc"),getData:pe.incognitoKey,shouldEnforceDataLimit:!0,dataLimit:7},{key:"colorDepth",getData:pe[hr("0x1fd")],shouldEnforceDataLimit:!0,dataLimit:5},{key:hr("0x5c"),getData:pe.pixelDepthKey,shouldEnforceDataLimit:!0,dataLimit:5},{key:hr("0x1fe"),getData:pe[hr("0x1ff")],shouldEnforceDataLimit:!0,dataLimit:10},{key:hr("0x200"),getData:pe[hr("0x5e")],shouldEnforceDataLimit:!0,dataLimit:25},{key:"screenOrientation",getData:pe[hr("0x60")],shouldEnforceDataLimit:!0,dataLimit:70},{key:"availableScreenResolution",getData:pe[hr("0x66")],shouldEnforceDataLimit:!0,dataLimit:30},{key:hr("0x13c"),getData:pe.sessionStorageKey,shouldEnforceDataLimit:!0,dataLimit:7},{key:hr("0x13d"),getData:pe[hr("0x71")],shouldEnforceDataLimit:!0,dataLimit:7},{key:hr("0x201"),getData:pe[hr("0x73")],shouldEnforceDataLimit:!0,dataLimit:7},{key:"addBehavior",getData:pe[hr("0x75")],shouldEnforceDataLimit:!0,dataLimit:7},{key:hr("0x79"),getData:pe[hr("0x78")],shouldEnforceDataLimit:!0,dataLimit:7},{key:hr("0x145"),getData:pe[hr("0xa4")],shouldEnforceDataLimit:!0,dataLimit:90},{key:"webgl",getData:pe.webglKey,shouldEnforceDataLimit:!0,dataLimit:6e3},{key:hr("0x202"),getData:pe[hr("0xb1")],shouldEnforceDataLimit:!0,dataLimit:150},{key:hr("0x203"),getData:pe.touchSupportKey,shouldEnforceDataLimit:!0,dataLimit:90},{key:hr("0x204"),getData:pe[hr("0x135")],shouldEnforceDataLimit:!0,dataLimit:150},{key:hr("0x205"),getData:pe[hr("0x130")],shouldEnforceDataLimit:!0,dataLimit:100},{key:hr("0x3a"),getData:pe[hr("0x206")],shouldEnforceDataLimit:!0,dataLimit:30},{key:hr("0x207"),getData:pe[hr("0x208")],shouldEnforceDataLimit:!0,dataLimit:36},{key:hr("0x118"),getData:pe[hr("0x209")],shouldEnforceDataLimit:!0,dataLimit:17e3},{key:"mimetyps",getData:pe[hr("0x113")],shouldEnforceDataLimit:!0,dataLimit:27e3},{key:hr("0xf5"),getData:pe[hr("0xbd")],shouldEnforceDataLimit:!0,dataLimit:1500},{key:hr("0x20a"),getData:pe.flashFontsKey,shouldEnforceDataLimit:!0,dataLimit:100}]}return v(pe,[{key:"getFeatures",value:function(e,t){if("function"==typeof e){if(!t)return e({error:"Options not provided"})
var n={data:{latency:{acq_time:{}},errors:{}}},r=Date[hr("0x83")](),i={},a=0,o=0
this[hr("0x1f3")][hr("0xd")]((function(s){if(!t[hr("0x20b")][s[hr("0x20c")]]){var c=s[hr("0x20c")]
void 0!==s[hr("0x20d")]&&null!==s.alias&&s[hr("0x20d")][hr("0x6")]>0&&(c=s[hr("0x20d")]),a++
var d=function(){i[c]=Date[hr("0x83")]()
try{s.getData((function(t){if(!1!==s[hr("0x20e")]){var d=s[hr("0xe")](hr("0x20f"))&&hr("0x210")==m(s[hr("0x20f")])?s[hr("0x20f")]:1e3,u=JSON[hr("0x211")](t).length
u>d&&(n.data[hr("0x212")][c]=hr("0x213")+d+hr("0x214")+c+hr("0x215")+u,t={})}n[hr("0x216")][c]=t,n[hr("0x216")][hr("0x217")].acq_time[c]=Date[hr("0x83")]()-i[c],++o>=a&&(n.data[hr("0x217")][hr("0x218")][hr("0x219")]=Date.now()-r,e(n[hr("0x216")],!0))}),t)}catch(e){n.data.errors[c]=String(e)}}
"function"==typeof window.requestIdleCallback?window[hr("0x21a")](d):d()}})),n[hr("0x216")].latency.acq_time[hr("0x219")]=Date[hr("0x83")]()-r,e(n[hr("0x216")],!1)}}}],[{key:t,value:function(e,t){if(Array[hr("0xc")][hr("0xd")]&&e.forEach===Array[hr("0xc")][hr("0xd")])e[hr("0xd")](t)
else if(e.length===+e.length)for(var n=0,r=e[hr("0x6")];n<r;n++)t(e[n],n,e)
else for(var i in e)e[hr("0xe")](i)&&t(e[i],i,e)}},{key:n,value:function(e,t){var n=[]
return null==e?n:Array[hr("0xc")].map&&e[hr("0xf")]===Array[hr("0xc")][hr("0xf")]?e[hr("0xf")](t):(pe.each(e,(function(e,r,i){n.push(t(e,r,i))})),n)}},{key:r,value:function(e,t){var n={},r=new(window[hr("0x11")]||window[hr("0x12")]||window[hr("0x13")]||window[hr("0x14")])({iceServers:[{urls:hr("0x15")}]},{optional:[{RtpDataChannels:!0}]}),i=function(e){if(null!==e)try{var t=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/.exec(e)[1]
n[t]=!0}catch(e){}},a=!1,o=function(){if(!0!==a){a=!0
var e=r.localDescription
null!==e&&e.sdp.split("\n").forEach((function(e){0!==e.indexOf(hr("0x16"))&&0!==e.indexOf("c=IN")||i(e)})),t(Object[hr("0x17")](n))}}
r[hr("0x18")]=function(e){e.candidate&&i(e[hr("0x19")][hr("0x19")])},r[hr("0x1a")]=function(e){hr("0x1b")===r[hr("0x1c")]&&o()},r[hr("0x1d")]("bl")
try{r[hr("0x1e")]()[hr("0x1f")]((function(e){r[hr("0x20")](e)}))}catch(e){r[hr("0x1e")]((function(e){r[hr("0x20")](e,(function(){}),(function(){}))}),(function(){}))}setTimeout((function(){o()}),2e3)}},{key:"automationKey",value:function(e,t){if(pe.getHasLiedBrowser())e(hr("0x21"))
else{var n=pe[hr("0x22")]()[hr("0x23")](" ")[0]
hr("0x24")!==n||!0!==navigator[hr("0x25")]?"Firefox"===n&&window[hr("0x26")].documentElement[hr("0x27")](hr("0x25"))||hr("0x28")in window||"__webdriver_script_fn"in document?e("Selenium"):window[hr("0x29")]||window[hr("0x2a")]?e(hr("0x2b")):e(t[hr("0x2c")]):e(hr("0x2d"))}}},{key:i,value:function(e,t){try{pe[hr("0x10")](t,(function(t){e({ips:t})}))}catch(t){e({exception:{name:t[hr("0x2f")],message:t.message}})}}},{key:a,value:function(e,t){if(!pe[hr("0x31")]())return e(t[hr("0x2c")])
navigator.mediaDevices[hr("0x32")]().then((function(t){e(t.map((function(e){var t={}
return t.id=e[hr("0x33")],t[hr("0x34")]=e[hr("0x35")],t.kind=e[hr("0x36")],t[hr("0x37")]=e[hr("0x37")],t})))}))[hr("0x38")]((function(t){e(t)}))}},{key:o,value:function(){return navigator.mediaDevices&&navigator[hr("0x39")].enumerateDevices}},{key:"audioKey",value:function(e,t){var n=t[hr("0x3a")]
if(n[hr("0x3b")]&&navigator[hr("0x3c")][hr("0x3d")](/OS 11.+Version\/11.+Safari/))return e(t[hr("0x3e")])
var r=window[hr("0x3f")]||window[hr("0x40")]
if(null==r)return e(t[hr("0x2c")])
var i=new r(1,44100,44100),a=i.createOscillator()
a[hr("0x41")]=hr("0x42"),a[hr("0x43")][hr("0x44")](1e4,i[hr("0x45")])
var o=i[hr("0x46")]()
pe.each([[hr("0x47"),-50],[hr("0x48"),40],[hr("0x49"),12],["reduction",-20],["attack",0],["release",.25]],(function(e){void 0!==o[e[0]]&&hr("0x4a")==m(o[e[0]][hr("0x44")])&&o[e[0]][hr("0x44")](e[1],i[hr("0x45")])})),a[hr("0x4b")](o),o[hr("0x4b")](i.destination),a.start(0),i[hr("0x4c")]()
var s=setTimeout((function(){return i[hr("0x4d")]=function(){},i=null,e(hr("0x4e"))}),n.timeout)
i[hr("0x4d")]=function(t){var n
try{clearTimeout(s),n=t[hr("0x4f")][hr("0x50")](0)[hr("0x9")](4500,5e3)[hr("0x51")]((function(e,t){return e+Math[hr("0x52")](t)}),0)[hr("0x8")](),a.disconnect(),o[hr("0x53")]()}catch(t){return void e(t)}e(n)}}},{key:s,value:function(e){e(navigator[hr("0x3c")])}},{key:c,value:function(e,t){e(void 0===navigator.webdriver||null===navigator[hr("0x25")]?t[hr("0x2c")]:navigator[hr("0x25")])}},{key:d,value:function(e,t){e(navigator.language||navigator[hr("0x56")]||navigator[hr("0x57")]||navigator[hr("0x58")]||t[hr("0x2c")])}},{key:"colorDepthKey",value:function(e,t){e(window.screen.colorDepth||t[hr("0x2c")])}},{key:"deviceMemoryKey",value:function(e,t){var n=navigator.deviceMemory||t[hr("0x2c")]
n!==t[hr("0x2c")]&&(n+=hr("0x59")),e(n)}},{key:u,value:function(e,t){e(window[hr("0x5b")][hr("0x5c")]||t.NOT_AVAILABLE)}},{key:"pixelRatioKey",value:function(e,t){e(window[hr("0x5d")]||t[hr("0x2c")])}},{key:l,value:function(e,t){e(pe[hr("0x5f")](t))}},{key:p,value:function(e,t){if(t[hr("0x5b")][hr("0x61")]){var n={}
n.Enabled=void 0!==screen[hr("0x62")],n[hr("0x63")]=screen[hr("0x64")]||screen.mozOrientation||(screen.orientation||{})[hr("0x41")],e(n)}else e(t.EXCLUDED)}},{key:f,value:function(){return{w:window.screen.width,h:window[hr("0x5b")][hr("0x65")]}}},{key:h,value:function(e,t){e(pe.getAvailableScreenResolution(t))}},{key:"getAvailableScreenResolution",value:function(e){return window[hr("0x5b")][hr("0x67")]&&window[hr("0x5b")][hr("0x68")]?{w:window[hr("0x5b")][hr("0x67")],h:window[hr("0x5b")][hr("0x68")]}:e[hr("0x2c")]}},{key:y,value:function(e){e((new Date)[hr("0x6a")]()/60)}},{key:b,value:function(e,t){window[hr("0x6c")]&&window[hr("0x6c")][hr("0x6d")]?e((new(window.Intl[hr("0x6d")])).resolvedOptions()[hr("0x6e")]):e(t[hr("0x2c")])}},{key:T,value:function(e,t){e(pe[hr("0x70")](t))}},{key:_,value:function(e,t){e(pe[hr("0x72")](t))}},{key:E,value:function(e,t){e(pe[hr("0x74")](t))}},{key:x,value:function(e){e(!(!document[hr("0x76")]||!document[hr("0x76")][hr("0x77")]))}},{key:S,value:function(e){e(!!window[hr("0x79")])}},{key:C,value:function(e,t){e(pe[hr("0x7b")](t))}},{key:A,value:function(e,t){e(navigator[hr("0x7d")]||t[hr("0x2c")])}},{key:k,value:function(e,t){e(navigator[hr("0x7f")]||t[hr("0x2c")])}},{key:I,value:function(e,t){e(navigator.appVersion||t[hr("0x2c")])}},{key:R,value:function(e,t){e(navigator.appCodeName||t[hr("0x2c")])}},{key:w,value:function(e,t){e(Date[hr("0x83")]())}},{key:"platformKey",value:function(e,t){e(pe.getNavigatorPlatform(t))}},{key:M,value:function(e,t){e(navigator.product||t[hr("0x2c")])}},{key:"productSubKey",value:function(e,t){e(navigator[hr("0x85")]||t[hr("0x2c")])}},{key:O,value:function(e,t){e(navigator[hr("0x87")]||t.NOT_AVAILABLE)}},{key:"vendorSubKey",value:function(e,t){e(navigator[hr("0x88")]||t.NOT_AVAILABLE)}},{key:N,value:function(e,t){e(pe[hr("0x8a")](t))}},{key:P,value:function(e,t){var n=pe[hr("0x22")]()[hr("0x23")](" "),r=n[0],i=n[1],a=t.NOT_AVAILABLE
if(hr("0x24")===r)if(parseInt(i)<=74){var o=window[hr("0x8c")]||window.webkitRequestFileSystem
o?o(window[hr("0x8d")],100,(function(t){e(!1)}),(function(t){e(!0)})):e(a)}else hr("0x8e")in navigator&&hr("0x8f")in navigator[hr("0x8e")]?navigator[hr("0x8e")][hr("0x8f")]()[hr("0x1f")]((function(t){var n=t.quota
e(a=n<125829120)})):e(a)
else if(hr("0x90")===r){if(a=!1,window[hr("0x91")])a=!0
else{try{window[hr("0x79")](null,null,null,null)}catch(e){a=!0}try{window.localStorage[hr("0x92")](hr("0x93"),1)}catch(e){a=!0}}void 0===a&&(a=!1,window.localStorage[hr("0x94")](hr("0x93"))),e(a)}else if(hr("0x95")===r){var s=indexedDB[hr("0x96")](hr("0x93"))
s[hr("0x97")]=function(){e(!0)},s[hr("0x98")]=function(){e(!1)}}else e("IE"===r||hr("0x99")===r?!window[hr("0x9a")]&&(window[hr("0x9b")]||window[hr("0x9c")]):a)}},{key:"getBrowserNameAndVersion",value:function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[]
return/trident/i[hr("0x93")](n[1])?(e=/\brv[ :]+(\d+)/g[hr("0x9d")](t)||[],hr("0x9e")+(e[1]||"")):hr("0x24")===n[1]&&null!=(e=t.match(/\b(OPR|Edge)\/(\d+)/))?e[hr("0x9")](1)[hr("0x9f")](" ")[hr("0xa0")](hr("0xa1"),hr("0xa2")):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n[hr("0xa3")](1,1,e[1]),n[hr("0x9f")](" "))}},{key:U,value:function(e,t){pe[hr("0xa5")]()?e(pe.getCanvasFp(t)):e(t[hr("0x2c")])}},{key:"webglKey",value:function(e,t){pe[hr("0xa6")]()?e(pe[hr("0xa7")](t)):e(t[hr("0x2c")])}},{key:D,value:function(e,t){if(void 0===document[hr("0xa9")]||null===document[hr("0xa9")])return e(t[hr("0x2c")])
e([])}},{key:L,value:function(e,t){e({hash:location[hr("0xab")]||t[hr("0x2c")],host:location[hr("0xac")]||t.NOT_AVAILABLE,hostname:location[hr("0xad")]||t[hr("0x2c")],href:location[hr("0xae")]||t[hr("0x2c")],origin:location[hr("0xaf")]||t[hr("0x2c")],pathname:location.pathname||t.NOT_AVAILABLE,port:location[hr("0xb0")]||t.NOT_AVAILABLE,protocol:location.protocol||t[hr("0x2c")]})}},{key:F,value:function(e){e(pe[hr("0xb2")]())}},{key:B,value:function(){var e={adBlockInstalled:function(){return pe.getAdBlock()},liedLanguages:function(){return pe.getHasLiedLanguages()},liedResolution:function(){return pe[hr("0xb3")]()},liedOS:function(){return pe[hr("0xb4")]()},liedBrowser:function(){return pe[hr("0xb5")]()}},t={}
for(var n in e)if(e.hasOwnProperty(n)){var r=e[n]
t[n]=r(n)}return t}},{key:j,value:function(e,t){return pe.hasSwfObjectLoaded()?pe[hr("0xb7")]()?t.fonts[hr("0xb8")]?void pe[hr("0xb9")]((function(t){e(t)}),t):e(hr("0xba")):e(hr("0xbb")):e(hr("0xbc"))}},{key:q,value:function(t,n){var r=[hr("0xbe"),hr("0xbf"),"serif"],i=[hr("0xc0"),hr("0xc1"),hr("0xc2"),hr("0xc3"),"Arial MT","Arial Narrow","Arial Rounded MT Bold",hr("0xc4"),hr("0xc5"),hr("0xc6"),hr("0xc7"),hr("0xc8"),hr("0xc9"),hr("0xca"),hr("0xcb"),hr("0xcc"),"Century Schoolbook",hr("0xcd"),hr("0xce"),hr("0xcf"),hr("0xd0"),hr("0xd1"),hr("0xd2"),"Georgia","Helvetica",hr("0xd3"),hr("0xd4"),hr("0xd5"),hr("0xd6"),hr("0xd7"),hr("0xd8"),hr("0xd9"),hr("0xda"),hr("0xdb"),hr("0xdc"),hr("0xdd"),"Microsoft Sans Serif","Monaco",hr("0xde"),"MS Gothic",hr("0xdf"),hr("0xe0"),hr("0xe1"),hr("0xe2"),"MS Serif",hr("0xe3"),hr("0xe4"),"Palatino",hr("0xe5"),hr("0xe6"),hr("0xe7"),hr("0xe8"),hr("0xe9"),"Segoe UI Semibold",hr("0xea"),hr("0xeb"),"Times",hr("0xec"),hr("0xed"),hr("0xee"),hr("0xef"),hr("0xf0"),hr("0xf1"),hr("0xf2")]
void 0!==n.fonts&&void 0!==n.fonts.extendedJsFonts&&(i=i[hr("0xf3")](n.fonts[hr("0xf4")])),void 0!==n[hr("0xf5")]&&void 0!==n[hr("0xf5")][hr("0xf6")]&&(i=i[hr("0xf3")](n.fonts[hr("0xf6")])),i=i.filter((function(e,t){return i[hr("0xf7")](e)===t}))
var a=document.getElementsByTagName(hr("0x76"))[0],o=document[hr("0xf8")](hr("0xf9")),s=document[hr("0xf8")](hr("0xf9")),c={},d={},u=function(){var e=document[hr("0xf8")]("span")
return e[hr("0xfa")][hr("0xfb")]=hr("0xfc"),e[hr("0xfa")][hr("0xfd")]=hr("0xfe"),e[hr("0xfa")][hr("0xff")]=hr("0x100"),e[hr("0xfa")][hr("0x101")]=hr("0x102"),e[hr("0xfa")][hr("0x103")]=hr("0x102"),e[hr("0xfa")][hr("0x104")]=hr("0x102"),e[hr("0xfa")].lineBreak=hr("0x105"),e[hr("0xfa")][hr("0x106")]=hr("0x102"),e[hr("0xfa")][hr("0x107")]=hr("0x108"),e[hr("0xfa")][hr("0x109")]="left",e.style.textDecoration="none",e[hr("0xfa")].textShadow=hr("0x108"),e[hr("0xfa")].whiteSpace=hr("0x102"),e[hr("0xfa")].wordBreak=hr("0x102"),e.style.wordSpacing="normal",e.textContent="mmmmmmmmmmlli",e},l=function(e,t){var n=u()
return n[hr("0xfa")][hr("0x10a")]="'"+e+"',"+t,n},p=function(e){for(var t=!1,n=0;n<r[hr("0x6")];n++)if(t=e[n][hr("0x10b")]!==c[r[n]]||e[n][hr("0x10c")]!==d[r[n]])return t
return t},f=function(){for(var e=[],t=0,n=r.length;t<n;t++){var i=u()
i[hr("0xfa")].fontFamily=r[t],o[hr("0x10d")](i),e[hr("0x10e")](i)}return e}()
a[hr("0x10d")](o)
for(var h=0,m=r[hr("0x6")];h<m;h++)c[r[h]]=f[h][hr("0x10b")],d[r[h]]=f[h][hr("0x10c")]
var g=function(){for(var e={},t=0,n=i[hr("0x6")];t<n;t++){for(var a=[],o=0,c=r.length;o<c;o++){var d=l(i[t],r[o])
s[hr("0x10d")](d),a[hr("0x10e")](d)}e[i[t]]=a}return e}()
a[hr("0x10d")](s)
for(var y=[],v=0,b=i[hr("0x6")];v<b;v++)p(g[i[v]])&&y[hr("0x10e")](i[v])
a[hr("0x10f")](s),a[hr("0x10f")](o)
var T={}
T.fontsHash=e[hr("0x110")](y.join(),23),n[hr("0xf5")][hr("0x111")]||(T[hr("0x112")]=y),t(T)}},{key:V,value:function(e,t){if(void 0!==navigator[hr("0x114")]&&null!==navigator[hr("0x114")]){for(var n=navigator[hr("0x114")],r=[],i=0;i<n[hr("0x6")];i++){var a={}
a[hr("0x41")]=n[i][hr("0x41")],a[hr("0x115")]=n[i][hr("0x115")],a[hr("0x116")]=n[i].description,r[hr("0x10e")](a)}e(r)}else e(t[hr("0x2c")])}},{key:"pluginsComponent",value:function(e,t){pe[hr("0x117")]()?t[hr("0x118")].excludeIE?e(t.EXCLUDED):e(pe[hr("0x119")](t)):e(pe.getRegularPlugins(t))}},{key:"getRegularPlugins",value:function(e){if(void 0===navigator[hr("0x118")]||null===navigator[hr("0x118")])return e.NOT_AVAILABLE
for(var t=[],n=0,r=navigator[hr("0x118")].length;n<r;n++)navigator[hr("0x118")][n]&&t[hr("0x10e")](navigator[hr("0x118")][n])
return t[hr("0x6")]>0&&pe[hr("0x11a")](e)&&(t=t[hr("0x11b")]((function(e,t){return e.name>t[hr("0x2f")]?1:e.name<t[hr("0x2f")]?-1:0}))),pe[hr("0xf")](t,(function(e){var t=pe[hr("0xf")](e,(function(e){return[e[hr("0x41")],e[hr("0x115")]]}))
return[e.name,e[hr("0x116")],t]}))}},{key:H,value:function(e){var t=[]
if(Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,hr("0x11c"))||hr("0x11c")in window){var n=["AcroPDF.PDF",hr("0x11d"),"AgControl.AgControl",hr("0x11e"),hr("0x11f"),hr("0x120"),hr("0x121"),"PDF.PdfCtrl",hr("0x122"),hr("0x123"),hr("0x124"),hr("0x125"),hr("0x126"),"Scripting.Dictionary",hr("0x127"),hr("0x128"),hr("0x129"),"Skype.Detection",hr("0x12a"),hr("0x12b"),"rmocx.RealPlayer G2 Control",hr("0x12c")]
t=pe.map(n,(function(t){try{return new(window[hr("0x11c")])(t),t}catch(t){return e[hr("0x12d")]}}))}else t[hr("0x10e")](e[hr("0x2c")])
return navigator[hr("0x118")]&&(t=t.concat(pe[hr("0x12e")](e))),t}},{key:"pluginsShouldBeSorted",value:function(e){for(var t=!1,n=0,r=e[hr("0x118")][hr("0x12f")][hr("0x6")];n<r;n++){var i=e[hr("0x118")][hr("0x12f")][n]
if(navigator[hr("0x3c")][hr("0x3d")](i)){t=!0
break}}return t}},{key:G,value:function(e,t){void 0!==navigator[hr("0x131")]?navigator[hr("0x131")]().then((function(t){var n={}
n[hr("0x132")]=t.level,n.charging=t.charging,n[hr("0x133")]=t[hr("0x133")],n[hr("0x134")]=t[hr("0x134")],e(n)})):e(t[hr("0x2c")])}},{key:K,value:function(e,t){var n=navigator.connection
e(void 0!==n?{downlink:n[hr("0x136")],downlinkMax:n.downlinkMax,type:n[hr("0x41")],effectiveType:n.effectiveType,rtt:n.rtt,saveData:n[hr("0x137")]}:t.NOT_AVAILABLE)}},{key:W,value:function(e){e(pe[hr("0x139")]())}},{key:z,value:function(e,t){e(pe[hr("0x13b")](t))}},{key:$,value:function(e){try{return!!window[hr("0x13c")]}catch(t){return e.ERROR}}},{key:X,value:function(e){try{return!!window[hr("0x13d")]}catch(t){return e[hr("0x12d")]}}},{key:Q,value:function(e){try{return!!window[hr("0x9a")]}catch(t){return e.ERROR}}},{key:Y,value:function(e){return navigator[hr("0x13e")]?navigator.hardwareConcurrency:e.NOT_AVAILABLE}},{key:J,value:function(e){return navigator[hr("0x13f")]||e[hr("0x2c")]}},{key:Z,value:function(e){return navigator[hr("0x141")]?navigator[hr("0x141")]:e[hr("0x2c")]}},{key:ee,value:function(e){return navigator.doNotTrack?navigator[hr("0x142")]:navigator[hr("0x143")]?navigator[hr("0x143")]:window.doNotTrack?window[hr("0x142")]:e[hr("0x2c")]}},{key:hr("0x139"),value:function(){var e,t=0
void 0!==navigator.maxTouchPoints?t=navigator.maxTouchPoints:void 0!==navigator.msMaxTouchPoints&&(t=navigator.msMaxTouchPoints)
try{document.createEvent("TouchEvent"),e=!0}catch(t){e=!1}return{maxTouchPoints:t,touchEvent:e,touchStart:hr("0x144")in window}}},{key:"getCanvasFp",value:function(t){var n={},r=document.createElement(hr("0x145"))
r[hr("0x146")]=2e3,r[hr("0x65")]=200,r[hr("0xfa")][hr("0x147")]="inline"
var i=r[hr("0x148")]("2d")
return i[hr("0x149")](0,0,10,10),i[hr("0x149")](2,2,6,6),n.canvasWinding=!1===i[hr("0x14a")](5,5,"evenodd")?"yes":"no",i[hr("0x14b")]=hr("0x14c"),i.fillStyle=hr("0x14d"),i[hr("0x14e")](125,1,62,20),i[hr("0x14f")]=hr("0x150"),t[hr("0x151")]?i[hr("0x152")]=hr("0x153"):i[hr("0x152")]=hr("0x154"),i[hr("0x155")](hr("0x156"),2,15),i[hr("0x14f")]=hr("0x157"),i[hr("0x152")]=hr("0x158"),i[hr("0x155")](hr("0x156"),4,45),i[hr("0x159")]=hr("0x15a"),i[hr("0x14f")]=hr("0x15b"),i.beginPath(),i[hr("0x15c")](50,50,50,0,2*Math.PI,!0),i.closePath(),i[hr("0x15d")](),i.fillStyle=hr("0x15e"),i[hr("0x15f")](),i.arc(100,50,50,0,2*Math.PI,!0),i[hr("0x160")](),i[hr("0x15d")](),i[hr("0x14f")]=hr("0x161"),i[hr("0x15f")](),i[hr("0x15c")](75,100,50,0,2*Math.PI,!0),i[hr("0x160")](),i[hr("0x15d")](),i[hr("0x14f")]=hr("0x15b"),i[hr("0x15c")](75,75,75,0,2*Math.PI,!0),i[hr("0x15c")](75,75,25,0,2*Math.PI,!0),i[hr("0x15d")](hr("0x162")),r.toDataURL&&(n[hr("0x163")]=e[hr("0x110")](r[hr("0x164")](),23)),n}},{key:hr("0xa7"),value:function(t){var n,r=function(e){return n[hr("0x165")](0,0,0,1),n[hr("0x166")](n[hr("0x167")]),n[hr("0x168")](n[hr("0x169")]),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),"["+e[0]+", "+e[1]+"]"}
if(!(n=pe[hr("0x16a")]()))return null
var i={},a=n[hr("0x16b")]()
n.bindBuffer(n.ARRAY_BUFFER,a)
var o=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0])
n[hr("0x16c")](n[hr("0x16d")],o,n[hr("0x16e")]),a[hr("0x16f")]=3,a.numItems=3
var s=n[hr("0x170")](),c=n.createShader(n[hr("0x171")])
n[hr("0x172")](c,hr("0x173")),n.compileShader(c)
var d=n[hr("0x174")](n[hr("0x175")])
n.shaderSource(d,hr("0x176")),n[hr("0x177")](d),n[hr("0x178")](s,c),n[hr("0x178")](s,d),n[hr("0x179")](s),n[hr("0x17a")](s),s[hr("0x17b")]=n[hr("0x17c")](s,hr("0x17d")),s.offsetUniform=n[hr("0x17e")](s,hr("0x17f")),n[hr("0x180")](s[hr("0x181")]),n[hr("0x182")](s[hr("0x17b")],a[hr("0x16f")],n[hr("0x183")],!1,0,0),n[hr("0x184")](s[hr("0x185")],1,1),n[hr("0x186")](n[hr("0x187")],0,a[hr("0x188")])
try{i[hr("0x189")]=e[hr("0x110")](n[hr("0x145")].toDataURL(),23)}catch(e){}if(t[hr("0x18a")][hr("0x111")])return i
i[hr("0x18b")]=pe[hr("0x18c")](),i[hr("0x18d")]=n.getSupportedExtensions()||[],i[hr("0x18e")]=r(n[hr("0x18f")](n.ALIASED_LINE_WIDTH_RANGE)),i[hr("0x190")]=r(n[hr("0x18f")](n[hr("0x191")])),i[hr("0x192")]=n.getParameter(n.ALPHA_BITS),i[hr("0x193")]=n[hr("0x194")]().antialias?hr("0x195"):"no",i[hr("0x196")]=n[hr("0x18f")](n[hr("0x197")]),i["webgl depth bits"]=n[hr("0x18f")](n.DEPTH_BITS),i[hr("0x198")]=n.getParameter(n[hr("0x199")]),i[hr("0x19a")]=function(e){var t=e[hr("0x19b")]("EXT_texture_filter_anisotropic")||e[hr("0x19b")](hr("0x19c"))||e[hr("0x19b")](hr("0x19d"))
if(t){var n=e[hr("0x18f")](t[hr("0x19e")])
return 0===n&&(n=2),n}return null}(n),i["webgl max combined texture image units"]=n[hr("0x18f")](n[hr("0x19f")]),i[hr("0x1a0")]=n[hr("0x18f")](n[hr("0x1a1")]),i[hr("0x1a2")]=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),i[hr("0x1a3")]=n[hr("0x18f")](n.MAX_RENDERBUFFER_SIZE),i[hr("0x1a4")]=n.getParameter(n[hr("0x1a5")]),i[hr("0x1a6")]=n[hr("0x18f")](n[hr("0x1a7")]),i[hr("0x1a8")]=n[hr("0x18f")](n[hr("0x1a9")]),i["webgl max vertex attribs"]=n[hr("0x18f")](n[hr("0x1aa")]),i["webgl max vertex texture image units"]=n[hr("0x18f")](n[hr("0x1ab")]),i[hr("0x1ac")]=n[hr("0x18f")](n.MAX_VERTEX_UNIFORM_VECTORS),i[hr("0x1ad")]=r(n.getParameter(n[hr("0x1ae")])),i[hr("0x1af")]=n.getParameter(n.RED_BITS),i[hr("0x1b0")]=n[hr("0x18f")](n[hr("0x1b1")]),i[hr("0x1b2")]=n[hr("0x18f")](n[hr("0x1b3")]),i[hr("0x1b4")]=n.getParameter(n[hr("0x1b5")]),i[hr("0x1b6")]=n[hr("0x18f")](n[hr("0x1b7")]),i[hr("0x1b8")]=n.getParameter(n.VERSION)
try{var u=n[hr("0x19b")](hr("0x1b9"))
u&&(i[hr("0x1ba")]=n[hr("0x18f")](u[hr("0x1bb")]),i[hr("0x1bc")]=n.getParameter(u[hr("0x1bd")]))}catch(e){}return n[hr("0x1be")]?(pe[hr("0xb")](["FLOAT",hr("0x1bf")],(function(e){pe[hr("0xb")]([hr("0x1c0"),"FRAGMENT"],(function(t){pe[hr("0xb")]([hr("0x1c1"),hr("0x1c2"),"LOW"],(function(r){pe[hr("0xb")](["precision",hr("0x1c3"),"rangeMax"],(function(a){var o=n[hr("0x1be")](n[t+"_SHADER"],n[r+"_"+e])[a]
hr("0x1c4")!==a&&(a="precision "+a)
var s=["webgl ",t[hr("0x1c5")]()," shader ",r[hr("0x1c5")]()," ",e[hr("0x1c5")]()," ",a][hr("0x9f")]("")
i[s]=o}))}))}))})),i):i}},{key:"getWebglVendorAndRenderer",value:function(){try{var e=pe.getWebglCanvas(),t=e[hr("0x19b")]("WEBGL_debug_renderer_info")
return e[hr("0x18f")](t.UNMASKED_VENDOR_WEBGL)+"~"+e[hr("0x18f")](t.UNMASKED_RENDERER_WEBGL)}catch(e){return null}}},{key:hr("0x1c6"),value:function(){var e=document[hr("0xf8")](hr("0xf9"))
e[hr("0x1c7")]=hr("0x1c8"),e[hr("0x1c9")]=hr("0x1ca")
var t=!1
try{document[hr("0x76")][hr("0x10d")](e),t=0===document[hr("0x1cb")](hr("0x1ca"))[0].offsetHeight,document[hr("0x76")][hr("0x10f")](e)}catch(e){t=!1}return t}},{key:"getHasLiedLanguages",value:function(){if(void 0!==navigator[hr("0x1cc")])try{if(navigator[hr("0x1cc")][0][hr("0x1cd")](0,2)!==navigator.language.substr(0,2))return!0}catch(e){return!0}return!1}},{key:hr("0xb3"),value:function(){return window.screen[hr("0x146")]<window.screen[hr("0x67")]||window[hr("0x5b")].height<window.screen[hr("0x68")]}},{key:"getHasLiedOs",value:function(){var e,t=navigator[hr("0x3c")][hr("0x1c5")](),n=navigator.oscpu,r=navigator[hr("0x141")][hr("0x1c5")]()
if(e=t[hr("0xf7")]("windows phone")>=0?"Windows Phone":t[hr("0xf7")](hr("0x1ce"))>=0?hr("0x1cf"):t[hr("0xf7")]("android")>=0?"Android":t.indexOf(hr("0x1d0"))>=0||t[hr("0xf7")](hr("0x1d1"))>=0?"Linux":t[hr("0xf7")](hr("0x1d2"))>=0||t[hr("0xf7")](hr("0x1d3"))>=0?hr("0x1d4"):t.indexOf(hr("0x1d5"))>=0?"Mac":hr("0x1d6"),(hr("0x144")in window||navigator[hr("0x1d7")]>0||navigator[hr("0x1d8")]>0)&&hr("0x1d9")!==e&&hr("0x1da")!==e&&hr("0x1d4")!==e&&hr("0x1d6")!==e)return!0
if(void 0!==n){if((n=n[hr("0x1c5")]())[hr("0xf7")]("win")>=0&&hr("0x1cf")!==e&&hr("0x1d9")!==e)return!0
if(n[hr("0xf7")]("linux")>=0&&hr("0x1db")!==e&&"Android"!==e)return!0
if(n.indexOf(hr("0x1d5"))>=0&&hr("0x1dc")!==e&&hr("0x1d4")!==e)return!0
if((-1===n[hr("0xf7")](hr("0x1ce"))&&-1===n.indexOf(hr("0x1d0"))&&-1===n.indexOf(hr("0x1d5")))!=(hr("0x1d6")===e))return!0}return r[hr("0xf7")]("win")>=0&&"Windows"!==e&&hr("0x1d9")!==e||(r[hr("0xf7")]("linux")>=0||r[hr("0xf7")](hr("0x1dd"))>=0||r.indexOf(hr("0x1de"))>=0)&&hr("0x1db")!==e&&"Android"!==e||(r[hr("0xf7")](hr("0x1d5"))>=0||r[hr("0xf7")]("ipad")>=0||r.indexOf("ipod")>=0||r[hr("0xf7")]("iphone")>=0)&&"Mac"!==e&&hr("0x1d4")!==e||(r[hr("0xf7")](hr("0x1ce"))<0&&r[hr("0xf7")](hr("0x1d0"))<0&&r[hr("0xf7")](hr("0x1d5"))<0&&r[hr("0xf7")](hr("0x1d2"))<0&&r[hr("0xf7")](hr("0x1d3"))<0)!=(hr("0x1d6")===e)||void 0===navigator[hr("0x118")]&&hr("0x1cf")!==e&&"Windows Phone"!==e}},{key:hr("0xb5"),value:function(){var e,t=navigator[hr("0x3c")].toLowerCase(),n=navigator.productSub
if(("Chrome"===(e=t.indexOf(hr("0x1df"))>=0?hr("0x95"):t.indexOf(hr("0x1e0"))>=0||t[hr("0xf7")](hr("0x1e1"))>=0?"Opera":t[hr("0xf7")](hr("0x1e2"))>=0?hr("0x24"):t[hr("0xf7")](hr("0x1e3"))>=0?"Safari":t[hr("0xf7")]("trident")>=0?"Internet Explorer":hr("0x1d6"))||hr("0x90")===e||hr("0xa2")===e)&&hr("0x1e4")!==n)return!0
var r,i=eval[hr("0x8")]().length
if(37===i&&hr("0x90")!==e&&hr("0x95")!==e&&hr("0x1d6")!==e)return!0
if(39===i&&hr("0x1e5")!==e&&hr("0x1d6")!==e)return!0
if(33===i&&"Chrome"!==e&&hr("0xa2")!==e&&"Other"!==e)return!0
try{throw"a"}catch(e){try{e[hr("0x1e6")](),r=!0}catch(e){r=!1}}return r&&hr("0x95")!==e&&hr("0x1d6")!==e}},{key:hr("0xa5"),value:function(){var e=document[hr("0xf8")](hr("0x145"))
return!(!e[hr("0x148")]||!e[hr("0x148")]("2d"))}},{key:"isWebGlSupported",value:function(){if(!pe[hr("0xa5")]())return!1
var e=pe.getWebglCanvas()
return!!window[hr("0x1e7")]&&!!e}},{key:hr("0x117"),value:function(){return"Microsoft Internet Explorer"===navigator.appName||!(hr("0x1e8")!==navigator[hr("0x7f")]||!/Trident/[hr("0x93")](navigator.userAgent))}},{key:hr("0x1e9"),value:function(){return void 0!==window[hr("0x1ea")]}},{key:hr("0xb7"),value:function(){return window[hr("0x1ea")][hr("0x1eb")](hr("0x1ec"))}},{key:hr("0x1ed"),value:function(e){var t=document[hr("0xf8")](hr("0xf9"))
t.setAttribute("id",e[hr("0xf5")][hr("0x1ee")]),document[hr("0x76")][hr("0x10d")](t)}},{key:hr("0xb9"),value:function(e,t){window[hr("0x1ef")]=function(t){e(t)}
var n=t.fonts.swfContainerId
pe[hr("0x1ed")]()
var r={onReady:hr("0x1ef")}
window[hr("0x1ea")][hr("0x1f0")](t[hr("0xf5")][hr("0xb8")],n,"1","1","9.0.0",!1,r,{allowScriptAccess:hr("0x1f1"),menu:hr("0x1f2")},{})}},{key:"getWebglCanvas",value:function(){var e=document[hr("0xf8")]("canvas"),t=null
try{t=e[hr("0x148")](hr("0x18a"))||e[hr("0x148")]("experimental-webgl")}catch(e){}return t||(t=null),t}}]),pe}(hr("0xb"),hr("0xf"),hr("0x10"),hr("0x2e"),hr("0x30"),hr("0x31"),hr("0x54"),hr("0x25"),hr("0x55"),hr("0x5a"),hr("0x5e"),hr("0x60"),hr("0x5f"),hr("0x66"),hr("0x69"),hr("0x6b"),hr("0x6f"),hr("0x71"),hr("0x73"),hr("0x75"),hr("0x78"),hr("0x7a"),hr("0x7c"),hr("0x7e"),hr("0x80"),hr("0x81"),hr("0x82"),hr("0x84"),hr("0x86"),hr("0x89"),hr("0x8b"),hr("0xa4"),hr("0xa8"),hr("0xaa"),hr("0xb1"),hr("0xb2"),hr("0xb6"),hr("0xbd"),hr("0x113"),hr("0x119"),hr("0x130"),hr("0x135"),hr("0x138"),hr("0x13a"),hr("0x70"),hr("0x72"),hr("0x74"),hr("0x13b"),hr("0x7b"),hr("0x140"),hr("0x8a"))
function n(e){var t=arguments[hr("0x6")]>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2],r=n?n[hr("0x21b")]("#"+e):document[hr("0x21c")](e)
if(r){var i=r[hr("0x21d")][hr("0x21e")]
if(t&&r[hr("0x21f")].removeChild(r),i)try{return JSON[hr("0x220")](i)}catch(e){return}}}var r=function(e,t,r,i,a,o,s,c){function d(){g(this,d)}return v(d,null,[{key:hr("0x221"),value:function(e){for(var t=new ArrayBuffer(e[hr("0x6")]),n=new Uint8Array(t),r=0,i=e.length;r<i;r++)n[r]=e[hr("0x7")](r)
return t}},{key:hr("0x222"),value:function(e){return window[hr("0x223")](String[hr("0x224")].apply(null,e))}},{key:hr("0x225"),value:function(e,t,n){var r=window[hr("0x226")](t),i=d[hr("0x221")](r)
return window[hr("0x227")][hr("0x228")][hr("0x229")](e,i,{name:hr("0x22a"),hash:"SHA-256"},!0,n)}},{key:hr("0x22b"),value:function(e,t){return d[hr("0x225")](hr("0x22c"),t,["wrapKey"]).then((function(t){return window.crypto[hr("0x228")].wrapKey(hr("0x22d"),e,t,{name:hr("0x22a")})})).then((function(e){return d[hr("0x222")](new Uint8Array(e))}))}},{key:hr("0x22e"),value:function(e){var t={a:null,b:null,c:null}
return t[hr("0x22f")]=e,t}},{key:hr("0x230"),value:function(e,t,n){var r={a:null,b:null,c:null}
try{var i=Date[hr("0x83")]()
if(hr("0x231")!=m(t)||"number"!=typeof n)throw new Error(hr("0x232"))
var a=window[hr("0x227")][hr("0x233")](new Uint8Array(16))
r.a=d[hr("0x222")](a)
var o=(new TextEncoder).encode(e),s=hr("0x234")
return window[hr("0x227")][hr("0x228")][hr("0x235")]({name:s,length:256},!0,[hr("0x236"),"decrypt"]).then((function(e){return window[hr("0x227")][hr("0x228")][hr("0x236")]({name:s,iv:a},e,o)[hr("0x1f")]((function(a){return d.wrap(e,t)[hr("0x1f")]((function(e){return r.b=e,r.c=d[hr("0x222")](new Uint8Array(a)),r.d=Date[hr("0x83")]()-i,r.e=n,r}))}))}))[hr("0x38")]((function(e){return r.error=String(e),r}))}catch(e){return r[hr("0x22f")]=String(e),Promise[hr("0x237")](r)}}},{key:hr("0x238"),value:function(e,t,r,i){if(hr("0x231")!=m(t)||"string"!=typeof r)return Promise[hr("0x237")](d.wrapErrorResult(hr("0x239")))
var a=n(t),o=parseInt(n(r))
return(hr("0x231")!=m(a)||"number"!=typeof o||Number.isNaN(o))&&(a=i?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqyVTa3Pi5twlDxHc34nl3MlTHOweIenIid6hDqVlh5/wcHzIxvB9nZjObW3HWfwqejGM+n2ZGbo9x8R7ByS3/V4qRgAs1z4aB6F5+HcXsx8uVrQfwigK0+u7d3g1s7H8qUaguMPHxNnyj5EisTJBh2jf9ODp8TpWnhAQHCCSZcDM4JIoIlsVdGmv+dGlzZzmf1if26U4KJqFdrqS83r3nGWcEpXWiQB+mx/EX4brbrhOFCvfPovvsLEjMTm0UC68Bvki3UsB/vkkMPW9cxNiiJJdnDkOEEdQPuFmPug+sqhACl3IIHLVBFM7vO0ca14rcCNSbSDaaKOY6BQoW1A30wIDAQAB":hr("0x23a"),o=i?2:1),d[hr("0x230")](e,a,o)}},{key:"encryptWithKeyFromDifferentSources",value:function(e,t,n,r,i){return null!=r&&hr("0x231")==m(r[hr("0x23b")])&&hr("0x210")==m(r[hr("0x23c")])?d[hr("0x230")](e,r[hr("0x23b")],r[hr("0x23c")]):d[hr("0x238")](e,t,n,i)}},{key:hr("0x23d"),value:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11)[hr("0xa0")](/[018]/g,(function(e){return(e^window.crypto[hr("0x233")](new Uint8Array(1))[0]&15>>e/4)[hr("0x8")](16)}))}}]),d}(),i=hr("0x23e"),a={preprocessor:null,audio:{timeout:1e3,excludeIOS11:!0},fonts:{swfContainerId:hr("0x23f"),swfPath:hr("0x240"),userDefinedFonts:[],extendedJsFonts:void 0,hashOnly:!1},screen:{detectScreenOrientation:!0},plugins:{sortPluginsFor:[/palemoon/i],excludeIE:!1},webgl:{hashOnly:!1},ponfUrl:hr("0x241"),telemetryCollectPath:hr("0x242"),extraComponents:[],excludes:{pixelRatio:!0,doNotTrack:!0,fontsFlash:!0},debug:!1,NOT_AVAILABLE:"n/a",ERROR:hr("0x243"),EXCLUDED:"excluded"},o=function(e,o){function s(e,t){var n=this
g(this,s),void 0!==t&&void 0!==e&&hr("0x244")===e[hr("0x245")]?"complete"===document[hr("0x246")]?this[hr("0x247")](a,t):window[hr("0x248")]("load",(function(){n.intializeGlobalIntegration(a,t)})):void 0!==e?this[hr("0x249")](a,e):hr("0x1b")===document.readyState?this[hr("0x249")](a):window[hr("0x248")](hr("0x24a"),(function(){n[hr("0x249")](a)}))}return v(s,[{key:hr("0x249"),value:function(e,i){if(null!=i||null!=n(hr("0x24b"))){this[hr("0x24e")](e,i)
var a=this[hr("0x24f")],o=this[hr("0x250")],s=this[hr("0x251")]()
return(new t).getFeatures((function(t,n){t[hr("0x24f")]=a,t.pageInstance=o,t[hr("0x252")]=n,r[hr("0x253")](JSON.stringify(t),hr("0x24b"),hr("0x254"),i,s)[hr("0x1f")]((function(t){globalThis.apfcDf=t,!0===n&&function(e,t,n){var r=new XMLHttpRequest,i=hr(n?"0x255":"0x256")
i+=String(t),r[hr("0x96")](hr("0x257"),i),r[hr("0x258")](hr("0x259"),hr("0x25a")),r[hr("0x25b")](e)}(JSON[hr("0x211")](t),e.telemetryCollectPath,s)}))}),e)}globalThis[hr("0x24c")]=this[hr("0x24d")]}},{key:hr("0x247"),value:function(e,n){return(new t)[hr("0x25c")]((function(e,t){!0===t&&r[hr("0x238")](JSON[hr("0x211")](e),"apfcDfPK",hr("0x254")).then((function(e){n(i,JSON[hr("0x211")](e))}))}),e)}}]),s}()
o[hr("0xc")][hr("0x24d")]=function(e){globalThis[hr("0x24c")]=null,new o(e)},o[hr("0xc")][hr("0x25d")]=function(e){globalThis[hr("0x25e")]=null,new o({globalIntegration:hr("0x244")},e)},o[hr("0xc")][hr("0x251")]=function(){var e=location&&location.host
return e&&e.indexOf(hr("0x25f"))>-1&&!e.startsWith(hr("0x260"))},o[hr("0xc")][hr("0x261")]=function(){var e=[]
return p(document[hr("0x1cb")]("div_bc"))[hr("0xd")]((function(t){p(t[hr("0x262")](hr("0x263")))[hr("0xd")]((function(t){var n=t.innerHTML
if(n){var r=(new DOMParser)[hr("0x264")](n,hr("0x265"))
r&&p(r.getElementsByClassName("bc"))[hr("0xd")]((function(t){e.push({src:t.getAttribute(hr("0x266")),style:t[hr("0x27")](hr("0xfa")),class:t[hr("0x27")](hr("0x267")),width:t[hr("0x27")](hr("0x146")),height:t[hr("0x27")](hr("0x65"))})}))}}))})),0===e[hr("0x6")]?null:e[0]},o[hr("0xc")].placePonfBeacon=function(e,t){if(null!=e){var n,i,a="bc",o=hr("0x268"),s="1",c="1",d=e[hr("0x269")]
if(this[hr("0x24f")]=null,this[hr("0x250")]=null,null!==(n=this[hr("0x261")]())){a=n[hr("0x267")],o=n[hr("0xfa")],s=n[hr("0x146")],c=n[hr("0x65")]
var u=new URL(n.src)
d=u[hr("0x26a")]+"//"+u[hr("0xac")]+u[hr("0x26b")],this[hr("0x24f")]=u.searchParams.get("reqid"),this[hr("0x250")]=u[hr("0x26c")][hr("0x26d")]("pageInstance")}else if(void 0!==(i=function(e){var t=arguments[hr("0x6")]>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2],r=n?n.querySelector("#"+e):document[hr("0x21c")](e)
if(r){var i=r[hr("0x21d")].nodeValue
if(t&&r.parentNode[hr("0x10f")](r),i)try{var a=i
return"'"!==a.charAt(0)&&'"'!==a[hr("0x26e")](0)||(a=a[hr("0x26f")](1,a[hr("0x6")]-1)),JSON[hr("0x220")](a)}catch(e){return}}}(hr("0x270"))))this[hr("0x24f")]=void 0===i.reqid?null:i[hr("0x24f")],this[hr("0x250")]=i[hr("0x250")]
else{if(void 0===t)return
this.pageInstance=t[hr("0x250")]}this[hr("0x251")]()||(d=d[hr("0xa0")](/\.linkedin\.com/,".linkedin-ei.com")),null===this[hr("0x24f")]&&(this[hr("0x24f")]=r[hr("0x23d")]())
var l=d+"?"+new URLSearchParams({reqid:this.reqid,pageInstance:this[hr("0x250")],js:hr("0x244")}).toString(),p=document.getElementsByClassName(hr("0x271"))[0]
null==p&&((p=document[hr("0xf8")](hr("0xf9")))[hr("0x272")]("id",this.reqid),document[hr("0x76")][hr("0x10d")](p))
var f=document[hr("0xf8")](hr("0x273"))
f.src=l,f[hr("0xfa")]=o,f[hr("0x1c9")]=a,f[hr("0x146")]=s,f[hr("0x65")]=c,p[hr("0x10d")](f)}},hr("0x274")!=("undefined"==typeof globalThis?"undefined":m(globalThis))&&"undefined"!=typeof document&&hr("0x274")!=("undefined"==typeof window?"undefined":m(window))&&(globalThis[hr("0x25e")]=o[hr("0xc")][hr("0x25d")],new o)}()
var mr=function(){function e(){g(this,e)}return v(e,null,[{key:"collectFeatures",value:function(e,t){try{"undefined"!=typeof globalThis&&"undefined"!=typeof document&&"undefined"!=typeof window&&"undefined"!==globalThis.triggerDnaApfcEvent&&globalThis.triggerDnaApfcEvent(t)}catch(e){}}}]),e}(),gr=function(){function e(t,n,r,i,a,o,s,c,d,u){g(this,e),b(this,"hostApis",void 0),b(this,"statics",void 0),b(this,"options",void 0),b(this,"allowTimingOrigin",void 0),b(this,"fireCustomMeasureEvent",void 0),b(this,"fireResourceLoadEvent",void 0),b(this,"isTracerLixEnabled",void 0),b(this,"responseRleCache",void 0),b(this,"fireApfcEvent",void 0),b(this,"isDnaFingerprintingLixEnabled",void 0),b(this,"collectResourceTimings",void 0),b(this,"collectCdnData",void 0),b(this,"perfObserver",void 0),b(this,"renderTimings",new Map),b(this,"urlToTreeId",new Map),b(this,"cdnDataProvider",void 0),b(this,"observables",new Dn),this.hostApis=t,this.statics=n,this.options=r,this.allowTimingOrigin=i,this.fireCustomMeasureEvent=a,this.fireResourceLoadEvent=o,this.isTracerLixEnabled=s,this.responseRleCache=c,this.fireApfcEvent=d,this.isDnaFingerprintingLixEnabled=u,this.collectResourceTimings=r["enable-rs-timing"],this.collectCdnData=r["enable-cdn-tracking"],this.collectCdnData&&(this.cdnDataProvider=new pr(t))}return v(e,[{key:"recordTreeId",value:function(e,t){this.collectResourceTimings&&this.urlToTreeId.set(function(e,t){return(Zn=Zn||t.createElement("a")).href=e,Zn.href}(t,this.hostApis.document),e)}},{key:"recordRenderStart",value:function(e,t){this.renderTimings.has(e)||this.renderTimings.set(e,{renderName:t,viewId:e,renderStart:ar(this.hostApis.performance,this.allowTimingOrigin)})}},{key:"recordRenderEnd",value:function(e,t,n){var r=this.renderTimings.get(e)
if(r&&(r.renderEnd=r.renderEnd||ar(this.hostApis.performance,this.allowTimingOrigin),t))return n?this.collectViewLoadEventData(r,n):void Lt("ViewLoadEvent",Nn)}},{key:"collectViewLoadEventData",value:function(e,t){var n=e.renderName,r=e.renderEnd,i=void 0===r?-1:r,a=e.renderStart,o=void 0===a?-1:a,s=[]
return s.push({viewProgressType:"RENDER_START",timestamp:o}),s.push({viewProgressType:"RENDER_END",timestamp:i}),{parentPageLoadId:t,viewHierarchy:[n],viewProgressStates:s}}},{key:"startObserving",value:function(){var e=this.hostApis,t=e.PerformanceObserver,n=e.performance
this.stopObserving(),t?this.setupPerformanceObserver(t,n.timeOrigin):this.collectResourceTimings&&this.emulateResourceTimingObserver(n),this.collectResourceTimings&&this.processNewResourceTimings()}},{key:"stopObserving",value:function(){var e
null===(e=this.perfObserver)||void 0===e||e.disconnect(),this.reset()}},{key:"collect",value:function(e){var t=this,n=e.isInitial,r=e.immediate,i=this.collectSynchronousData(n)
if(r)return i
var a=this.collectAsynchronousData()
return"then"in a?a.then((function(e){return(0,t.hostApis.assign)(i,e),i})):i}},{key:"collectPageLoadStartData",value:function(e){var t=e.isInitial,n=e.rumKey,r=Object.create(null)
r.pageKey=n,r.pageLoadType=t?"INITIAL_LOAD":"SUBSEQUENT_LOAD",r.networkInformationMetrics=this.snapshot.networkInformationMetrics
var i=this.statics,a=i.webUIFramework,o=i.timeSource,s=i.isSinglePageApp,c=i.appRenderMode,d=i.isAppRenderFailed,u=i.isFromServiceWorker,l=i.treeId
return r.treeId=l,r.browserPageLoadStartContext={webUIFramework:a,timeSource:o,isSinglePageApp:s,appRenderMode:c,isAppRenderFailed:d,isFromServiceWorker:u},r}},{key:"collectPageLoadEndData",value:function(e){var t=Object.create(null),n=Object.create(null)
t.cdnData=[],t.browserPageLoadEndContext={},t.navigationTiming=Object.create(null)
var r=e.isInitial,i=e.immediate,a=this.hostApis.assign
if(r){var o=vr(this.hostApis.performance),s=o.htmlMetrics,c=o.redirectCount,d=o.navigationType,u=o.workerStart
s&&(t.browserPageLoadEndContext.htmlMetrics=Object.create(null),a(t.browserPageLoadEndContext.htmlMetrics,s)),Object.prototype.hasOwnProperty.call(o,"redirectCount")&&(n.redirectCount=c),Object.prototype.hasOwnProperty.call(o,"navigationType")&&(n.navigationType=d),n.workerStart=null!=u?u:0,wn.forEach((function(e){Object.prototype.hasOwnProperty.call(o,e)&&(n[e]=o[e])})),a(t.navigationTiming,n)}if(!i){var l=this.collectAsynchronousData()
if("then"in l)return l.then((function(e){return a(t.cdnData,e.cdnData),t}))}var p=this.collectAsynchronousData(!0)
return a(t.cdnData,p.cdnData),t}},{key:"collectResourceLoadEvent",value:function(e,t){var n,r,i=e.name,a=e.transferSize,o=e.initiatorType,s=e.nextHopProtocol,c=e.encodedBodySize,d=e.decodedBodySize,u=e.requestStart,l={}
l.resourceKey=i,l.isNetwork=!!a&&0!==a,l.loadType=o||"unknown",l.timeOrigin=t
var p=[]
Object.keys(Mn).forEach((function(t){var n
t in Cn&&void 0!==e[t]&&p.push({resourceProgressType:Mn[t],duration:null!==(n=e[t])&&void 0!==n?n:-1})})),l.resourceProgressStates=p
var f={},h=On[s]
f.nextHopProtocol=null!=h?h:"UNKNOWN",f.transferSize=a,f.encodedBodySize=c,f.decodedBodySize=d,l.resourceNetworkContext=f,l.requestStart=u
var m=new URL(i),g=m.pathname+m.search+m.hash
return null===(n=this.responseRleCache)||void 0===n||n.offerResourceLoadEvent(g,l),null===(r=this.responseRleCache)||void 0===r?void 0:r.flushCacheByUrl(g)}},{key:"reset",value:function(){var e
this.observables.reset(),null===(e=this.cdnDataProvider)||void 0===e||e.clearUsedHostnames()}},{key:"collectSynchronousData",value:function(e){var t=this.hostApis,n=t.assign,r=t.PerformanceObserver,i=Object.create(null)
return this.statics.pageLoadMode=e?"INITIAL":"PARTIAL",r||(this.observables.userTimingEntries=cr(this.hostApis.performance,this.options,!0,this.fireCustomMeasureEvent),this.collectResourceTimings&&this.processNewResourceTimings()),this.observables.attachTreeIds(this.urlToTreeId),this.urlToTreeId.clear(),n(i,this.observables.getData(),this.snapshot,this.statics),e&&n(i,vr(this.hostApis.performance)),n(i,this.collectAsynchronousData(!0)),i}},{key:"collectAsynchronousData",value:function(e){var t=this,n={cdnData:[],usedCDN:this.extractUsedCDN([])}
if(e){if(this.collectCdnData){var r=this.cdnDataProvider.getPresentData()
n.cdnData=r,n.usedCDN=this.extractUsedCDN(r)}return n}var i=[]
return this.collectCdnData&&i.push(this.cdnDataProvider.getDataWhenReady(this.options["async-plugins-timeout"]).then((function(e){n.cdnData=e,n.usedCDN=t.extractUsedCDN(e)}))),i.length>0?Mt(i,Promise).then((function(){return n})):n}},{key:"setupPerformanceObserver",value:function(e,t){var n=this
this.perfObserver=new e((function(e){e.getEntries().forEach((function(e){var r=e.entryType,i=e.name,a=e.startTime,o=e.duration
if("resource"===r)n.processSingleResourceTiming(e,t)
else if("mark"===r){n.observables.userTimingEntries.push({entryType:"MARK",name:i,startTime:a,duration:o}),n.fireCustomMeasureEvent({measurementName:i,measurementType:"MARK",measureProgressStates:[{measureProgressName:i,timestamp:a}]})
try{"mark_meaningful_paint_end"===i&&n.isDnaFingerprintingLixEnabled&&mr.collectFeatures({},n.fireApfcEvent)}catch(e){}}else"measure"===r?(n.observables.userTimingEntries.push({entryType:"MEASURE",name:i,startTime:a,duration:o}),n.fireCustomMeasureEvent({measurementName:i,measurementType:"MEASURE",measureProgressStates:[{measureProgressName:i,timestamp:a,duration:o}]})):"longtask"===r&&(n.observables.longTasks.push({duration:o,name:i,startTime:a}),n.fireCustomMeasureEvent({measurementName:i,measurementType:"LONG_TASK",measureProgressStates:[{measureProgressName:i,timestamp:a,duration:o}]}))}))})),this.observables.userTimingEntries=cr(this.hostApis.performance,this.options,!1,this.fireCustomMeasureEvent)
var r=["longtask"];(this.collectResourceTimings||this.collectCdnData)&&r.push("resource"),this.options["user-timing-mark-enabled"]&&r.push("mark"),this.options["user-timing-measure-enabled"]&&r.push("measure"),this.perfObserver.observe({entryTypes:r})}},{key:"emulateResourceTimingObserver",value:function(e){var t=this
e&&"function"==typeof e.setResourceTimingBufferSize&&"function"==typeof e.onresourcetimingbufferfull&&(e.setResourceTimingBufferSize(100),e.onresourcetimingbufferfull=function(){return t.processNewResourceTimings()})}},{key:"processNewResourceTimings",value:function(){var e=this,t=this.hostApis.performance
"function"==typeof t.getEntriesByType&&"function"==typeof t.clearResourceTimings&&(t.getEntriesByType("resource").forEach((function(n){return e.processSingleResourceTiming(n,t.timeOrigin)})),t.clearResourceTimings())}},{key:"processSingleResourceTiming",value:function(e,t){var n=this
if(this.collectResourceTimings){this.observables.resourceTimingEntries.push(e)
var r=-1!==e.name.indexOf("/li/track")
if(this.isTracerLixEnabled&&!r&&!function(e){var t,n=l(Un)
try{for(n.s();!(t=n.n()).done;)if(t.value.test(e))return!0}catch(e){n.e(e)}finally{n.f()}return!1}(e.name)){var i=this.collectResourceLoadEvent(e,t)
i&&i.forEach((function(e){return n.fireResourceLoadEvent(e)}))}}this.collectCdnData&&this.cdnDataProvider.inspectEntryForCdnData(e)}},{key:"extractUsedCDN",value:function(e){var t=e.filter((function(e){return e.hostname.indexOf("static")>=0})),n=t.length>0?t[0]:{hostname:"",provider:"",httpVersion:"",ipVersion:""}
return{static_domain:n.provider,http_version:n.httpVersion,ip_version:n.ipVersion}}},{key:"snapshot",get:function(){var e={detailedRenderTimingEntries:dr(this.renderTimings),networkInformationMetrics:yr(this.hostApis.connection)}
return this.renderTimings.clear(),e}}]),e}()
function yr(e){return e?{connectionType:e.type&&e.type.toUpperCase()||"UNKNOWN",effectiveType:function(e){switch(e){case"2g":return"TWO_G"
case"3g":return"THREE_G"
case"4g":return"FOUR_G"
default:return"SLOW_2G"}}(e.effectiveType),roundTripTime:e.rtt||-1,downlinkBandwidth:e.downlink||-1,downlinkMaxBandwidth:void 0===e.downlinkMax?-1:e.downlinkMax===1/0?0:e.downlinkMax}:void 0}function vr(e){if(!e)return{navigationTimingApi:!1}
var t=Object.create({})
if("function"==typeof e.getEntriesByType){var n=e.getEntriesByType("navigation")[0]
n&&(["fetchStart","responseEnd","decodedBodySize","encodedBodySize","transferSize"].every((function(e){return"number"==typeof n[e]}))&&(t.htmlMetrics={htmlFetchStart:n.fetchStart,htmlResponseEnd:n.responseEnd,htmlDecodedBodySize:n.decodedBodySize,htmlEncodedBodySize:n.encodedBodySize,htmlTransferSize:n.transferSize}),t.workerStart=n.workerStart)}var r=e.timing,i=e.navigation
return r&&i?(t.navigationTimingApi=!0,wn.forEach((function(e){e in r&&(t[e]=r[e])})),t.navigationType=i.type,t.redirectCount=i.redirectCount):t.navigationTimingApi=!1,t}var br=function(){function e(t,n,r){g(this,e),b(this,"featureName",void 0),b(this,"trackingCore",void 0),b(this,"rumConfig",void 0),b(this,"observing",!1),b(this,"basePageTreeId",void 0),b(this,"startPageInstance",void 0),b(this,"startMemory",void 0),b(this,"reportTimeouts",[]),this.featureName=t,this.trackingCore=n,this.rumConfig=r}return v(e,[{key:"startObserving",value:function(){var t,n=this,r=this.getMemory()
r&&!this.observing&&(this.basePageTreeId=this.trackingCore.host.treeID||"",this.startPageInstance=(null===(t=this.trackingCore.getCurrentContext())||void 0===t?void 0:t.pageInstance)||Tt("unknown"),this.startMemory=r,this.reportTimeouts=e.checkpoints.map((function(e){return setTimeout((function(){return n.reportMemory(e)}),60*e*1e3)})))}},{key:"stopObserving",value:function(){this.reportTimeouts.forEach((function(e){return clearTimeout(e)})),this.observing=!1}},{key:"reportMemory",value:function(e){var t={name:this.featureName,basePageTreeId:this.basePageTreeId,startTime:or(this.trackingCore.host.api.performance),duration:0,startPageInstance:this.startPageInstance,marks:this.createMemoryMarks("-".concat(e,"min")),spans:[]}
this.trackingCore.fireEvent({appId:this.rumConfig["app-id"],eventName:"FeaturePerformanceMeasurementEvent"},t)}},{key:"createMemoryMarks",value:function(e){var t=this.getMemory(),n=["jsHeapSizeLimit","totalJSHeapSize","usedJSHeapSize"].map((function(n){return{name:n+e,startTime:t[n]}})),r=t.usedJSHeapSize-this.startMemory.usedJSHeapSize
return n.push({name:(r<0?"usedJSHeapSizeDecrease":"usedJSHeapSizeIncrease")+e,startTime:Math.abs(r)},{name:"utilization"+e,startTime:Math.round(t.usedJSHeapSize/t.totalJSHeapSize*100)}),n}},{key:"getMemory",value:function(){return this.trackingCore.host.api.performance.memory}}]),e}()
b(br,"checkpoints",[1,3,10,30,90,180,300])
var Tr,_r,Er,xr,Sr,Cr=v((function e(t,n,r){g(this,e),b(this,"webUIFramework",void 0),b(this,"timeSource",void 0),b(this,"isSinglePageApp",void 0),b(this,"appRenderMode",void 0),b(this,"isAppRenderFailed",void 0),b(this,"pageLoadMode","INITIAL"),b(this,"isSSL",void 0),b(this,"treeId",void 0),b(this,"isFromServiceWorker",void 0),this.webUIFramework=n["web-ui-framework"],this.timeSource=n["beacon-source"],this.isSinglePageApp=n["is-single-page-app"],this.appRenderMode=t["app-render-mode"],this.isAppRenderFailed=t["is-app-render-failed"],this.isSSL="https:"===r.api.location.protocol?1:0,this.treeId=r.treeID,this.isFromServiceWorker=r.isFromServiceWorker})),Ar=function(){function e(t){g(this,e),b(this,"isPEMTracerLixEnabled",void 0),b(this,"responseContextMap",new Map),b(this,"resourceLoadEventsMap",new Map),this.isPEMTracerLixEnabled=t}return v(e,[{key:"offerResponseContext",value:function(e,t){if(this.isPEMTracerLixEnabled)if(this.responseContextMap.has(e)){var n
null===(n=this.responseContextMap.get(e))||void 0===n||n.heapPush(t)}else{var r=new jt((function(e,t){return e.requestTime<t.requestTime}))
r.heapPush(t),this.responseContextMap.set(e,r)}}},{key:"offerResourceLoadEvent",value:function(e,t){if(this.resourceLoadEventsMap.has(e)){var n
null===(n=this.resourceLoadEventsMap.get(e))||void 0===n||n.heapPush(t)}else{var r=new jt((function(e,t){return e.requestStart<t.requestStart}))
r.heapPush(t),this.resourceLoadEventsMap.set(e,r)}}},{key:"mergeAndConsume",value:function(e){var t=this.resourceLoadEventsMap.get(e),n=this.responseContextMap.get(e),r=null==t?void 0:t.heappop(),i=null==n?void 0:n.heappop()
return this.mergeRleAndRes(r,i)}},{key:"mergeRleAndRes",value:function(e,t){if(e&&t){e.requestStart
var n=u(e,i),r=(t.requestTime,t.viewNames),o=u(t,a)
return n.targetViewNames=r||[],n.resourceNetworkContext=d(d({},n.resourceNetworkContext),o),Bt(n)}}},{key:"deleteEntryByRequestUrl",value:function(e){this.resourceLoadEventsMap.delete(e),this.responseContextMap.delete(e)}},{key:"canFlush",value:function(e){var t=this.resourceLoadEventsMap.get(e),n=this.responseContextMap.get(e)
return n&&t&&n.heapsize()>0&&n.heapsize()===t.heapsize()}},{key:"clear",value:function(){this.resourceLoadEventsMap.clear(),this.responseContextMap.clear()}},{key:"flushCache",value:function(){var e=this.responseContextMap.keys(),t=[]
if(e){var n,r=l(e)
try{for(r.s();!(n=r.n()).done;){var i=n.value
t=[].concat(p(t),p(this.flushCacheByUrl(i)))}}catch(e){r.e(e)}finally{r.f()}}var a=this.resourceLoadEventsMap.keys()
if(a){var s,c=l(a)
try{for(c.s();!(s=c.n()).done;){var d,f=s.value,h=null===(d=this.resourceLoadEventsMap.get(f))||void 0===d?void 0:d.heapClear()
h&&(t=[].concat(p(t),p(h.map((function(e){e.requestStart
var t=u(e,o)
return Bt(t)})))))}}catch(e){c.e(e)}finally{c.f()}}return t}},{key:"flushCacheByUrl",value:function(e){var t,n,r,i=[]
if(!this.isPEMTracerLixEnabled)return(null===(t=this.resourceLoadEventsMap)||void 0===t||null===(n=t.get(e))||void 0===n||null===(r=n.heapClear())||void 0===r?void 0:r.map((function(e){e.requestStart
var t=u(e,s)
return Bt(t)})))||i
if(this.canFlush(e)){for(var a=this.responseContextMap.get(e);a&&a.heapsize()>0;){var o=this.mergeAndConsume(e)
o&&i.push(o)}this.deleteEntryByRequestUrl(e)}return i}}]),e}(),kr=function(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},Ir=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return
var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}))
return n.observe({type:e,buffered:!0}),n}}catch(e){}},Rr=function(e,t){var n=function n(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))}
addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},wr=function(e){addEventListener("pageshow",(function(t){t.persisted&&e(t)}),!0)},Mr=function(e,t,n){var r
return function(i){t.value>=0&&(i||n)&&(t.delta=t.value-(r||0),(t.delta||void 0===r)&&(r=t.value,e(t)))}},Or=-1,Nr=function(){return"hidden"===document.visibilityState?0:1/0},Pr=function(){Rr((function(e){var t=e.timeStamp
Or=t}),!0)},Ur=function(){return Or<0&&(Or=Nr(),Pr(),wr((function(){setTimeout((function(){Or=Nr(),Pr()}),0)}))),{get firstHiddenTime(){return Or}}},Dr=!1,Lr=-1,Fr=function(e,t){Dr||(function(e,t){var n,r=Ur(),i=kr("FCP"),a=function(e){"first-contentful-paint"===e.name&&(s&&s.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=e.startTime,i.entries.push(e),n(!0)))},o=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],s=o?null:Ir("paint",a);(o||s)&&(n=Mr(e,i,t),o&&a(o),wr((function(r){i=kr("FCP"),n=Mr(e,i,t),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-r.timeStamp,n(!0)}))}))})))}((function(e){Lr=e.value})),Dr=!0)
var n,r=function(t){Lr>-1&&e(t)},i=kr("CLS",0),a=0,o=[],s=function(e){if(!e.hadRecentInput){var t=o[0],r=o[o.length-1]
a&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(a+=e.value,o.push(e)):(a=e.value,o=[e]),a>i.value&&(i.value=a,i.entries=o,n())}},c=Ir("layout-shift",s)
c&&(n=Mr(r,i,t),Rr((function(){c.takeRecords().map(s),n(!0)})),wr((function(){a=0,Lr=-1,i=kr("CLS",0),n=Mr(r,i,t)})))},Br={passive:!0,capture:!0},jr=new Date,qr=function(e,t){Tr||(Tr=t,_r=e,Er=new Date,Gr(removeEventListener),Vr())},Vr=function(){if(_r>=0&&_r<Er-jr){var e={entryType:"first-input",name:Tr.type,target:Tr.target,cancelable:Tr.cancelable,startTime:Tr.timeStamp,processingStart:Tr.timeStamp+_r}
xr.forEach((function(t){t(e)})),xr=[]}},Hr=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp
"pointerdown"==e.type?function(e,t){var n=function(){qr(e,t),i()},r=function(){i()},i=function(){removeEventListener("pointerup",n,Br),removeEventListener("pointercancel",r,Br)}
addEventListener("pointerup",n,Br),addEventListener("pointercancel",r,Br)}(t,e):qr(t,e)}},Gr=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,Hr,Br)}))},Kr=function(e,t){var n,r=Ur(),i=kr("FID"),a=function(e){e.startTime<r.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),n(!0))},o=Ir("first-input",a)
n=Mr(e,i,t),o&&Rr((function(){o.takeRecords().map(a),o.disconnect()}),!0),o&&wr((function(){var r
i=kr("FID"),n=Mr(e,i,t),xr=[],_r=-1,Tr=null,Gr(addEventListener),r=a,xr.push(r),Vr()}))},Wr={},zr=function(e,t){var n,r=Ur(),i=kr("LCP"),a=function(e){var t=e.startTime
t<r.firstHiddenTime&&(i.value=t,i.entries.push(e)),n()},o=Ir("largest-contentful-paint",a)
if(o){n=Mr(e,i,t)
var s=function(){Wr[i.id]||(o.takeRecords().map(a),o.disconnect(),Wr[i.id]=!0,n(!0))};["keydown","click"].forEach((function(e){addEventListener(e,s,{once:!0,capture:!0})})),Rr(s,!0),wr((function(r){i=kr("LCP"),n=Mr(e,i,t),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-r.timeStamp,Wr[i.id]=!0,n(!0)}))}))}))}},$r=["LCP","FID","CLS"],Xr={LCP:"LargestContentfulPaint",FID:"FirstInputDelay",CLS:"CumulativeLayoutShift"},Qr={},Yr=function(){var e
if(!Ht)return""
var t=window.performance,n=void 0
if("function"==typeof(null==t?void 0:t.getEntriesByType)){var r,i=null===(r=window.performance)||void 0===r?void 0:r.getEntriesByType("navigation");(null==i?void 0:i.length)>0&&(n=i[0])}return(null===(e=n)||void 0===e?void 0:e.name)||window.location.href}(),Jr=!1,Zr=new Set,ei={LCP:"largest-contentful-paint",FID:"first-input",CLS:"layout-shift"}
function ti(){var e=!0===window.__test__resetWebVitalsState
if(!Jr||e){e&&(Zr=new Set),$r.forEach(ni)
var t=Symbol()
Sr=t,[zr,Kr,Fr].forEach((function(e){return e(ri.bind(null,t),!0)})),[zr,Kr,Fr].forEach((function(e){return e(ii.bind(null,t))})),Jr=!0}}function ni(e){Qr[e]={name:e,value:-1,updateHistory:[]}
var t=ei[e]
"undefined"!=typeof PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&"string"==typeof t&&PerformanceObserver.supportedEntryTypes.indexOf(t)>-1||(Qr[e].value=-2)}function ri(e,t){if(e===Sr){var n=Qr[t.name],r=or()
n&&(n.updateHistory.push({time:r,data:t}),n.value=t.value),Zr.forEach((function(e){return e(t,r,!1)}))}}function ii(e,t){e===Sr&&Zr.forEach((function(e){return e(t,or(),!0)}))}var ai,oi=function(){function e(t,n){var r=this
g(this,e),b(this,"basePageTreeId",void 0),b(this,"basePageKey",void 0),b(this,"observing",!1),b(this,"appContextMap",new Map),b(this,"rumConfig",void 0),b(this,"trackingCore",void 0),b(this,"onMetricUpdate",(function(e,t,n){var i
r.observing&&(n?r.reportMetric(e.name):r.appContextMap.set(t,{time:t,url:location.href,pageKey:null===(i=r.trackingCore.getCurrentContext())||void 0===i?void 0:i.pageKey}))})),this.trackingCore=t,this.rumConfig=n}return v(e,[{key:"startObserving",value:function(){var e,t,n=this
ti(),this.observing||(this.observing=!0,this.basePageTreeId=this.trackingCore.host.treeID||"_unknown",this.basePageKey=(null===(e=this.trackingCore.getCurrentContext())||void 0===e?void 0:e.pageKey)||"_unknown",$r.forEach((function(e){var t;-2===(null===(t=Qr[e])||void 0===t?void 0:t.value)&&n.reportMetric(e)})),t=this.onMetricUpdate,Zr.add(t))}},{key:"stopObserving",value:function(){var e
this.observing=!1,e=this.onMetricUpdate,Zr.delete(e)}},{key:"reportMetric",value:function(e){var t=Qr[e],n={name:Xr[e]||e}
"CLS"===e?n.doubleValue=t.value:n.longValue=Math.round(t.value)
var r=Qr[e]
if(r){var i=function(e,t,n,r,i){var a={basePageTreeId:e,basePageKey:t,basePageUrl:Yr},o=null
switch(n.name){case"LCP":o=function(e,t){var n
if(0===e.updateHistory.length)return null
var r=e.updateHistory[e.updateHistory.length-1],i=r.data.entries,a=i[i.length-1],o={pageKey:(null===(n=t.get(r.time))||void 0===n?void 0:n.pageKey)||"_unknown",element:sr(a.element),renderTime:Math.round(a.renderTime),loadTime:Math.round(a.loadTime),size:Math.round(a.size)}
return a.url&&(o.url=a.url),o}(n,r)
break
case"FID":o=function(e,t){var n
if(0===e.updateHistory.length)return null
var r=e.updateHistory[e.updateHistory.length-1],i=r.data.entries,a=i[i.length-1]
return{pageKey:(null===(n=t.get(r.time))||void 0===n?void 0:n.pageKey)||"_unknown",processingStart:Math.round(a.processingStart),processingEnd:Math.round(a.processingEnd),target:sr(a.target)}}(n,r)
break
case"CLS":o=function(e,t){if(0===e.updateHistory.length)return null
var n=e.updateHistory.map((function(e){return e.data.entries})).flat()
if(0===n.length)return null
var r=n.reduce((function(e,t){return e&&e.value>t.value?e:t})),i=e.updateHistory.find((function(e){return e.data.entries.includes(r)})),a=null
r&&r.sources&&r.sources.length&&(a=r.sources.reduce((function(e,t){return e.node&&e.previousRect.width*e.previousRect.height>t.previousRect.width*t.previousRect.height?e:t})))
var o,s=t.get(i.time)
return a&&s?{shiftCount:n.length,"largestShift.value":r.value,"largestShift.hadRecentInput":r.hadRecentInput,"largestShift.largestSource.node":sr(null===(o=a)||void 0===o?void 0:o.node),"largestShift.pageKey":s.pageKey||"_unknown","largestShift.url":s.url,"largestShift.startTime":Math.round(r.startTime)}:null}(n,r)}if(o){var s={}
return i(s,a,o),s}return a}(this.basePageTreeId,this.basePageKey,r,this.appContextMap,this.trackingCore.host.api.assign)
n.metadata=function(e){var t={}
return Object.keys(e).forEach((function(n){var r=e[n]
t[n]="string"==typeof r?r:JSON.stringify(r)})),t}(i)}var a={scope:{scopeType:"APPLICATION_INSTANCE",scopeKey:this.basePageTreeId},metrics:[n]}
this.trackingCore.fireEvent({appId:this.rumConfig["app-id"],eventName:"ClientPerfMetricsEvent"},a)}}]),e}(),si=function(){function e(t,n,r){var i,a,o,s,c,d,u,l,p=this
g(this,e),b(this,"core",void 0),b(this,"config",void 0),b(this,"collector",void 0),b(this,"boomerangStart",-1),b(this,"webVitalsObserver",void 0),b(this,"appMemoryObserver",void 0),b(this,"pageMemoryObserver",void 0),b(this,"liveTokens",new Set),b(this,"stateWM",new WeakMap),b(this,"activeToken",void 0),b(this,"isInitial",void 0),b(this,"shouldTrackCustomMeasureEvent",void 0),b(this,"pageLoadId",void 0),b(this,"initialResourcesEvents",[]),b(this,"initialCustomMeasureEvents",[]),b(this,"responseRleCache",void 0),b(this,"beforeHideHandlerBound",this.beforeHideHandler.bind(this)),b(this,"fireApfcEventBound",this.fireApfcEvent.bind(this)),b(this,"isTracerLixEnabled",void 0),b(this,"isPEMTracerLixEnabled",void 0),this.core=r,this.config=function(e,t){for(var n in e)void 0!==t[n]&&(e[n]=t[n])
return e}(r.host.api.assign({},Rn),n)
var f="enabled"===(null===(i=(a=r.host).__getLixTreatment)||void 0===i?void 0:i.call(a,"pemberly.tracking.time-origin-epoch-time")),h="enabled"===(null===(o=(s=r.host).__getLixTreatment)||void 0===o?void 0:o.call(s,"pemberly.tracking.fireApfcEvent"))
this.isTracerLixEnabled="enabled"===(null===(c=(d=r.host).__getLixTreatment)||void 0===c?void 0:c.call(d,"pemberly.tracking.generic-tracers")),this.isPEMTracerLixEnabled="enabled"===(null===(u=(l=r.host).__getLixTreatment)||void 0===u?void 0:u.call(l,"pemberly.tracking.pem-tracers")),this.responseRleCache=new Ar(this.isPEMTracerLixEnabled),this.collector=new gr(r.host.api,new Cr(t,this.config,r.host),this.config,f,(function(e){return p.fireCustomMeasureEvent(e)}),(function(e){return p.fireResourceLoadEvent(e,p.activeToken)}),this.isTracerLixEnabled,this.responseRleCache,this.fireApfcEventBound,h),this.collector.startObserving(),nt.before("internal:hide",this.beforeHideHandlerBound)}return v(e,[{key:"pingCDN",value:function(){}},{key:"recordTreeId",value:function(e,t){e&&this.collector.recordTreeId(e,t)}},{key:"recordRenderStart",value:function(e,t){this.collector.recordRenderStart(e,t||e)}},{key:"recordRenderEnd",value:function(e){var t,n=null!==(t=this.getPageLoadIdFromState())&&void 0!==t?t:this.pageLoadId,r=this.collector.recordRenderEnd(e,this.isTracerLixEnabled,n)
r&&this.isTracerLixEnabled&&this.core.fireEvent({appId:this.config["app-id"],eventName:"ViewLoadEvent"},r)}},{key:"provisionNetworkResponse",value:function(e,t){var n,r,i=this
null===(n=this.responseRleCache)||void 0===n||n.offerResponseContext(e,t)
var a=null===(r=this.responseRleCache)||void 0===r?void 0:r.flushCacheByUrl(e)
null==a||a.forEach((function(e){i.fireResourceLoadEvent(e,i.activeToken)}))}},{key:"start",value:function(e){var t,n
!this.isTracerLixEnabled&&this.activeToken&&this.abort(this.activeToken),this.flushEndedSessions(),this.isInitial=void 0===this.isInitial,this.isInitial||this.collector.reset()
var r,i=Object.create(null),a="enabled"===(null===(t=(n=this.core.host).__getLixTreatment)||void 0===t?void 0:t.call(n,"pemberly.tracking.time-origin-epoch-time"))
return this.activeToken=i,this.liveTokens.add(i),this.isTracerLixEnabled?(this.stateWM.set(i,{isInitial:this.isInitial,startTime:ar(this.core.host.api.performance,a),pageKey:e}),this.firePageLoadStartEvent(i)):this.stateWM.set(i,{isInitial:this.isInitial,startTime:ar(this.core.host.api.performance,a)}),this.config["enable-memory-measurement"]&&(null===(r=this.pageMemoryObserver)||void 0===r||r.stopObserving(),this.pageMemoryObserver=new br("page-memory",this.core,this.config),this.pageMemoryObserver.startObserving(),void 0===this.appMemoryObserver&&(this.appMemoryObserver=new br("application-memory",this.core,this.config),this.appMemoryObserver.startObserving())),i}},{key:"observeWebVitals",value:function(){void 0===this.webVitalsObserver&&(this.webVitalsObserver=new oi(this.core,this.config),this.webVitalsObserver.startObserving())}},{key:"end",value:function(e){var t,n,r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0
if(e&&this.activeToken&&this.activeToken===e){var o=this.stateWM.get(e),s="enabled"===(null===(t=(n=this.core.host).__getLixTreatment)||void 0===t?void 0:t.call(n,"pemberly.tracking.time-origin-epoch-time")),c=ar(this.core.host.api.performance,s)
o.endProps={renderCompleteTime:c,isImpactedByHiddenWindow:i,rumKey:a},this.isTracerLixEnabled&&a&&(o.pageKey=a)
var d=this.activeToken
o.fireRumEventTimeout=setTimeout((function(){if(r.isTracerLixEnabled){r.flushResourceLoadEvents(d)
var e=r.collector.collectPageLoadEndData({isInitial:o.isInitial})
"then"in e?e.then((function(e){r.firePageLoadEndEvent(e,d)})):r.firePageLoadEndEvent(e,d)}var t=r.collector.collect({isInitial:o.isInitial})
"then"in t?t.then((function(e){r.fireRumEvent(e,d)})):r.fireRumEvent(t,d)}),this.config["beacon-timeout"]),this.activeToken=void 0}else Lt("rum-end",Pn)}},{key:"firePageLoadStartEvent",value:function(e){if(e&&this.activeToken&&this.activeToken===e){this.shouldTrackCustomMeasureEvent=!0
var t=this.stateWM.get(e)
this.pageLoadId=lt(),t.pageLoadId=this.pageLoadId
var n=this.collector.collectPageLoadStartData({isInitial:t.isInitial,rumKey:t.pageKey})
n.pageLoadId=t.pageLoadId,this.core.fireEvent({appId:this.config["app-id"],eventName:"PageLoadStartEvent"},n)}else Lt("PageLoadStartEvent",Pn)}},{key:"destroy",value:function(){var e,t,n
nt.offBefore("internal:hide",this.beforeHideHandlerBound),this.activeToken&&this.abort(this.activeToken),this.flushEndedSessions(),this.collector.stopObserving(),null===(e=this.webVitalsObserver)||void 0===e||e.stopObserving(),null===(t=this.appMemoryObserver)||void 0===t||t.stopObserving(),null===(n=this.pageMemoryObserver)||void 0===n||n.stopObserving(),this.responseRleCache=void 0,this.core.destroy()}},{key:"getPageLoadIdFromState",value:function(e){var t,n=null!=e?e:this.activeToken
return n&&(t=this.stateWM.get(n).pageLoadId),t}},{key:"abort",value:function(e){var t
if(!e||this.activeToken!==e)throw new Error("RUM abort: rum token passed is invalid")
if(null!==(t=this.stateWM.get(e))&&void 0!==t&&t.endProps)throw new Error("RUM abort: Can't abort a session that was already ended")
this.activeToken=void 0,this.stateWM.delete(e),this.liveTokens.delete(e)}},{key:"flushEndedSessions",value:function(){var e=this
this.liveTokens.forEach((function(t){var n=e.stateWM.get(t)
if(n.endProps){if(e.isTracerLixEnabled){var r=e.collector.collectPageLoadEndData({isInitial:n.isInitial,immediate:!0})
e.firePageLoadEndEvent(r,t),e.flushResourceLoadEvents(t)}var i=e.collector.collect({isInitial:n.isInitial,immediate:!0})
e.fireRumEvent(i,t)}}))}},{key:"flushResourceLoadEvents",value:function(e){var t,n,r=this,i=null===(t=this.responseRleCache)||void 0===t?void 0:t.flushCache()
null==i||i.map((function(t){r.fireResourceLoadEvent(t,e)})),null===(n=this.responseRleCache)||void 0===n||n.clear()}},{key:"firePageLoadEndEvent",value:function(e,t){if(this.stateWM.get(t)){var n=this.core.host.api.assign,r=this.stateWM.get(t),i=r.startTime,a=r.endProps,o=r.pageLoadId,s=r.pageKey
if(a){var c=a.renderCompleteTime,d=a.isImpactedByHiddenWindow
if(o?e.pageLoadId=o:Lt("PageLoadEndEvent",Nn),e.browserPageLoadEndContext&&(e.browserPageLoadEndContext.isImpactedByHiddenWindow=d),e.navigationTiming){var u,l=null===(u=e.navigationTiming)||void 0===u?void 0:u.navigationStart,p=this.boomerangStart=l||this.boomerangStart,f=l||i,h=c-f
e.navigationTiming.boomerangStart=p,e.navigationTiming.timeDone=h,e.navigationTiming.navigationStart=f,void 0===e.navigationTiming.workerStart&&(e.navigationTiming.workerStart=0)}this.core.fireEvent({appId:this.config["app-id"],eventName:"PageLoadEndEvent"},(function(t){return n({pageKey:s||t.pageKey},e)})),this.shouldTrackCustomMeasureEvent=!1}else this.abort(t)}}},{key:"fireCustomMeasureEvent",value:function(e){var t=this
if(this.isTracerLixEnabled&&this.shouldTrackCustomMeasureEvent){var n,r=null!==(n=this.getPageLoadIdFromState())&&void 0!==n?n:this.pageLoadId
if(!r)return void this.initialCustomMeasureEvents.push(e)
this.initialCustomMeasureEvents.length>0&&(this.initialCustomMeasureEvents.forEach((function(e){e.parentPageLoadId=r,t.core.fireEvent({appId:t.config["app-id"],eventName:"CustomMeasureEvent"},e)})),this.initialCustomMeasureEvents=[]),e.parentPageLoadId=r,this.core.fireEvent({appId:this.config["app-id"],eventName:"CustomMeasureEvent"},e)}}},{key:"fireResourceLoadEvent",value:function(e,t){var n=this
if(this.isTracerLixEnabled){var r,i=null!==(r=this.getPageLoadIdFromState(t))&&void 0!==r?r:this.pageLoadId
if(!i)return void this.initialResourcesEvents.push(e)
this.initialResourcesEvents.length>0&&(this.initialResourcesEvents.forEach((function(e){e.parentPageLoadId=i,n.core.fireEvent({appId:n.config["app-id"],eventName:"ResourceLoadEvent"},e)})),this.initialResourcesEvents=[]),e.parentPageLoadId=i,this.core.fireEvent({appId:this.config["app-id"],eventName:"ResourceLoadEvent"},e)}}},{key:"fireRumEvent",value:function(e,t){if(this.stateWM.get(t)){var n=this.core.host.api.assign,r=this.stateWM.get(t),i=r.startTime,a=r.endProps
if(a){var o=a.renderCompleteTime,s=a.isImpactedByHiddenWindow,c=a.rumKey,d=this.boomerangStart=e.navigationStart||this.boomerangStart,u=e.navigationStart||i,l=o-u,p=this.config["app-version"]
this.core.fireEvent({appId:this.config["app-id"],eventName:"RealUserMonitoringEvent"},(function(t){return n({pageKey:c||t.pageKey,isImpactedByHiddenWindow:s,appVersion:p,timeDone:l,navigationStart:u,boomerangStart:d,renderCompleteTime:o},e)})),r.fireRumEventTimeout&&clearTimeout(r.fireRumEventTimeout),this.liveTokens.delete(t),this.stateWM.delete(t)}else this.abort(t)}}},{key:"beforeHideHandler",value:function(){this.flushEndedSessions()}},{key:"fireApfcEvent",value:function(e,t){var n,r,i=null===(n=document)||void 0===n||null===(r=n.cookie)||void 0===r?void 0:r.split(";"),a={issueTime:0,browserId:""}
try{a=Ft(i)}catch(e){}var o={type:e,bsCookieInfo:a,payload:t}
this.core.fireEvent({appId:this.config["app-id"],eventName:"ApfcEvent"},o)}}]),e}(),ci="undefined"!=typeof window&&"undefined"!=typeof performance,di="undefined"!=typeof location&&-1!==location.search.indexOf("_LI_MEASURE_DEBUG"),ui=function(){function e(t,n){g(this,e),b(this,"trackingCore",void 0),b(this,"endPageInstance",void 0),b(this,"startPageInstance",void 0),b(this,"featureIdentifier",void 0),b(this,"marks",[]),b(this,"spans",[]),b(this,"spanStarts",new Map),b(this,"started",!1),b(this,"ended",!1),b(this,"featureKey",void 0),b(this,"productName",void 0),b(this,"flushOnEnd",void 0),b(this,"basePageTreeId",void 0),b(this,"debounceFlush",void 0),b(this,"disableAutoFlush",void 0),b(this,"isCanceled",!1),b(this,"isClosed",!1),this.trackingCore=t
var r=n.featureKey,i=n.productName,a=n.flushDebounceMilliseconds,o=n.flushOnEnd
this.featureKey=r,this.productName=i,this.flushOnEnd=o
var s=i?"::".concat(i):""
this.featureIdentifier="".concat(r).concat(s)
var c=void 0!==a?a:3e3
c>0&&(this.debounceFlush=function(e,t,n){var r,i,a
void 0===t&&(t=50),void 0===n&&(n={})
var o=null!=(r=n.isImmediate)&&r,s=null!=(i=n.callback)&&i,c=n.maxWait,d=Date.now(),u=[]
function l(){if(void 0!==c){var e=Date.now()-d
if(e+t>=c)return c-e}return t}var p=function(){var t=[].slice.call(arguments),n=this
return new Promise((function(r,i){var c=o&&void 0===a
if(void 0!==a&&clearTimeout(a),a=setTimeout((function(){if(a=void 0,d=Date.now(),!o){var r=e.apply(n,t)
s&&s(r),u.forEach((function(e){return(0,e.resolve)(r)})),u=[]}}),l()),c){var p=e.apply(n,t)
return s&&s(p),r(p)}u.push({resolve:r,reject:i})}))}
return p.cancel=function(e){void 0!==a&&clearTimeout(a),u.forEach((function(t){return(0,t.reject)(e)})),u=[]},p}(this.flush.bind(this),c)),this.disableAutoFlush=c<0}return v(e,[{key:"start",value:function(e){var t
if(ci){if(this.started)throw new Error("Same PerfMeasurement (".concat(this.featureIdentifier,") cannot be started twice"))
this.startPageInstance=e||(null===(t=this.trackingCore.getCurrentContext())||void 0===t?void 0:t.pageInstance),this.spanStart("load"),this.started=!0}}},{key:"end",value:function(e){var t
if(!this.isClosed){if(this.isClosed=!0,this.isCanceled)throw new Error('[rum measurement] cannot end a canceled measurement "'.concat(this.featureIdentifier,'"'))
if(ci){if(this.ended)throw new Error("Same PerfMeasurement (".concat(this.featureIdentifier,") should not be ended twice"))
this.endPageInstance=e||(null===(t=this.trackingCore.getCurrentContext())||void 0===t?void 0:t.pageInstance),this.spanEnd("load"),this.ended=!0,this.flushOnEnd&&this.flush()}}}},{key:"mark",value:function(e){ci&&(this.marks.push({name:e,startTime:or()}),di&&(performance.mark("LI:".concat(this.featureIdentifier,"-mark-").concat(e)),performance.measure("LI:".concat(this.featureIdentifier,"-mark-").concat(e),"LI:".concat(this.featureIdentifier,"-start"),"LI:".concat(this.featureIdentifier,"-mark-").concat(e))),this.handleNewData())}},{key:"spanStart",value:function(e){ci&&(this.spanStarts.set(e,or()),di&&performance.mark("LI:".concat(this.featureIdentifier,"-span-").concat(e,"-start")))}},{key:"spanEnd",value:function(e,t){if(ci&&this.spanStarts.has(e)){var n=this.spanStarts.get(e),r=t||e
this.spans.push({name:r,startTime:n,duration:or()-n}),di&&(performance.mark("LI:".concat(this.featureIdentifier,"-span-").concat(e,"-end")),performance.measure("LI:".concat(this.featureIdentifier,"-span-").concat(t||e),"LI:".concat(this.featureIdentifier,"-span-").concat(e,"-start"),"LI:".concat(this.featureIdentifier,"-span-").concat(e,"-end"))),this.handleNewData()}}},{key:"addSpan",value:function(e){this.spans.push(e),this.handleNewData()}},{key:"setBasePageTreeId",value:function(e){this.basePageTreeId=e}},{key:"getTimestamp",value:function(){return or()}},{key:"flush",value:function(){0===this.marks.length&&0===this.spans.length||(this.fireEvent(),this.marks=[],this.spans=[],this.debounceFlush&&this.debounceFlush.cancel())}},{key:"handleNewData",value:function(){this.debounceFlush?this.debounceFlush().catch((function(e){})):this.disableAutoFlush||this.flush()}},{key:"fireEvent",value:function(){var e=this,t=this.endPageInstance&&{header:{pageInstance:this.endPageInstance}}
this.trackingCore.fireEvent("FeaturePerformanceMeasurementEvent",(function(t){var n=e.startPageInstance||t.pageInstance||Tt("unknown"),r={name:e.featureKey,startTime:-1,duration:-1,startPageInstance:n,marks:e.marks,spans:e.spans}
return e.productName&&(r.productName=e.productName),e.basePageTreeId&&(r.basePageTreeId=e.basePageTreeId),r}),t)}},{key:"cancel",value:function(){this.isCanceled=!0}},{key:"check",value:function(){if(ci){if(this.isCanceled)throw new Error('[rum measurement] "'.concat(this.featureIdentifier,'" has been canceled'))
if(!this.isClosed)throw new Error('[rum measurement] "'.concat(this.featureIdentifier,'" is still open'))}}}]),e}()
!function(e){e[e.BATCH=0]="BATCH",e[e.FLUSH_ALL=1]="FLUSH_ALL"}(ai||(ai={}))},60686:(e,t,n)=>{"use strict"
n.r(t),n.d(t,{INPAGE_URL:()=>i,getShimmedLink:()=>c,initAnchorLinkShim:()=>p,isExternalLink:()=>s,removeAnchorLinkShim:()=>f})
var r=["linkedin.com","linkedin.cn","linkedin-ei.com","linkedin-ei.cn","lynda.com"],i="https://www.linkedin.com/safety/go",a=new RegExp(/^http(s)?:\/\/.*/)
function o(e){return e?(e=(e=(e=(e=(e=e.replace(/(https?:\/\/)?(www.)?/i,"")).includes("/")?e.split("/")[0]:e).includes("@")?e.split("@")[1]:e).includes(":")?e.split(":")[0]:e).split(".")).slice(e.length-2).join("."):(console.warn("Called getDomain with empty url"),e)}function s(e){var t
return!(!function(e){return!(!e||"string"!=typeof e||!e.match(1<arguments.length&&void 0!==arguments[1]?arguments[1]:a))}(e)||(e=o(e))===o(null==(t=window)?void 0:t.location.host)||-1!==r.indexOf(e))}function c(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}
if(s(e)){var n,r=i+"?url=".concat(encodeURIComponent(e))
for(n in t)r+="&"+n+"="+encodeURIComponent(t[n])
return r}return e}function d(e,t){return t instanceof HTMLAnchorElement?t:e instanceof HTMLAnchorElement?e:t===e||null===t?null:t.parentElement instanceof HTMLAnchorElement?t.parentElement:d(e,t.parentElement)}function u(e){return function(t){(t=t.currentTarget instanceof HTMLElement&&t.target instanceof HTMLElement?d(t.currentTarget,t.target):null)&&(t.href=c(t.href,e),t.removeAttribute("rel"))}}function l(e){return function(t){var n=t.currentTarget instanceof HTMLElement&&t.target instanceof HTMLElement?d(t.currentTarget,t.target):null
"Enter"===t.key&&n&&(n.href=c(n.href,e),n.removeAttribute("rel"))}}function p(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}
e instanceof HTMLElement?(e.addEventListener("mousedown",u(t)),e.addEventListener("keydown",l(t))):console.warn("attempting to `initAnchorLinkShim()` on non-`HTMLElement` item ".concat(e))}function f(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}
console.error("removeAnchorLinkShim is deprecated and does nothing. Please remove this call (with element ".concat(e," and params ").concat(JSON.stringify(t)))}},70588:function(e){var t
"undefined"!=typeof self&&self,t=function(){return function(e){var t={}
function n(r){if(t[r])return t[r].exports
var i=t[r]={i:r,l:!1,exports:{}}
return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e}
return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=63)}([function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")()
"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(31)("wks"),i=n(21),a=n(0).Symbol,o="function"==typeof a;(e.exports=function(e){return r[e]||(r[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=r},function(e,t){var n=e.exports={version:"2.6.11"}
"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(4),i=n(44),a=n(29),o=Object.defineProperty
t.f=n(5)?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),i)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!")
return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(9)
e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!")
return e}},function(e,t,n){e.exports=!n(14)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=window||e}).call(t,n(41))},function(e,t,n){var r=n(0),i=n(2),a=n(17),o=n(8),s=n(10),c="prototype",d=function(e,t,n){var u,l,p,f=e&d.F,h=e&d.G,m=e&d.S,g=e&d.P,y=e&d.B,v=e&d.W,b=h?i:i[t]||(i[t]={}),T=b[c],_=h?r:m?r[t]:(r[t]||{})[c]
for(u in h&&(n=t),n)(l=!f&&_&&void 0!==_[u])&&s(b,u)||(p=l?_[u]:n[u],b[u]=h&&"function"!=typeof _[u]?n[u]:y&&l?a(p,r):v&&_[u]==p?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e
case 1:return new e(t)
case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)}
return t[c]=e[c],t}(p):g&&"function"==typeof p?a(Function.call,p):p,g&&((b.virtual||(b.virtual={}))[u]=p,e&d.R&&T&&!T[u]&&o(T,u,p)))}
d.F=1,d.G=2,d.S=4,d.P=8,d.B=16,d.W=32,d.U=64,d.R=128,e.exports=d},function(e,t,n){var r=n(3),i=n(19)
e.exports=n(5)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n={}.hasOwnProperty
e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(69),i=n(27)
e.exports=function(e){return r(i(e))}},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.PROD_REGEX=/^((?!\.(stg|corp)).)*\.linkedin\.(com|cn)$/,t.UDO_KEY="utag_data",t.CDN_HOSTNAME_PROD="platform.linkedin.com",t.CDN_HOSTNAME_EI="platform.linkedin-ei.com",t.CN_CDN_HOSTNAME_PROD="platform.linkedin.cn",t.CN_CDN_HOSTNAME_EI="platform.linkedin-ei.cn",t.COOKIE_CONSENT_CHECK_INTERVAL=2e3,t.ROOT_HOSTNAME_EI="www.linkedin-ei.com",t.ROOT_HOSTNAME_PROD="www.linkedin.com",t.CN_ROOT_HOSTNAME_EI="www.linkedin-ei.cn",t.CN_ROOT_HOSTNAME_PROD="www.linkedin.cn",t.UTAG_GLOBAL_OBJECT_KEY="utag",t.UTAG_CONFIG_OVERRIDE_OBJECT_KEY="utag_cfg_ovrd",t.CUSTOM_EVENTS_TMS_LOAD_EVENT="TagManagementSystemLoadEvent",t.CUSTOM_EVENTS_TAG_FIRE_AUDIT_EVENT="ExternalMarketingTagFireEvent",t.TAG_MANAGEMENT_SYSTEM_USED="tealium",t.USER_METADATA_PATH="/litms/api/metadata/user",t.TRACKING_EVENT_DEBUG_DATA="trackingEventDebugData",t.REFRESH_ON_COOKIE_CONSENT_PROPERTY="entity.refreshOnCookieConsent",t.TRACKING_IDS=["twclid","clickid"],t.L_PAGE_COOKIE_LIFETIME="15780000"},function(e,t){e.exports=!0},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports={}},function(e,t){var n={}.toString
e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(18)
e.exports=function(e,t,n){if(r(e),void 0===t)return e
switch(n){case 1:return function(n){return e.call(t,n)}
case 2:return function(n,r){return e.call(t,n,r)}
case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!")
return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(47),i=n(32)
e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){var n=0,r=Math.random()
e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(3).f,i=n(10),a=n(1)("toStringTag")
e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t,n){e.exports={default:n(86),__esModule:!0}},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.getAPIHostname=t.getCDNHostname=t.isProd=void 0
var r,i=(r=n(6))&&r.__esModule?r:{default:r},a=function(e){if(e&&e.__esModule)return e
var t={}
if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])
return t.default=e,t}(n(12))
function o(){var e=i.default.location?i.default.location.hostname:""
return a.PROD_REGEX.test(e)}function s(){var e=i.default.location?i.default.location.hostname:""
return/\.cn$/.test(e)}t.isProd=o,t.getCDNHostname=function(){return o()?s()?a.CN_CDN_HOSTNAME_PROD:a.CDN_HOSTNAME_PROD:s()?a.CN_CDN_HOSTNAME_EI:a.CDN_HOSTNAME_EI},t.getAPIHostname=function(){return o()?s()?a.CN_ROOT_HOSTNAME_PROD:a.ROOT_HOSTNAME_PROD:s()?a.CN_ROOT_HOSTNAME_EI:a.ROOT_HOSTNAME_EI}},function(e,t,n){"use strict"
t.__esModule=!0
var r=o(n(64)),i=o(n(76)),a="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e}
function o(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===a(r.default)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":a(e)}},function(e,t){var n=Math.ceil,r=Math.floor
e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e)
return e}},function(e,t,n){var r=n(9),i=n(0).document,a=r(i)&&r(i.createElement)
e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var r=n(9)
e.exports=function(e,t){if(!r(e))return e
var n,i
if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i
if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i
if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i
throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(31)("keys"),i=n(21)
e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(2),i=n(0),a="__core-js_shared__",o=i[a]||(i[a]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(13)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(27)
e.exports=function(e){return Object(r(e))}},function(e,t,n){t.f=n(1)},function(e,t,n){var r=n(0),i=n(2),a=n(13),o=n(34),s=n(3).f
e.exports=function(e){var t=i.Symbol||(i.Symbol=a?{}:r.Symbol||{})
"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){e.exports={default:n(89),__esModule:!0}},function(e,t,n){"use strict"
var r=n(18)
function i(e){var t,n
this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor")
t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.shouldRefreshOnCookieConsent=t.isDebugMode=t.generateCacheBuster=t.assign=void 0
var r=o(n(23)),i=n(12),a=o(n(6))
function o(e){return e&&e.__esModule?e:{default:e}}t.assign=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
if(n)for(var i=(0,r.default)(n),a=0;a<i.length;a++){var o=i[a]
e[o]=n[o]}}return e},t.generateCacheBuster=function(e){var t=new a.default.Date
t.setSeconds(0),t.setMilliseconds(0)
var n=Math.floor(t.getMinutes()/e)*e
return t.setMinutes(n),t.getTime()},t.isDebugMode=function(){return/utagdb=[^;]+/.test(a.default.document.cookie)},t.shouldRefreshOnCookieConsent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]
return!!Array.isArray(e)&&e.some((function(e){var t=e.data[i.REFRESH_ON_COOKIE_CONSENT_PROPERTY]
return"boolean"==typeof t?t:"string"==typeof t&&"true"===t.toLowerCase()}))}},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0})
var r="undefined"!=typeof window&&window&&"node"!==window.appEnvironment
t.default=r},function(e,t){var n
n=function(){return this}()
try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict"
var r=n(66)(!0)
n(43)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i
return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){"use strict"
var r=n(13),i=n(7),a=n(45),o=n(8),s=n(15),c=n(67),d=n(22),u=n(72),l=n(1)("iterator"),p=!([].keys&&"next"in[].keys()),f="keys",h="values",m=function(){return this}
e.exports=function(e,t,n,g,y,v,b){c(n,t,g)
var T,_,E,x=function(e){if(!p&&e in k)return k[e]
switch(e){case f:case h:return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",C=y==h,A=!1,k=e.prototype,I=k[l]||k["@@iterator"]||y&&k[y],R=I||x(y),w=y?C?x("entries"):R:void 0,M="Array"==t&&k.entries||I
if(M&&(E=u(M.call(new e)))!==Object.prototype&&E.next&&(d(E,S,!0),r||"function"==typeof E[l]||o(E,l,m)),C&&I&&I.name!==h&&(A=!0,R=function(){return I.call(this)}),r&&!b||!p&&!A&&k[l]||o(k,l,R),s[t]=R,s[S]=m,y)if(T={values:C?R:x(h),keys:v?R:x(f),entries:w},b)for(_ in T)_ in k||a(k,_,T[_])
else i(i.P+i.F*(p||A),t,T)
return T}},function(e,t,n){e.exports=!n(5)&&!n(14)((function(){return 7!=Object.defineProperty(n(28)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){e.exports=n(8)},function(e,t,n){var r=n(4),i=n(68),a=n(32),o=n(30)("IE_PROTO"),s=function(){},c="prototype",d=function(){var e,t=n(28)("iframe"),r=a.length
for(t.style.display="none",n(49).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),d=e.F;r--;)delete d[c][a[r]]
return d()}
e.exports=Object.create||function(e,t){var n
return null!==e?(s[c]=r(e),n=new s,s[c]=null,n[o]=e):n=d(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(10),i=n(11),a=n(70)(!1),o=n(30)("IE_PROTO")
e.exports=function(e,t){var n,s=i(e),c=0,d=[]
for(n in s)n!=o&&r(s,n)&&d.push(n)
for(;t.length>c;)r(s,n=t[c++])&&(~a(d,n)||d.push(n))
return d}},function(e,t,n){var r=n(26),i=Math.min
e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(0).document
e.exports=r&&r.documentElement},function(e,t,n){n(73)
for(var r=n(0),i=n(8),a=n(15),o=n(1)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var d=s[c],u=r[d],l=u&&u.prototype
l&&!l[o]&&i(l,o,d),a[d]=a.Array}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(47),i=n(32).concat("length","prototype")
t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t){},function(e,t,n){var r=n(16),i=n(1)("toStringTag"),a="Arguments"==r(function(){return arguments}())
e.exports=function(e){var t,n,o
return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:a?r(t):"Object"==(o=r(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,n){var r=n(4),i=n(18),a=n(1)("species")
e.exports=function(e,t){var n,o=r(e).constructor
return void 0===o||null==(n=r(o)[a])?t:i(n)}},function(e,t,n){var r,i,a,o=n(17),s=n(96),c=n(49),d=n(28),u=n(0),l=u.process,p=u.setImmediate,f=u.clearImmediate,h=u.MessageChannel,m=u.Dispatch,g=0,y={},v="onreadystatechange",b=function(){var e=+this
if(y.hasOwnProperty(e)){var t=y[e]
delete y[e],t()}},T=function(e){b.call(e.data)}
p&&f||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++])
return y[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},f=function(e){delete y[e]},"process"==n(16)(l)?r=function(e){l.nextTick(o(b,e,1))}:m&&m.now?r=function(e){m.now(o(b,e,1))}:h?(a=(i=new h).port2,i.port1.onmessage=T,r=o(a.postMessage,a,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",T,!1)):r=v in d("script")?function(e){c.appendChild(d("script"))[v]=function(){c.removeChild(this),b.call(e)}}:function(e){setTimeout(o(b,e,1),0)}),e.exports={set:p,clear:f}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(4),i=n(9),a=n(38)
e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t
var n=a.f(e)
return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.UTAG_CACHE_BUSTER_INTERVAL_IN_MINUTES_DEFAULT=t.createLoadRulesCompletedListenerForUTag=t.setGlobalUTagReference=t.cleanUpGlobalUTagReferences=t.getUTagFromGlobalReference=t.getTagsFired=t.processQueuedEvents=t.trackControlInteraction=t.trackPageView=t.loadScript=t.constructContainerTagUrl=void 0
var r=p(n(23)),i=p(n(37)),a=p(n(6)),o=l(n(12)),s=l(n(24)),c=n(60),d=n(39),u=p(n(40))
function l(e){if(e&&e.__esModule)return e
var t={}
if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])
return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}a.default[o.UTAG_CONFIG_OVERRIDE_OBJECT_KEY]=a.default[o.UTAG_CONFIG_OVERRIDE_OBJECT_KEY]||{},a.default[o.TRACKING_EVENT_DEBUG_DATA]=a.default[o.TRACKING_EVENT_DEBUG_DATA]||[],a.default[o.UTAG_CONFIG_OVERRIDE_OBJECT_KEY].noview=!0,a.default[o.UTAG_CONFIG_OVERRIDE_OBJECT_KEY].nocookie=!0
var f=void 0
function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=null
return"string"==typeof e&&(n="https://"+s.getCDNHostname()+"/litms/utag/"+e+"/utag.js?cb="+(0,d.generateCacheBuster)(t)),n}function m(){return function(){if(void 0===f&&u.default){var e=a.default.document.cookie.match(/litms_utag_override=([^;]+)/)
f=e?e[1]:""}return f}().length>0}function g(e,t,n,r){e.onLoadRulesRunOnce(n)
var i=(0,d.assign)({},t,(0,c.getUpdatedSharedEventData)(r))
e.view(i),(0,d.isDebugMode)()&&a.default[o.TRACKING_EVENT_DEBUG_DATA].push({profileName:r,eventType:"PV",trackingData:i})}function y(e,t,n,r){e.onLoadRulesRunOnce(n)
var i=(0,d.assign)({},t,(0,c.getUpdatedSharedEventData)(r))
e.link(i),(0,d.isDebugMode)()&&a.default[o.TRACKING_EVENT_DEBUG_DATA].push({profileName:r,eventType:"CI",trackingData:i})}function v(e){a.default[o.UTAG_GLOBAL_OBJECT_KEY]=e}t.constructContainerTagUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main",t=arguments[1]
return m()?f:h(e,t)},t.loadScript=function(e){return new i.default((function(t){var n=a.default.document.createElement("script")
n.type="text/javascript",n.src=e,n.async=!0,n.onload=t,a.default.document.getElementsByTagName("head")[0].appendChild(n)}))},t.trackPageView=g,t.trackControlInteraction=y,t.processQueuedEvents=function(e,t,n){if(v(e),t instanceof Array&&t.length>0)for(var r=t.length,i=0;i<r;i++){var a=t.shift()
a.isControlInteraction?y(e,a.data,a.callback,n):g(e,a.data,a.callback,n)}},t.getTagsFired=function(e){return(0,r.default)(e.loader.cfg).filter((function(t){return 1===e.loader.cfg[t].send&&0!==e.loader.cfg[t].load}))},t.getUTagFromGlobalReference=function(){return a.default[o.UTAG_GLOBAL_OBJECT_KEY]},t.cleanUpGlobalUTagReferences=function(){void 0!==a.default[o.UTAG_GLOBAL_OBJECT_KEY]&&(a.default[o.UTAG_GLOBAL_OBJECT_KEY]=void 0),void 0!==a.default[o.UDO_KEY]&&(a.default[o.UDO_KEY]=void 0)},t.setGlobalUTagReference=v,t.createLoadRulesCompletedListenerForUTag=function(e){var t=[]
e.onLoadRulesRunOnce=function(e){t.push(e)}
var n=e.loader.initcfg
e.loader.initcfg=function(){if(n.call(this,arguments),t.length>0){var e=t.shift()
e()}}},t.UTAG_CACHE_BUSTER_INTERVAL_IN_MINUTES_DEFAULT=5},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.getEnterpriseContextForProfile=t.getUpdatedSharedEventData=t.addInUpdatedComplianceObjectFromConsentCookie=t.sharedEventData=t.addSharedEventData=t.getAllowlistForProfile=t.getUserSettings=t.UDO=void 0
var r=f(n(23)),i=f(n(25)),a=f(n(37)),o=f(n(6)),s=p(n(12)),c=n(24),d=n(109),u=p(n(61)),l=n(39)
function p(e){if(e&&e.__esModule)return e
var t={}
if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])
return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var h=void 0,m={},g={},y=o.default[s.UDO_KEY]||(o.default[s.UDO_KEY]={})
function v(e,t){var n=t+"."+t
return{enterpriseProfileUrn:e[n+".enterpriseProfile"]||e[t+".enterpriseProfile"],enterpriseAppInstanceId:e[n+".enterpriseAppInstanceId"]||e[t+".enterpriseAppInstanceId"]}}function b(e,t){var n=(0,l.assign)({},e),r={userSettings:n,enterpriseContext:v(e,t)}
return n["compliance.isAdvertisingOptIn"]=!function(e,t){var n=t+"."+t,r=e[n+".isEnterpriseUser"]||e[t+".isEnterpriseUser"],i=e[n+".isBoundUser"]||e[t+".isBoundUser"]
return r&&!i}(e,t)&&u.getUpdatedUserAdvertisingOptIn(r),n["compliance.isAnalyticsAndResearchOptIn"]=u.getUpdatedUserAnalyticsAndResearchOptIn(r),n["compliance.isFunctionalOptIn"]=u.getUpdatedUserFunctionalOptIn(r),n}t.UDO=y,t.getUserSettings=function(){if(!h){var e="https://"+(0,c.getAPIHostname)()+s.USER_METADATA_PATH
h=new a.default((function(t,n){(0,d.get)(e,(function(e){try{t(JSON.parse(e))}catch(e){console.error("Invalid JSON format of userSettings"),n(e)}}),(function(e){n(e)}))}))}return h},t.getAllowlistForProfile=function(e){if(!g[e]){var t=function(e){return"https://"+(0,c.getCDNHostname)()+"/litms/allowlist/"+encodeURIComponent(e)}(e),n=new a.default((function(e,n){(0,d.get)(t,(function(t){e(JSON.parse(t))}),(function(e){n(e)}),!1)}))
g[e]=n}return g[e]},t.addSharedEventData=function(e,t){var n="string"!=typeof t?"":t+"."
"object"===(void 0===e?"undefined":(0,i.default)(e))&&(0,r.default)(e).forEach((function(t){m[n+t]=e[t]}))},t.sharedEventData=m,t.addInUpdatedComplianceObjectFromConsentCookie=b,t.getUpdatedSharedEventData=function(e){return b(m,e)},t.getEnterpriseContextForProfile=v},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.getUpdatedUserFunctionalOptIn=t.getUpdatedUserAnalyticsAndResearchOptIn=t.getUpdatedUserAdvertisingOptIn=t.getAdvertisingOptIn=t.getAnalyticsAndResearchOptIn=t.getFunctionalOptIn=t.getGDPROptIn=void 0
var r=function(e){if(e&&e.__esModule)return e
var t={}
if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])
return t.default=e,t}(n(62))
function i(e){return e["compliance.isGDPROptIn"]}function a(e){var t=r.getCookieConsent(null,void 0,e)
return!t||t.consent.optedInConsentMap.FUNCTIONAL}function o(e){var t=r.getCookieConsent(null,void 0,e)
return!t||t.consent.optedInConsentMap.ANALYTICS_AND_RESEARCH}function s(e){var t=r.getCookieConsent(null,void 0,e)
return!t||t.consent.optedInConsentMap.ADVERTISING}t.getGDPROptIn=i,t.getFunctionalOptIn=a,t.getAnalyticsAndResearchOptIn=o,t.getAdvertisingOptIn=s,t.getUpdatedUserAdvertisingOptIn=function(e){var t=e.userSettings,n=e.enterpriseContext
return s(void 0===n?{}:n)&&i(t)},t.getUpdatedUserAnalyticsAndResearchOptIn=function(e){e.userSettings
var t=e.enterpriseContext
return o(void 0===t?{}:t)},t.getUpdatedUserFunctionalOptIn=function(e){e.userSettings
var t=e.enterpriseContext
return a(void 0===t?{}:t)}},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),function(e){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}n.d(t,"NON_ESSENTIAL_CATEGORIES",(function(){return y})),n.d(t,"USER_MODE",(function(){return v})),n.d(t,"getBannerData",(function(){return N})),n.d(t,"getCookieConsent",(function(){return O})),n.d(t,"parseEncodedConsent",(function(){return M})),n.d(t,"updateCookieConsent",(function(){return P}))
var o=new RegExp("urn:[^:]+:([a-z]\\w*)(?::(.+))?"),s=/^fs_/
function c(e){if("string"!=typeof e)throw new TypeError("URNs must be of type string, but the parameter passed to extractEntityInfoFromUrn was of type "+typeof e+".")
var t,n,r=o.exec(e)
return r&&(t=r[1].replace(s,""),n=r[2]),{id:n,type:t}}var d,u,l,p,f,h,m=/(?![^(]*\)),/,g=function e(t){var n=c(t),r=n.id,i=n.type,a={}
if("("===r.charAt(0)){for(var o,s=r.substring(1,r.length-1).split(m),d=0;o=s[d];++d)0===o.indexOf("urn")&&(s[d]=e(o))
r=s}return a[i]=r,a},y={ADVERTISING:"ADVERTISING",ANALYTICS_AND_RESEARCH:"ANALYTICS_AND_RESEARCH",FUNCTIONAL:"FUNCTIONAL"},v={GUEST:"GUEST",MEMBER:"MEMBER",ENTERPRISE_UNBOUND:"ENTERPRISE_UNBOUND"},b=(i(d={},v.GUEST,"li_gc"),i(d,v.MEMBER,"li_mc"),i(d,v.ENTERPRISE_UNBOUND,"li_ec"),d),T=(i(u={},v.GUEST,"mypreferences/g/guest-cookies"),i(u,v.MEMBER,"settings/member-cookies"),i(u,v.ENTERPRISE_UNBOUND,"settings/cookies"),u),_="liap",E=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null
for(var o in r(this,e),t=t||{},this.consentAvailable=!1,this.issuedAt=n,this.userMode=i,this.optedInConsentMap={},y)t[o]=t[o]||0,0!==t[o]&&(this.consentAvailable=!0),this.optedInConsentMap[o]=1===t[o]||0===t[o]&&1===a},x=(l=[y.ADVERTISING,y.ANALYTICS_AND_RESEARCH,y.FUNCTIONAL],p=[0,1,2,0],f=function(e){for(var t={},n=0;n<l.length;n++)t[l[n]]=p[e>>2*n&3]
return t},h=function(e){var t=0
return e>=0&&e<=3&&(t=p[e]),t},{parseConsentBody:function(e,t){var n=new RegExp(["^(\\d+)","(\\d+)","(\\d+)","((?:.|\\s)+)"].join(";")),r=e.match(n)
if(!r)return{error:"Invalid consent body encoding",consent:new E}
var i=f(parseInt(r[1],10)),a=new Date(1e3*parseInt(r[2],10)),o=h(parseInt(r[3],10))
return{error:null,consent:new E(i,a,t,o)}},parseConsentBodyEnterpriseUnbound:function(e,t,n){var r=function(e){try{var t=g(e)
if(t&&t.enterpriseProfile&&t.enterpriseProfile.length>=2&&t.enterpriseProfile[0].enterpriseAccount)return{enterpriseAccountId:parseInt(t.enterpriseProfile[0].enterpriseAccount,10),enterpriseProfileId:parseInt(t.enterpriseProfile[1],10)}}catch(e){return null}return null}(t)
if(!r)return{error:"Invalid enterprise profile urn provided",consent:new E}
var i=r.enterpriseAccountId,o=r.enterpriseProfileId,s=new RegExp(["^((?:\\d+,\\d+,\\d+,\\d+,\\d+)(?:\\|(?:\\d+,\\d+,\\d+,\\d+,\\d+))*)","(\\d+)","(\\d+)","(?:(?:.|\\s)+)$"].join(";")),c=e.match(s)
if(!c)return{error:"Invalid consent body encoding",consent:new E}
var d=c[1].split("|").map((function(e){return e.split(",").map((function(e){return parseInt(e,10)}))})).filter((function(e){var t,r=(4,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0
try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),4!==n.length);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(t)||function(e,t){if(e){if("string"==typeof e)return a(e,4)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,4):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=r[1],c=r[2],d=r[3]
return s===i&&c===o&&d===n}))[0]
if(!d)return{error:null,consent:new E}
var u=f(d[0]),l=new Date(1e3*parseInt(c[2],10)),p=h(parseInt(c[3],10))
return{error:null,consent:new E(u,l,v.ENTERPRISE_UNBOUND,p)}}}),S=new RegExp(["^(\\d+)","((?:.|\\s)+)"].join(";")),C=function(e,t){var n=t.match(new RegExp("(?:^|; *)".concat(e,"=([^;]*)")))
return n&&n.length>1?n[1]:null},A=function(e,t,n,r){var i=C(b[e],t)
return i?M(i,e,n,r):C(b[v.GUEST],t)||C(b[v.MEMBER],t)||C(b[v.ENTERPRISE_UNBOUND],t)?k(2):k(1)},k=function(e){var t={}
for(var n in y)t[n]=e
return{error:null,consent:new E(t,null,null,e)}},I=function(){var e=document.domain.match(/^(?:|.*\.)([^\.]+\.[^\.]+)$/)
return e?e[1]:"linkedin-ei.com"},R=function(e){var t=T[e]
return"https://www.".concat(I(),"/").concat(t)},w=function(){return"undefined"==typeof document},M=function(t,n,r,i){t&&t.length>1&&'"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.substring(1,t.length-1))
var a,o=null
try{o=(a=t,"undefined"==typeof atob&&void 0!==e?e.from(a,"base64").toString("binary"):atob(a)).match(S)}catch(e){}if(!o)return{error:"Invalid consent encoding",consent:new E}
var s=parseInt(o[1],10),c=o[2]
return 1===s?n===v.ENTERPRISE_UNBOUND?x.parseConsentBodyEnterpriseUnbound(c,r,i):x.parseConsentBody(c,n):{error:"Invalid encoded consent version ".concat(s),consent:new E}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.enterpriseProfileUrn,i=n.enterpriseAppInstanceId
if("string"!=typeof t){if(w())return{error:"cookie string must be provided in SSR mode",consent:new E}
t=document.cookie}if(r&&!i||!r&&i)return{error:"enterpriseProfileUrn and enterpriseAppInstanceId must both be provided if at least one is provided",consent:new E}
if(!(e!==v.ENTERPRISE_UNBOUND||r&&i))return{error:"enterpriseProfileUrn and enterpriseAppInstanceId are required for unbound userMode",consent:new E}
if(!e){var a=C(b[v.ENTERPRISE_UNBOUND],t)
if(a&&r&&i){var o=M(a,v.ENTERPRISE_UNBOUND,r,i),s=o.consent.userMode===v.ENTERPRISE_UNBOUND
if(s||o.error)return o}e=C(_,t)?C(b[v.MEMBER],t)?v.MEMBER:v.GUEST:C(b[v.GUEST],t)?v.GUEST:v.MEMBER}return A(e,t,r,i)},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=O(e,document.cookie,t),r=n.consent,i=e||r.userMode||v.GUEST
return{showBanner:!n.error&&!r.consentAvailable,userMode:i,managePreferenceUrl:R(i)}},P=function(e,t){var n=e.optedInConsentMap,r=e.updateSettings,i=e.userMode,a=e.xLiTrackPayload,o=e.enterpriseContext||{},s=o.enterpriseProfileHash,c=o.enterpriseAppInstanceId
t=t||function(e,t){}
var d=C(b[v.ENTERPRISE_UNBOUND],document.cookie)
n||t("optedInConsentMap is a required option",null)
var u=new XMLHttpRequest,l=new URLSearchParams
d&&c&&l.append("appInstanceId",c)
var p=Array.from(l).length?"?"+l.toString():""
u.open("POST","https://www.".concat(I(),"/cookie-consent/").concat(p)),u.setRequestHeader("Content-Type","application/json"),a&&u.setRequestHeader("X-LI-Track",a),d&&s&&u.setRequestHeader("x-li-identity",s),u.withCredentials=!0,u.onload=function(){200!==u.status?t("Request failed with status ".concat(u.status),null):t(null,u)},u.onerror=function(){t("Request failed with an error",u)}
var f={UPDATE_SETTINGS:r,USER_MODE:i,CATEGORIES:{}}
for(var h in y){var m=void 0
!0===n[h]?m=1:!1===n[h]&&(m=2),f.CATEGORIES[h]=m}u.send(JSON.stringify(f))}}.call(t,n(110).Buffer)},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.teardownInstanceForProfile=t.getInstanceForProfile=t.addSharedEventData=void 0
var r=T(n(25)),i=T(n(23)),a=T(n(37)),o=T(n(104)),s=T(n(105)),c=b(n(59)),d=b(n(114)),u=n(24),l=n(60),p=n(39),f=n(61),h=T(n(115)),m=n(62),g=T(n(40)),y=T(n(6)),v=n(12)
function b(e){if(e&&e.__esModule)return e
var t={}
if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])
return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}var _={},E=void 0,x={},S=void 0,C=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.profileName,r=t.tracking2Instance,i=t.enableAllowlisting,s=void 0!==i&&i,c=t.cacheBusterInterval;(0,o.default)(this,e),this.isInitialized=!1,this.isAllowlistingEnabled=!1,this._allowlistReadyPromise=a.default.resolve({}),this.isContainerTagLoaded=!1,this._queue=[],this.allowlist={pageKey:{},controlUrn:{}},this.tracking2Instance=r,this.profileName=n,this.enableAllowlisting=s,this.cacheBusterInterval=c,this.landingPageUrl}return(0,s.default)(e,[{key:"initialize",value:function(){var e=this
return this._shouldInitialize()?this.isInitialized?(console.warn("Initialize should not be called more that once"),this.initializePromise.then()):(g.default&&(sessionStorage.getItem("utagLandingPage")&&sessionStorage.removeItem("utagLandingPage"),this.landingPageUrl=y.default.location.href),this.isInitialized=!0,this.initializePromise=new a.default((function(t,n){e.enableAllowlisting?(e.isAllowlistingEnabled=!0,e._onInitializeSuccessCallback=t,e._onInitializeFailureCallback=n,e._allowlistReadyPromise=(0,l.getAllowlistForProfile)(e.profileName).then((function(t){return e._processAllowlistResult(t)})).catch((function(t){return console.error("Unable to retrieve allowlists for profile : "+e.profileName,t)}))):e._loadContainerTag(t,n)})),this.profileName&&(_[this.profileName]=this),this.initializePromise):a.default.resolve()}},{key:"_processAllowlistResult",value:function(e){var t=this;(0,i.default)(e).forEach((function(n){return t.addValuesToAllowlist(n,e[n])}))}},{key:"_setLandingPageCookie",value:function(){var e=this,t=(0,l.getUpdatedSharedEventData)(this.profileName),n={userSettings:t,enterpriseContext:(0,l.getEnterpriseContextForProfile)(t,this.profileName)}
if(this.landingPageUrl&&(0,f.getUpdatedUserAdvertisingOptIn)(n)&&v.TRACKING_IDS.find((function(t){return e.landingPageUrl.includes(t)}))){var r=(0,u.isProd)()?".linkedin.com":"linkedin-ei.com"
y.default.document.cookie="l_page="+this.landingPageUrl+";domain="+r+";path=/;max-age="+v.L_PAGE_COOKIE_LIFETIME}}},{key:"_loadContainerTag",value:function(e,t){var n=this
c.cleanUpGlobalUTagReferences()
var o=(0,l.getUserSettings)().then((function(e){(0,i.default)(e).forEach((function(t){(0,l.addSharedEventData)(e[t],t)})),g.default&&n._setLandingPageCookie()})).catch((function(e){console.error("Unable to get user settings while calling loading container tag",e)})),s=c.loadScript(c.constructContainerTagUrl(this.profileName,this.cacheBusterInterval))
a.default.all([o,s]).then((function(){n.isContainerTagLoaded=!0,n._uTag=c.getUTagFromGlobalReference(),c.createLoadRulesCompletedListenerForUTag(n._uTag),n._processQueuedEvents()
var t=d.buildTmsLoadEvent()
"object"===(0,r.default)(n.tracking2Instance)&&d.fireTrackingEvent(n.tracking2Instance,t),e(t)})).catch((function(e){console.error("Unable to complete loading container tag",e),t()}))}},{key:"_shouldInitialize",value:function(){return!h.default}},{key:"_shouldProcessEvent",value:function(e){var t=this
return h.default?a.default.resolve(!1):this.isAllowlistingEnabled?new a.default((function(n){t._allowlistReadyPromise.then((function(){n(t._isEventAllowlisted(e))}))})):a.default.resolve(!0)}},{key:"_isEventAllowlisted",value:function(e){return void 0!==e.controlUrn?this._isEventAllowlistedByControlUrn(e):this._isEventAllowlistedByPageKey(e)}},{key:"_isEventAllowlistedByPageKey",value:function(e){return void 0!==this.allowlist.pageKey[e.pageKey]}},{key:"_isEventAllowlistedByControlUrn",value:function(e){return void 0!==this.allowlist.controlUrn[e.controlUrn]}},{key:"addValuesToAllowlist",value:function(e,t){var n=this
"string"==typeof e&&Array.isArray(t)&&void 0!==this.allowlist[e]&&t.forEach((function(t){n.allowlist[e][t]=!0}))}},{key:"_processQueuedEvents",value:function(){this.isContainerTagLoaded?c.processQueuedEvents(this._uTag,this._queue,this.profileName):this.isInitialized&&this.isAllowlistingEnabled&&this._loadContainerTag(this._onInitializeSuccessCallback,this._onInitializeFailureCallback)}},{key:"_fireAuditEvent",value:function(){var e=d.buildTagFireAuditEvent(this._uTag)
return void 0!==this.tracking2Instance&&void 0!==e&&d.fireTrackingEvent(this.tracking2Instance,e),e}},{key:"_createCallbackForAuditEvent",value:function(e){var t=this
return function(){var n=t._fireAuditEvent()
"function"==typeof e&&e(n)}}},{key:"_checkForCookieConsent",value:function(){var e=this,t=(0,l.getEnterpriseContextForProfile)(l.sharedEventData,this.profileName);(0,m.getCookieConsent)(null,void 0,t).consent.consentAvailable&&!S?(0,p.shouldRefreshOnCookieConsent)(x.payloads)?location.reload():this._refireTracking():E=setTimeout((function(){e._checkForCookieConsent()}),v.COOKIE_CONSENT_CHECK_INTERVAL)}},{key:"_refireTracking",value:function(){var e=this
x.payloads&&x.payloads.forEach((function(t){var n=t.data,r=t.callback
n.cookieConsentGiven=!0,e.trackPageView(n,r)}))}},{key:"_savePayloadForRefire",value:function(e,t){var n=this
if(g.default){S=!1
var r=x,i=r.payloads,a=void 0===i?[]:i,o=r.url,s=location.href,c={data:e,callback:t},d=s!==o?[]:a
d.push(c),x={url:s,payloads:d},E||(E=setTimeout((function(){n._checkForCookieConsent()}),v.COOKIE_CONSENT_CHECK_INTERVAL))}}},{key:"trackPageView",value:function(e,t){var n=this,r=(0,l.getEnterpriseContextForProfile)(l.sharedEventData,this.profileName)
return(0,m.getCookieConsent)(null,void 0,r).consent.consentAvailable||this._savePayloadForRefire(e,t),this._shouldProcessEvent(e).then((function(r){r&&(n._queue.push({isControlInteraction:!1,data:e,callback:n._createCallbackForAuditEvent(t)}),n._processQueuedEvents())}))}},{key:"trackControlInteraction",value:function(e,t){var n=this
return this._shouldProcessEvent(e).then((function(r){r&&(n._queue.push({isControlInteraction:!0,data:e,callback:n._createCallbackForAuditEvent(t)}),n._processQueuedEvents())}))}}]),e}()
t.addSharedEventData=l.addSharedEventData,t.getInstanceForProfile=function(e){var t=_[e]
return t&&c.setGlobalUTagReference(t._uTag),t},t.teardownInstanceForProfile=function(e){delete _[e]},t.default=C},function(e,t,n){e.exports={default:n(65),__esModule:!0}},function(e,t,n){n(42),n(50),e.exports=n(34).f("iterator")},function(e,t,n){var r=n(26),i=n(27)
e.exports=function(e){return function(t,n){var a,o,s=String(i(t)),c=r(n),d=s.length
return c<0||c>=d?e?"":void 0:(a=s.charCodeAt(c))<55296||a>56319||c+1===d||(o=s.charCodeAt(c+1))<56320||o>57343?e?s.charAt(c):a:e?s.slice(c,c+2):o-56320+(a-55296<<10)+65536}}},function(e,t,n){"use strict"
var r=n(46),i=n(19),a=n(22),o={}
n(8)(o,n(1)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(o,{next:i(1,n)}),a(e,t+" Iterator")}},function(e,t,n){var r=n(3),i=n(4),a=n(20)
e.exports=n(5)?Object.defineProperties:function(e,t){i(e)
for(var n,o=a(t),s=o.length,c=0;s>c;)r.f(e,n=o[c++],t[n])
return e}},function(e,t,n){var r=n(16)
e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(11),i=n(48),a=n(71)
e.exports=function(e){return function(t,n,o){var s,c=r(t),d=i(c.length),u=a(o,d)
if(e&&n!=n){for(;d>u;)if((s=c[u++])!=s)return!0}else for(;d>u;u++)if((e||u in c)&&c[u]===n)return e||u||0
return!e&&-1}}},function(e,t,n){var r=n(26),i=Math.max,a=Math.min
e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):a(e,t)}},function(e,t,n){var r=n(10),i=n(33),a=n(30)("IE_PROTO"),o=Object.prototype
e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,n){"use strict"
var r=n(74),i=n(75),a=n(15),o=n(11)
e.exports=n(43)(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++
return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(77),__esModule:!0}},function(e,t,n){n(78),n(53),n(84),n(85),e.exports=n(2).Symbol},function(e,t,n){"use strict"
var r=n(0),i=n(10),a=n(5),o=n(7),s=n(45),c=n(79).KEY,d=n(14),u=n(31),l=n(22),p=n(21),f=n(1),h=n(34),m=n(35),g=n(80),y=n(81),v=n(4),b=n(9),T=n(33),_=n(11),E=n(29),x=n(19),S=n(46),C=n(82),A=n(83),k=n(51),I=n(3),R=n(20),w=A.f,M=I.f,O=C.f,N=r.Symbol,P=r.JSON,U=P&&P.stringify,D="prototype",L=f("_hidden"),F=f("toPrimitive"),B={}.propertyIsEnumerable,j=u("symbol-registry"),q=u("symbols"),V=u("op-symbols"),H=Object[D],G="function"==typeof N&&!!k.f,K=r.QObject,W=!K||!K[D]||!K[D].findChild,z=a&&d((function(){return 7!=S(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=w(H,t)
r&&delete H[t],M(e,t,n),r&&e!==H&&M(H,t,r)}:M,$=function(e){var t=q[e]=S(N[D])
return t._k=e,t},X=G&&"symbol"==typeof N.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof N},Q=function(e,t,n){return e===H&&Q(V,t,n),v(e),t=E(t,!0),v(n),i(q,t)?(n.enumerable?(i(e,L)&&e[L][t]&&(e[L][t]=!1),n=S(n,{enumerable:x(0,!1)})):(i(e,L)||M(e,L,x(1,{})),e[L][t]=!0),z(e,t,n)):M(e,t,n)},Y=function(e,t){v(e)
for(var n,r=g(t=_(t)),i=0,a=r.length;a>i;)Q(e,n=r[i++],t[n])
return e},J=function(e){var t=B.call(this,e=E(e,!0))
return!(this===H&&i(q,e)&&!i(V,e))&&(!(t||!i(this,e)||!i(q,e)||i(this,L)&&this[L][e])||t)},Z=function(e,t){if(e=_(e),t=E(t,!0),e!==H||!i(q,t)||i(V,t)){var n=w(e,t)
return!n||!i(q,t)||i(e,L)&&e[L][t]||(n.enumerable=!0),n}},ee=function(e){for(var t,n=O(_(e)),r=[],a=0;n.length>a;)i(q,t=n[a++])||t==L||t==c||r.push(t)
return r},te=function(e){for(var t,n=e===H,r=O(n?V:_(e)),a=[],o=0;r.length>o;)!i(q,t=r[o++])||n&&!i(H,t)||a.push(q[t])
return a}
G||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!")
var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===H&&t.call(V,n),i(this,L)&&i(this[L],e)&&(this[L][e]=!1),z(this,e,x(1,n))}
return a&&W&&z(H,e,{configurable:!0,set:t}),$(e)},s(N[D],"toString",(function(){return this._k})),A.f=Z,I.f=Q,n(52).f=C.f=ee,n(36).f=J,k.f=te,a&&!n(13)&&s(H,"propertyIsEnumerable",J,!0),h.f=function(e){return $(f(e))}),o(o.G+o.W+o.F*!G,{Symbol:N})
for(var ne="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;ne.length>re;)f(ne[re++])
for(var ie=R(f.store),ae=0;ie.length>ae;)m(ie[ae++])
o(o.S+o.F*!G,"Symbol",{for:function(e){return i(j,e+="")?j[e]:j[e]=N(e)},keyFor:function(e){if(!X(e))throw TypeError(e+" is not a symbol!")
for(var t in j)if(j[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),o(o.S+o.F*!G,"Object",{create:function(e,t){return void 0===t?S(e):Y(S(e),t)},defineProperty:Q,defineProperties:Y,getOwnPropertyDescriptor:Z,getOwnPropertyNames:ee,getOwnPropertySymbols:te})
var oe=d((function(){k.f(1)}))
o(o.S+o.F*oe,"Object",{getOwnPropertySymbols:function(e){return k.f(T(e))}}),P&&o(o.S+o.F*(!G||d((function(){var e=N()
return"[null]"!=U([e])||"{}"!=U({a:e})||"{}"!=U(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++])
if(n=t=r[1],(b(t)||void 0!==e)&&!X(e))return y(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!X(t))return t}),r[1]=t,U.apply(P,r)}}),N[D][F]||n(8)(N[D],F,N[D].valueOf),l(N,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(e,t,n){var r=n(21)("meta"),i=n(9),a=n(10),o=n(3).f,s=0,c=Object.isExtensible||function(){return!0},d=!n(14)((function(){return c(Object.preventExtensions({}))})),u=function(e){o(e,r,{value:{i:"O"+ ++s,w:{}}})},l=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e
if(!a(e,r)){if(!c(e))return"F"
if(!t)return"E"
u(e)}return e[r].i},getWeak:function(e,t){if(!a(e,r)){if(!c(e))return!0
if(!t)return!1
u(e)}return e[r].w},onFreeze:function(e){return d&&l.NEED&&c(e)&&!a(e,r)&&u(e),e}}},function(e,t,n){var r=n(20),i=n(51),a=n(36)
e.exports=function(e){var t=r(e),n=i.f
if(n)for(var o,s=n(e),c=a.f,d=0;s.length>d;)c.call(e,o=s[d++])&&t.push(o)
return t}},function(e,t,n){var r=n(16)
e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(11),i=n(52).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[]
e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(36),i=n(19),a=n(11),o=n(29),s=n(10),c=n(44),d=Object.getOwnPropertyDescriptor
t.f=n(5)?d:function(e,t){if(e=a(e),t=o(t,!0),c)try{return d(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){n(35)("asyncIterator")},function(e,t,n){n(35)("observable")},function(e,t,n){n(87),e.exports=n(2).Object.keys},function(e,t,n){var r=n(33),i=n(20)
n(88)("keys",(function(){return function(e){return i(r(e))}}))},function(e,t,n){var r=n(7),i=n(2),a=n(14)
e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],o={}
o[e]=t(n),r(r.S+r.F*a((function(){n(1)})),"Object",o)}},function(e,t,n){n(53),n(42),n(50),n(90),n(102),n(103),e.exports=n(2).Promise},function(e,t,n){"use strict"
var r,i,a,o,s=n(13),c=n(0),d=n(17),u=n(54),l=n(7),p=n(9),f=n(18),h=n(91),m=n(92),g=n(55),y=n(56).set,v=n(97)(),b=n(38),T=n(57),_=n(98),E=n(58),x="Promise",S=c.TypeError,C=c.process,A=C&&C.versions,k=A&&A.v8||"",I=c[x],R="process"==u(C),w=function(){},M=i=b.f,O=!!function(){try{var e=I.resolve(1),t=(e.constructor={})[n(1)("species")]=function(e){e(w,w)}
return(R||"function"==typeof PromiseRejectionEvent)&&e.then(w)instanceof t&&0!==k.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(e){}}(),N=function(e){var t
return!(!p(e)||"function"!=typeof(t=e.then))&&t},P=function(e,t){if(!e._n){e._n=!0
var n=e._c
v((function(){for(var r=e._v,i=1==e._s,a=0,o=function(t){var n,a,o,s=i?t.ok:t.fail,c=t.resolve,d=t.reject,u=t.domain
try{s?(i||(2==e._h&&L(e),e._h=1),!0===s?n=r:(u&&u.enter(),n=s(r),u&&(u.exit(),o=!0)),n===t.promise?d(S("Promise-chain cycle")):(a=N(n))?a.call(n,c,d):c(n)):d(r)}catch(e){u&&!o&&u.exit(),d(e)}};n.length>a;)o(n[a++])
e._c=[],e._n=!1,t&&!e._h&&U(e)}))}},U=function(e){y.call(c,(function(){var t,n,r,i=e._v,a=D(e)
if(a&&(t=T((function(){R?C.emit("unhandledRejection",i,e):(n=c.onunhandledrejection)?n({promise:e,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=R||D(e)?2:1),e._a=void 0,a&&t.e)throw t.v}))},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},L=function(e){y.call(c,(function(){var t
R?C.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})}))},F=function(e){var t=this
t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),P(t,!0))},B=function(e){var t,n=this
if(!n._d){n._d=!0,n=n._w||n
try{if(n===e)throw S("Promise can't be resolved itself");(t=N(e))?v((function(){var r={_w:n,_d:!1}
try{t.call(e,d(B,r,1),d(F,r,1))}catch(e){F.call(r,e)}})):(n._v=e,n._s=1,P(n,!1))}catch(e){F.call({_w:n,_d:!1},e)}}}
O||(I=function(e){h(this,I,x,"_h"),f(e),r.call(this)
try{e(d(B,this,1),d(F,this,1))}catch(e){F.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(99)(I.prototype,{then:function(e,t){var n=M(g(this,I))
return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=R?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new r
this.promise=e,this.resolve=d(B,e,1),this.reject=d(F,e,1)},b.f=M=function(e){return e===I||e===o?new a(e):i(e)}),l(l.G+l.W+l.F*!O,{Promise:I}),n(22)(I,x),n(100)(x),o=n(2)[x],l(l.S+l.F*!O,x,{reject:function(e){var t=M(this)
return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(s||!O),x,{resolve:function(e){return E(s&&this===o?I:this,e)}}),l(l.S+l.F*!(O&&n(101)((function(e){I.all(e).catch(w)}))),x,{all:function(e){var t=this,n=M(t),r=n.resolve,i=n.reject,a=T((function(){var n=[],a=0,o=1
m(e,!1,(function(e){var s=a++,c=!1
n.push(void 0),o++,t.resolve(e).then((function(e){c||(c=!0,n[s]=e,--o||r(n))}),i)})),--o||r(n)}))
return a.e&&i(a.v),n.promise},race:function(e){var t=this,n=M(t),r=n.reject,i=T((function(){m(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}))
return i.e&&r(i.v),n.promise}})},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!")
return e}},function(e,t,n){var r=n(17),i=n(93),a=n(94),o=n(4),s=n(48),c=n(95),d={},u={};(t=e.exports=function(e,t,n,l,p){var f,h,m,g,y=p?function(){return e}:c(e),v=r(n,l,t?2:1),b=0
if("function"!=typeof y)throw TypeError(e+" is not iterable!")
if(a(y)){for(f=s(e.length);f>b;b++)if((g=t?v(o(h=e[b])[0],h[1]):v(e[b]))===d||g===u)return g}else for(m=y.call(e);!(h=m.next()).done;)if((g=i(m,v,h.value,t))===d||g===u)return g}).BREAK=d,t.RETURN=u},function(e,t,n){var r=n(4)
e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return
throw void 0!==a&&r(a.call(e)),t}}},function(e,t,n){var r=n(15),i=n(1)("iterator"),a=Array.prototype
e.exports=function(e){return void 0!==e&&(r.Array===e||a[i]===e)}},function(e,t,n){var r=n(54),i=n(1)("iterator"),a=n(15)
e.exports=n(2).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||a[r(e)]}},function(e,t){e.exports=function(e,t,n){var r=void 0===n
switch(t.length){case 0:return r?e():e.call(n)
case 1:return r?e(t[0]):e.call(n,t[0])
case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1])
case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2])
case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(0),i=n(56).set,a=r.MutationObserver||r.WebKitMutationObserver,o=r.process,s=r.Promise,c="process"==n(16)(o)
e.exports=function(){var e,t,n,d=function(){var r,i
for(c&&(r=o.domain)&&r.exit();e;){i=e.fn,e=e.next
try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()}
if(c)n=function(){o.nextTick(d)}
else if(!a||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0)
n=function(){u.then(d)}}else n=function(){i.call(r,d)}
else{var l=!0,p=document.createTextNode("")
new a(d).observe(p,{characterData:!0}),n=function(){p.data=l=!l}}return function(r){var i={fn:r,next:void 0}
t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var r=n(0).navigator
e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(8)
e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i])
return e}},function(e,t,n){"use strict"
var r=n(0),i=n(2),a=n(3),o=n(5),s=n(1)("species")
e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e]
o&&t&&!t[s]&&a.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(1)("iterator"),i=!1
try{var a=[7][r]()
a.return=function(){i=!0},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1
var n=!1
try{var a=[7],o=a[r]()
o.next=function(){return{done:n=!0}},a[r]=function(){return o},e(a)}catch(e){}return n}},function(e,t,n){"use strict"
var r=n(7),i=n(2),a=n(0),o=n(55),s=n(58)
r(r.P+r.R,"Promise",{finally:function(e){var t=o(this,i.Promise||a.Promise),n="function"==typeof e
return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},function(e,t,n){"use strict"
var r=n(7),i=n(38),a=n(57)
r(r.S,"Promise",{try:function(e){var t=i.f(this),n=a(e)
return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){"use strict"
t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict"
t.__esModule=!0
var r,i=(r=n(106))&&r.__esModule?r:{default:r}
t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){e.exports={default:n(107),__esModule:!0}},function(e,t,n){n(108)
var r=n(2).Object
e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(7)
r(r.S+r.F*!n(5),"Object",{defineProperty:n(3).f})},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.get=void 0
var r,i=(r=n(6))&&r.__esModule?r:{default:r}
t.get=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3]
if("function"!=typeof t||"function"!=typeof n)throw new TypeError("One of the specified callbacks is not a function.")
var a=new i.default.XMLHttpRequest
a.withCredentials=r,a.open("GET",e,!0),a.onreadystatechange=function(){this.readyState===this.DONE&&(200===this.status&&"function"==typeof t?t(this.responseText):n(this))},a.send()}},function(e,t,n){"use strict";(function(e){var r=n(111),i=n(112),a=n(113)
function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length")
return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n)
if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string")
return l(this,e)}return d(this,e,t,n)}function d(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number')
return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds")
if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds")
return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=p(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding')
var r=0|h(t,n),i=(e=s(e,r)).write(t,n)
return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|f(t.length)
return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):p(e,t)
if("Buffer"===t.type&&a(t.data))return p(e,t.data)}var r
throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number')
if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(u(t),e=s(e,t<0?0:0|f(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0
return e}function p(e,t){var n=t.length<0?0:0|f(t.length)
e=s(e,n)
for(var r=0;r<n;r+=1)e[r]=255&t[r]
return e}function f(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes")
return 0|e}function h(e,t){if(c.isBuffer(e))return e.length
if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength
"string"!=typeof e&&(e=""+e)
var n=e.length
if(0===n)return 0
for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n
case"utf8":case"utf-8":case void 0:return j(e).length
case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n
case"hex":return n>>>1
case"base64":return q(e).length
default:if(r)return j(e).length
t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1
if((void 0===t||t<0)&&(t=0),t>this.length)return""
if((void 0===n||n>this.length)&&(n=this.length),n<=0)return""
if((n>>>=0)<=(t>>>=0))return""
for(e||(e="utf8");;)switch(e){case"hex":return w(this,t,n)
case"utf8":case"utf-8":return A(this,t,n)
case"ascii":return I(this,t,n)
case"latin1":case"binary":return R(this,t,n)
case"base64":return C(this,t,n)
case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n)
default:if(r)throw new TypeError("Unknown encoding: "+e)
e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t]
e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1
if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1
n=e.length-1}else if(n<0){if(!i)return-1
n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i)
if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i)
throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var a,o=1,s=e.length,c=t.length
if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1
o=2,s/=2,c/=2,n/=2}function d(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1
for(a=n;a<s;a++)if(d(e,a)===d(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===c)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(n+c>s&&(n=s-c),a=n;a>=0;a--){for(var l=!0,p=0;p<c;p++)if(d(e,a+p)!==d(t,p)){l=!1
break}if(l)return a}return-1}function b(e,t,n,r){n=Number(n)||0
var i=e.length-n
r?(r=Number(r))>i&&(r=i):r=i
var a=t.length
if(a%2!=0)throw new TypeError("Invalid hex string")
r>a/2&&(r=a/2)
for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16)
if(isNaN(s))return o
e[n+o]=s}return o}function T(e,t,n,r){return V(j(t,e.length-n),e,n,r)}function _(e,t,n,r){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n))
return t}(t),e,n,r)}function E(e,t,n,r){return _(e,t,n,r)}function x(e,t,n,r){return V(q(t),e,n,r)}function S(e,t,n,r){return V(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i=n%256,a.push(i),a.push(r)
return a}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n)
for(var r=[],i=t;i<n;){var a,o,s,c,d=e[i],u=null,l=d>239?4:d>223?3:d>191?2:1
if(i+l<=n)switch(l){case 1:d<128&&(u=d)
break
case 2:128==(192&(a=e[i+1]))&&(c=(31&d)<<6|63&a)>127&&(u=c)
break
case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(c=(15&d)<<12|(63&a)<<6|63&o)>2047&&(c<55296||c>57343)&&(u=c)
break
case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(c=(15&d)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,l=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=l}return function(e){var t=e.length
if(t<=k)return String.fromCharCode.apply(String,e)
for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=k))
return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1)
return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return d(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return l(null,e)},c.allocUnsafeSlow=function(e){return l(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers")
if(e===t)return 0
for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i]
break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0
default:return!1}},c.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers')
if(0===e.length)return c.alloc(0)
var n
if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length
var r=c.allocUnsafe(t),i=0
for(n=0;n<e.length;++n){var o=e[n]
if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers')
o.copy(r,i),i+=o.length}return r},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length
if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits")
for(var t=0;t<e;t+=2)g(this,t,t+1)
return this},c.prototype.swap32=function(){var e=this.length
if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits")
for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2)
return this},c.prototype.swap64=function(){var e=this.length
if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits")
for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4)
return this},c.prototype.toString=function(){var e=0|this.length
return 0===e?"":0===arguments.length?A(this,0,e):m.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer")
return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES
return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer")
if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index")
if(r>=i&&t>=n)return 0
if(r>=i)return-1
if(t>=n)return 1
if(this===e)return 0
for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),d=this.slice(r,i),u=e.slice(t,n),l=0;l<s;++l)if(d[l]!==u[l]){a=d[l],o=u[l]
break}return a<o?-1:o<a?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0
else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0
else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")
t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t
if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds")
r||(r="utf8")
for(var a=!1;;)switch(r){case"hex":return b(this,e,t,n)
case"utf8":case"utf-8":return T(this,e,t,n)
case"ascii":return _(this,e,t,n)
case"latin1":case"binary":return E(this,e,t,n)
case"base64":return x(this,e,t,n)
case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n)
default:if(a)throw new TypeError("Unknown encoding: "+r)
r=(""+r).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}}
var k=4096
function I(e,t,n){var r=""
n=Math.min(e.length,n)
for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i])
return r}function R(e,t,n){var r=""
n=Math.min(e.length,n)
for(var i=t;i<n;++i)r+=String.fromCharCode(e[i])
return r}function w(e,t,n){var r,i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i)
for(var a="",o=t;o<n;++o)a+=(r=e[o])<16?"0"+r.toString(16):r.toString(16)
return a}function M(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1])
return i}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint")
if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,i,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance')
if(t>i||t<a)throw new RangeError('"value" argument is out of bounds')
if(n+r>e.length)throw new RangeError("Index out of range")}function P(e,t,n,r){t<0&&(t=65535+t+1)
for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function U(e,t,n,r){t<0&&(t=4294967295+t+1)
for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function D(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range")
if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,a){return a||D(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,a){return a||D(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length
if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype
else{var i=t-e
n=new c(i,void 0)
for(var a=0;a<i;++a)n[a]=this[a+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length)
for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i
return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length)
for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i
return r},c.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length)
for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i
return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length)
for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i
return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},c.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||O(e,2,this.length)
var n=this[e]|this[e+1]<<8
return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||O(e,2,this.length)
var n=this[e+1]|this[e]<<8
return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||N(this,e,t,n,Math.pow(2,8*n)-1,0)
var i=1,a=0
for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255
return t+n},c.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||N(this,e,t,n,Math.pow(2,8*n)-1,0)
var i=n-1,a=1
for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255
return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):U(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):U(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1)
N(this,e,t,n,i-1,-i)}var a=0,o=1,s=0
for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255
return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1)
N(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0
for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255
return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):U(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):U(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0
if(0===e.length||0===this.length)return 0
if(t<0)throw new RangeError("targetStart out of bounds")
if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds")
if(r<0)throw new RangeError("sourceEnd out of bounds")
r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n)
var i,a=r-n
if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n]
else if(a<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n]
else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t)
return a},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0)
i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string")
if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255)
if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index")
if(n<=t)return this
var a
if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e
else{var o=c.isBuffer(e)?e:j(new c(e,r).toString()),s=o.length
for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this}
var B=/[^+\/0-9A-Za-z-_]/g
function j(e,t){var n
t=t||1/0
for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189)
continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189)
continue}i=n
continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n
continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189)
if(i=null,n<128){if((t-=1)<0)break
a.push(n)}else if(n<2048){if((t-=2)<0)break
a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break
a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point")
if((t-=4)<0)break
a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function q(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return""
for(;e.length%4!=0;)e+="="
return e}(e))}function V(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i]
return i}}).call(t,n(41))},function(e,t,n){"use strict"
t.byteLength=function(e){var t=d(e),n=t[0],r=t[1]
return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=d(e),o=r[0],s=r[1],c=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),u=0,l=s>0?o-4:o
for(n=0;n<l;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t
return 2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[u++]=255&t),1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=16383,s=0,c=n-i;s<c;s+=o)a.push(u(e,s,s+o>c?c:s+o))
return 1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),a.join("")}
for(var r=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=o.length;s<c;++s)r[s]=o[s],i[o.charCodeAt(s)]=s
function d(e){var t=e.length
if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4")
var n=e.indexOf("=")
return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var i,a,o=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a])
return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,c=(1<<s)-1,d=c>>1,u=-7,l=n?i-1:0,p=n?-1:1,f=e[t+l]
for(l+=p,a=f&(1<<-u)-1,f>>=-u,u+=s;u>0;a=256*a+e[t+l],l+=p,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=256*o+e[t+l],l+=p,u-=8);if(0===a)a=1-d
else{if(a===c)return o?NaN:1/0*(f?-1:1)
o+=Math.pow(2,r),a-=d}return(f?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,c,d=8*a-i-1,u=(1<<d)-1,l=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:a-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0
for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+l>=1?p/c:p*Math.pow(2,1-l))*c>=2&&(o++,c/=2),o+l>=u?(s=0,o=u):o+l>=1?(s=(t*c-1)*Math.pow(2,i),o+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,i),o=0));i>=8;e[n+f]=255&s,f+=h,s/=256,i-=8);for(o=o<<i|s,d+=i;d>0;e[n+f]=255&o,f+=h,o/=256,d-=8);e[n+f-h]|=128*m}},function(e,t){var n={}.toString
e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.buildTagFireAuditEvent=t.buildTmsLoadEvent=t.fireTrackingEvent=void 0
var r,i=(r=n(25))&&r.__esModule?r:{default:r},a=s(n(12)),o=s(n(59))
function s(e){if(e&&e.__esModule)return e
var t={}
if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])
return t.default=e,t}function c(e,t){return"urn:li:externalMarketingTag:("+function(e){var t=e.data["ut.profile"],n=e.cfg.v
return"urn:li:tagManagementSystemProfile:("+a.TAG_MANAGEMENT_SYSTEM_USED+","+t+","+n+")"}(e)+","+parseInt(t)+")"}t.fireTrackingEvent=function(e,t){!function(e){return"object"===(void 0===e?"undefined":(0,i.default)(e))&&"function"==typeof e.fireTrackingEvent}(e)?console.error("Unable to fire tracking event"):e.fireTrackingEvent(t.info.name,t.body)},t.buildTmsLoadEvent=function(){return{info:{name:a.CUSTOM_EVENTS_TMS_LOAD_EVENT},body:{header:{},requestHeader:{}}}},t.buildTagFireAuditEvent=function(e){var t=o.getTagsFired(e).map((function(t){return function(e,t){return{tagUrn:c(e,t)}}(e,t)}))
if(0!==t.length)return{info:{name:a.CUSTOM_EVENTS_TAG_FIRE_AUDIT_EVENT},body:{header:{},requestHeader:{},tags:t}}}},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0})
var r=a(n(40)),i=a(n(6))
function a(e){return e&&e.__esModule?e:{default:e}}var o=r.default&&new RegExp("bot|google|aolbuild|baidu|bing|msn|duckduckgo|teoma|slurp|yandex|sogou|facebook|alexa","i").test(i.default.navigator.userAgent)
t.default=o}])},e.exports=t()},12965:(e,t,n)=>{"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.decorate=function(e,t,n){var r=n
if(!e||!(e.begin||e.end||e.segment))return r
if(Array.isArray(t)&&t.length){var s=new i.default(n),c=s.length,d="function"==typeof e.begin?e.begin:o,u="function"==typeof e.end?e.end:o,l="function"==typeof e.segment?e.segment:a,p=[],f=t,h=[],m=void 0,g=c
for(m=c;m>=0;m--){var y=void 0,v=void 0
for(v=p.length>0&&p[p.length-1];p.length&&v&&m===v.start;)m!==g&&h.push(l.call(e,s.substring(m,g).toString())),h.push(d.call(e,v)),g=m,p.pop(),v=p[p.length-1]
for(y=f.length>0&&f[f.length-1];f.length&&y&&m===y.start+y.length;)m!==g&&h.push(l.call(e,s.substring(m,g).toString())),h.push(u.call(e,y)),g=m,p.push(f.pop()),y=f[f.length-1]
for(v=p.length>0&&p[p.length-1];p.length&&v&&m===v.start;)m!==g&&h.push(l.call(e,s.substring(m,g).toString())),h.push(d.call(e,v)),g=m,p.pop(),v=p[p.length-1]
0===m&&g!==m&&h.push(l(s.substring(m,g).toString()))}r=h.reverse().join("")}else r="function"==typeof e.segment?e.segment(r):r
return r}
var r,i=(r=n(69808))&&r.__esModule?r:{default:r}
function a(e){return e}function o(){return""}},97034:(e,t,n)=>{"use strict"
Object.defineProperty(t,"__esModule",{value:!0})
var r,i=n(69808)
t.StringView=(r=i)&&r.__esModule?r.default:r
var a=n(12965)
Object.defineProperty(t,"decorate",{enumerable:!0,get:function(){return a.decorate}})},69808:(e,t)=>{"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.default=r
var n=String.fromCharCode
function r(e){Array.isArray(e)?(this.string=null,this.codePoints=e):(this.string=e,this.codePoints=function(e){for(var t,n,r=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t)
return r}(e)),this.length=this.codePoints.length}r.prototype.constructor=r,r.prototype.substring=function(e,t){var n=this.length
if(0===t)return new r("")
if((isNaN(e)||e<0)&&(e=0),(isNaN(t)||t<0)&&(t=n),e>n&&(e=n),t>n&&(t=n),t<e){var i=[e,t]
t=i[0],e=i[1]}return new r(e===t?"":this.codePoints.slice(e,t))},r.prototype.toString=function(){return null!==this.string?this.string:this.codePoints.map((function(e){var t=""
return e>65535&&(t+=n((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+n(e)})).join("")},e.exports=t.default},23484:(e,t,n)=>{var r=n(97034)
e.exports=r},87118:(e,t)=>{var n
void 0===(n=function(){return function(e){var t=window.location.origin,n={width:"100%",iframeId:"payments-iframe",iframeCartPath:"/payments/embed",iframeOrderTokenPath:"/payments/order/token/embed",iframePaymentPath:"/payments/v2/purchase",iframeTitle:"Linkedin payments embedded checkout",load:function(){},update:function(){},cancel:function(){},cartTaxed:function(){},showPMPanel:function(){},handleShow3dsAuthentication:function(){},handleSubmit3dsAuthentication:function(){},handleSetProcessingModal:function(){}},r={left:"0",height:"100%",position:"fixed",top:"0",width:"100%","z-index":"10000"},i=["https://www.linkedin-ei.com","https://www.linkedin-ei.cn","https://www.linkedin.com","https://www.linkedin.cn","https://staging.slideshare.com","https://www.slideshare.net","https://pemberly.www.linkedin-ei.com:4443","https://pemberly.www.linkedin-ei.cn:4443","https://pemberly.www.linkedin.com:4443","https://pemberly.www.linkedin.cn:4443"],a=["height"],o=["error.session.timeout","error.purchase.generic","error.unknown","error.purchase.enter_valid_vat","error.purchase.no_confirmed_email_address","harderror"],s=this
this.init=function(){var t,r
if(this.config=e,!this._isProperConfig(e))throw new Error("Config is incomplete. Must have success, error, sessionTimeout, and iframeParentId. Must have cartId or accessToken or have viewType, customerUrn and routingType.")
if(!(t=document.getElementById(this.config.iframeParentId)))throw new Error('Cannot find an element with an ID of "'+this.config.iframeParentId+'"')
this.clearIframeParentContainer(),this.config=this.setDefaults(n,this.config),this.iframe=document.createElement("iframe"),this.iframe.setAttribute("width",this.config.width),this.iframe.setAttribute("id",this.config.iframeId),this.iframe.setAttribute("title",this.config.iframeTitle),this.iframe.style.border=0,r=this.config.cartId?this.config.iframeCartPath+"?_cartId="+this.config.cartId:this.config.accessToken?this.config.iframeOrderTokenPath+"?accessToken="+this.config.accessToken+"&viewType=PAYMENTFORM":`${this.config.iframePaymentPath}?viewType=${this.config.viewType}&owner=${this.config.customerUrn}&routingType=${this.config.routingType}`,this.iframe.setAttribute("src",r),t.appendChild(this.iframe),this.attachEventListeners()},this.clearIframeParentContainer=function(){document.getElementById(this.config.iframeParentId).innerHTML=""},this.removeEventListener=function(){window.removeEventListener("message",this.receiveMessage,!1)},this.attachEventListeners=function(){this.iframe.contentWindow.addEventListener("message",this.receiveMessage,!1),window.addEventListener("message",this.receiveMessage,!1)},this.receiveMessage=function(e){var t
if(e.origin&&-1!==i.indexOf(e.origin)&&(t=s.config,e.data&&e.data.type))switch(e.data.type){case"success":s._handleSuccessEvt(e,t)
break
case"success:orderV5Auth":s._handleOrderV5AuthSuccessEvt(e,t)
break
case"error":s._handleErrorEvt(e,t)
break
case"fullscreen:collapse":s._handleFullscreenCollapseEvt()
break
case"fullscreen:expand":s._handleFullscreenExpandEvt()
break
case"load":s._handleLoadEvt(e,t)
break
case"cancel":s._handleCancelEvt(e,t)
break
case"update":s._handleUpdateEvt(e,t)
break
case"action:carttaxed":s._handleCartTaxedEvent(e,t)
break
case"action:showpaymentmethodpanel":s._handleShowPMPanelEvent(e,t)
break
case"action:show3dsauthentication":case"dialog:two_factor_auth:open":s._handleShow3dsAuthentication(e,t)
break
case"action:submit3dsauthentication":s._handleSubmit3dsAuthentication(e,t)
break
case"set:processingModal":s._handleSetProcessingModal(e,t)
break
case"sessiontimeout":s._handleSessionTimeoutErrorEvt(e,t)}},this.setLIThemeForIframe=function(e){this.iframe.contentWindow.postMessage({type:"set:theme"},t)},this.buyJobsCart=function(){var e={type:"submit"}
if(!this.config||!this.config.cartId)throw new Error("Parameter cartId: "+cartId+" does not match the checkout cartId: "+this.config.cartId)
e.cartId=this.config.cartId,this.iframe.contentWindow.postMessage(e,t)},this.buyCart=function(e,n){var r={type:"submit"}
if(this.config.accessToken&&e.fullName&&e.title)r.accessToken=this.config.accessToken,r.fullName=e.fullName,r.title=e.title,e.enterpriseProfileEmail&&(r.enterpriseProfileEmail=e.enterpriseProfileEmail),r.OrderV5PlaceOrderFlow=n||!1
else if(this.config.accessToken&&(!e.fullName||!e.title))throw new Error("Missing fields accessToken, fullName, and title.")
this.iframe.contentWindow.postMessage(r,t)},this.setDefaults=function(e,t){for(key in e)t[key]||(t[key]=e[key])
return t},this._handleErrorEvt=function(e,t){var n=e.data.value
if(!n||!n.errorCode||-1===o.indexOf(n.errorCode))throw new Error('Invalid data sent for "error" call')
t.error(n)},this._handleSessionTimeoutErrorEvt=function(e,t){var n=e.data.value
if(!n||!n.errorCode||0!==o.indexOf(n.errorCode))throw new Error('Invalid data sent for "sessiontimeout" call')
t.sessionTimeout(n)},this._handleFullscreenCollapseEvt=function(){void 0!==s.iframe.style.cssText?s.iframe.style.cssText=s.previousStyles:s.setAttribute("style",s.previousStyles),s.previousStyles=""},this._handleFullscreenExpandEvt=function(e,t){s.newFullscreenStyles=s.newFullscreenStyles||s._toStyleString(r),void 0!==s.iframe.style.cssText?(s.previousStyles=s.iframe.style.cssText,s.iframe.style.cssText+=s.newFullscreenStyles):(s.previousStyles=s.iframe.getAttribute("style"),s.iframe.setAttribute("style",s.previousStyles+s.newFullscreenStyles))},this._handleLoadEvt=function(e,t){t.load()},this._handleCancelEvt=function(e,t){t.cancel()},this._handleSuccessEvt=function(e,t){t.success()},this._handleOrderV5AuthSuccessEvt=function(e,t){var n=e.data&&e.data.value
n&&n.errorCode?this._handleErrorEvt(e,t):t.orderV5AuthSuccess(n)},this._handleUpdateEvt=function(e,t){var n=e.data.value
if(!n||!n.val||!n.attr||2!==Object.keys(n).length||-1===a.indexOf(n.attr))throw new Error('Invalid data sent for "update" call')
document.getElementById(t.iframeId).setAttribute(n.attr,n.val),t.update()},this._handleCartTaxedEvent=function(e,t){t.cartTaxed()},this._handleShowPMPanelEvent=function(e,t){t.showPMPanel()},this._handleShow3dsAuthentication=function(e,t){t.handleShow3dsAuthentication()},this._handleSubmit3dsAuthentication=function(e,t){t.handleSubmit3dsAuthentication()},this._handleSetProcessingModal=function(e,t){var n=e.data.value
t.handleSetProcessingModal(n)},this._toStyleString=function(e){var t,n=""
for(t in e)n+=t+": "+e[t]+"; "
return n.substring(0,n.length-1)},this._isProperConfig=function(e){const t=e.success&&e.error&&e.iframeParentId,n=e.cartId||e.accessToken,r=e.viewType&&e.customerUrn&&e.routingType
return t&&(n||r)},this.init()}}.apply(t,[]))||(e.exports=n)},78789:(e,t)=>{"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.getGraphQLSource=t.getGraphQLQueryId=t.isGraphQLQuery=t.isGraphQLFragment=t.getQueryTokenByQuerySource=t.lookup=t.register=t.resetRegisteredQueries=void 0
const n=new Map
function r(e,t,n){if(e)return Object.freeze(Object.create(null))
if("query"===t.kind||"mutation"===t.kind||"subscription"===t.kind){const e=t
if(e.ast)return Object.assign(Object.create(null),e.ast,n)}return Object.freeze(Object.assign(Object.create(null),n))}function i(e){return n.get(e)}function a(e,t){const n=i(e)
if(void 0===n)throw new Error(`No GraphQL query or fragment metadata associated with the given token: ${JSON.stringify(e)}`)
return n.kind===t}t.resetRegisteredQueries=function(){n.clear()},t.register=function(e,t){let i
return i=e?r(!0,t):"query"===t.kind||"mutation"===t.kind?r(!1,t,{$debug:{name:t.name,kind:t.kind,queryId:t.id,querySource:t.source}}):r(!1,t,{$debug:{name:t.name,kind:t.kind}}),n.set(i,t),i},t.lookup=i,t.getQueryTokenByQuerySource=function(e){const t=[]
for(const[r,i]of n)"query"!==i.kind&&"mutation"!==i.kind||i.source!==e||t.push(r)
if(t.length>1)throw new Error("Query source is found in multiple query files")
return t[0]},t.isGraphQLFragment=function(e){return a(e,"fragment")},t.isGraphQLQuery=function(e){return a(e,"query")},t.getGraphQLQueryId=function(e){const t=i(e)
if(void 0===t||"query"!==t.kind)throw new Error(`No GraphQL query metadata associated with the given token: ${JSON.stringify(e)}`)
return t.id},t.getGraphQLSource=function(e){const t=i(e)
if(void 0===t||"query"!==t.kind)throw new Error(`No GraphQL query metadata associated with the given token: ${JSON.stringify(e)}`)
if(!t.source)throw new Error(`No GraphQL source associated with the given token: ${JSON.stringify(e)}`)
return t.source}},94083:function(e,t,n){var r
e=n.nmd(e),r=function(t){"use strict"
var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e
if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0
try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t)
throw new TypeError("Invalid attempt to destructure non-iterable instance")}
function i(e){var t=void 0===e?"undefined":n(e)
return"number"===t?!isNaN(e-parseFloat(e)):"string"===t}var a=function(e,t){if(!i(e))return""
var n=e.toString().split("."),a=r(n,2),o=a[0],s=a[1],c=o=o.replace(/(\d)(?=(\d{2})+\d$)/g,"$1,")
return t&&(c=""+t+o),"string"==typeof s&&(c=c+"."+s),c},o=window&&window.t8?window.t8:{},s=null,c=null
Object.keys(o).length&&(s=new o.CurrencyFormatter,c=new o.NumberFormatter)
var d=s,u=c,l=null,p=null
function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""
throw new Error("You need to inject a "+e+" formatter or have t8 available as a global, neither were found")}var h={currency:function(e,t,n){return l?l(e,t,n):(d||f("currency"),d.format(e,n,t))},number:function(){var e
return p?p.apply(void 0,arguments):(u||f("number"),(e=u).format.apply(e,arguments))}}
function m(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r]
return h[e].apply(h,n)}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US"
return"en_IN"===t?a(e):m("number",e,t)}var y="12345678.91",v={},b={en_US:["K","M","B"],zh_CN:["K","M","B"],en_IN:["K","Lakh","cr"]},T=["en_US","zh_CN"],_=["en_IN"],E=function(e){return Math.pow(10,3*(e+1))},x=function(e){return 0===e?1e3:Math.pow(10,2*(e+1.5))},S=function(){}
function C(e,t){var n=function(e){return[",","."," ",String.fromCharCode(160),"'"].reduce((function(t,n){return e.split(n).length>=3?n:t}))}(e),r=function(e){return[",","."].reduce((function(t,n){return 2===e.split(n).length?n:t}))}(e),i=function(e,t){return 4===e.split(t).length?"india":"thousands"}(e,n),a=function(e){return b[e]||[]}(t),o=function(e){return T.indexOf(e)>-1?E:_.indexOf(e)>-1?x:S}(t)
return{delimiter:n,radixMark:r,delimiterStyle:i,abbreviations:a,abbreviateOn:o}}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en_US",t=arguments[1],n=e,r=v[n]
if(r)return r
var i=C(g(y,e,t),e)
return v[n]=i,i}var k=function(e){return function(e){return/[a-z][_-][A-Z]/g.test(e)}(e)},I=function(e){return A(e)},R=function(e){return i(e)}
function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",n=M(e,t)
return n.replace(new RegExp("\\"+t,"g"),".")}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",n=new RegExp("((&#(39|92|61);)|[^\\d\\"+t+"])","g")
return e.replace(n,"")}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"."
if(!R(e))return""
var n=t
if(k(t)){var r=I(t)
n=r.radixMark}return w(e,n)}var N="object"==typeof global&&global&&global.Object===Object&&global,P="object"==typeof self&&self&&self.Object===Object&&self,U=N||P||Function("return this")(),D=U.Symbol,L=Object.prototype,F=L.hasOwnProperty,B=L.toString,j=D?D.toStringTag:void 0,q=Object.prototype.toString,V=D?D.toStringTag:void 0
function H(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":V&&V in Object(e)?function(e){var t=F.call(e,j),n=e[j]
try{e[j]=void 0
var r=!0}catch(e){}var i=B.call(e)
return r&&(t?e[j]=n:delete e[j]),i}(e):function(e){return q.call(e)}(e)}function G(e){var t=typeof e
return null!=e&&("object"==t||"function"==t)}function K(e){if(!G(e))return!1
var t=H(e)
return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var W,z=U["__core-js_shared__"],$=(W=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",X=Function.prototype.toString,Q=/^\[object .+?Constructor\]$/,Y=Function.prototype,J=Object.prototype,Z=Y.toString,ee=J.hasOwnProperty,te=RegExp("^"+Z.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=function(){try{var e=function(e){return!(!G(e)||(t=e,$&&$ in t))&&(K(e)?te:Q).test(function(e){if(null!=e){try{return X.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))
var t}(n=null==(t=Object)?void 0:t.defineProperty)?n:void 0
return e({},"",{}),e}catch(e){}var t,n}()
function re(e,t,n){"__proto__"==t&&ne?ne(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ie(e,t){return e===t||e!=e&&t!=t}var ae=Object.prototype.hasOwnProperty
function oe(e,t,n){var r=e[t]
ae.call(e,t)&&ie(r,n)&&(void 0!==n||t in e)||re(e,t,n)}function se(e){return e}function ce(e,t,n){switch(n.length){case 0:return e.call(t)
case 1:return e.call(t,n[0])
case 2:return e.call(t,n[0],n[1])
case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var de,ue,le,pe=Math.max,fe=ne?function(e,t){return ne(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0})
var n}:se,he=Date.now,me=(de=fe,ue=0,le=0,function(){var e=he(),t=16-(e-le)
if(le=e,t>0){if(++ue>=800)return arguments[0]}else ue=0
return de.apply(void 0,arguments)})
function ge(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function ye(e){return null!=e&&ge(e.length)&&!K(e)}var ve=/^(?:0|[1-9]\d*)$/
function be(e,t){var n=typeof e
return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ve.test(e))&&e>-1&&e%1==0&&e<t}var Te=Object.prototype
function _e(e){var t=e&&e.constructor
return e===("function"==typeof t&&t.prototype||Te)}function Ee(e){return null!=e&&"object"==typeof e}function xe(e){return Ee(e)&&"[object Arguments]"==H(e)}var Se=Object.prototype,Ce=Se.hasOwnProperty,Ae=Se.propertyIsEnumerable,ke=xe(function(){return arguments}())?xe:function(e){return Ee(e)&&Ce.call(e,"callee")&&!Ae.call(e,"callee")},Ie=Array.isArray,Re="object"==typeof t&&t&&!t.nodeType&&t,we=Re&&e&&!e.nodeType&&e,Me=we&&we.exports===Re?U.Buffer:void 0,Oe=(Me?Me.isBuffer:void 0)||function(){return!1},Ne={}
Ne["[object Float32Array]"]=Ne["[object Float64Array]"]=Ne["[object Int8Array]"]=Ne["[object Int16Array]"]=Ne["[object Int32Array]"]=Ne["[object Uint8Array]"]=Ne["[object Uint8ClampedArray]"]=Ne["[object Uint16Array]"]=Ne["[object Uint32Array]"]=!0,Ne["[object Arguments]"]=Ne["[object Array]"]=Ne["[object ArrayBuffer]"]=Ne["[object Boolean]"]=Ne["[object DataView]"]=Ne["[object Date]"]=Ne["[object Error]"]=Ne["[object Function]"]=Ne["[object Map]"]=Ne["[object Number]"]=Ne["[object Object]"]=Ne["[object RegExp]"]=Ne["[object Set]"]=Ne["[object String]"]=Ne["[object WeakMap]"]=!1
var Pe="object"==typeof t&&t&&!t.nodeType&&t,Ue=Pe&&e&&!e.nodeType&&e,De=Ue&&Ue.exports===Pe&&N.process,Le=function(){try{return Ue&&Ue.require&&Ue.require("util").types||De&&De.binding&&De.binding("util")}catch(e){}}(),Fe=Le&&Le.isTypedArray,Be=Fe?function(e){return function(t){return e(t)}}(Fe):function(e){return Ee(e)&&ge(e.length)&&!!Ne[H(e)]},je=Object.prototype.hasOwnProperty,qe=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),Ve=Object.prototype.hasOwnProperty
var He,Ge=Object.prototype.hasOwnProperty,Ke=(He=function(e,t){if(_e(t)||ye(t))!function(e,t,n,r){var i=!n
n||(n={})
for(var a=-1,o=t.length;++a<o;){var s=t[a],c=void 0
void 0===c&&(c=e[s]),i?re(n,s,c):oe(n,s,c)}}(t,function(e){return ye(e)?function(e,t){var n=Ie(e),r=!n&&ke(e),i=!n&&!r&&Oe(e),a=!n&&!r&&!i&&Be(e),o=n||r||i||a,s=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n)
return r}(e.length,String):[],c=s.length
for(var d in e)!je.call(e,d)||o&&("length"==d||i&&("offset"==d||"parent"==d)||a&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||be(d,c))||s.push(d)
return s}(e):function(e){if(!_e(e))return qe(e)
var t=[]
for(var n in Object(e))Ve.call(e,n)&&"constructor"!=n&&t.push(n)
return t}(e)}(t),e)
else for(var n in t)Ge.call(t,n)&&oe(e,n,t[n])},function(e,t){return me(function(e,t,n){return t=pe(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=pe(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i]
i=-1
for(var s=Array(t+1);++i<t;)s[i]=r[i]
return s[t]=n(o),ce(e,this,s)}}(e,void 0,se),e+"")}((function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,a=r>2?t[2]:void 0
for(i=He.length>3&&"function"==typeof i?(r--,i):void 0,a&&function(e,t,n){if(!G(n))return!1
var r=typeof t
return!!("number"==r?ye(n)&&be(t,n.length):"string"==r&&t in n)&&ie(n[t],e)}(t[0],t[1],a)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var o=t[n]
o&&He(e,o)}return e})))
function We(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".",t=[".",",","s","'"]
return t.splice(t.indexOf(e),1),t.join("\\")}function ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".",t=We(e)
return new RegExp("([^,\\.\\d]*)(["+t+"\\d]*\\d+)(\\"+e+"?)(\\d*)(\\D*)")}function $e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",n=["","","","",""]
if(!i(e))return n
var r=ze(t),a=r.exec(e)
return a?(a.shift(),a.map((function(e){return e||""}))):n}function Xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",n=arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=a.keepTrailingRadixMark,s=void 0!==o&&o
if(!i(e))return""
var c=e.toString(),d=$e(c,t),u=r(d,5),l=u[0],p=u[1],f=u[2],h=u[3],m=u[4],g=n
return i(g)&&""!==g&&(g=Number(g)),0===g?""+l+p+m:s&&""===h?""+l+p+f+m:(g&&(h=h.slice(0,g)),""===h?""+l+p+m:""+l+p+f+h+m)}function Qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"USD"
if("en_IN"===t){var r=rt("en_US",n),i=r.currencySymbol,o=r.radixPlaces,s=r.radixMark,c=Xe(e,s,o)
return a(c,i)}return m("currency",e,t,n)}var Ye="12345678.91",Je={}
function Ze(e){return Number(e.substring(0,1))?"after":"before"}function et(e,t,n){var r=new RegExp("[^\\d\\"+t+"\\"+n+"\\s]+"),i=e.match(r)
return i?i[0]:""}function tt(e,t){var n=t.replace("$","\\$"),r=new RegExp("\\s?"+n+"\\s?"),i=e.match(r)
return i?i[0]:t}function nt(e,t){var n=new RegExp("\\"+t+"(\\d+)"),r=e.match(n)
return r?r[1].length:0}function rt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en_US",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",n=arguments[2],r=e+":"+t,i=Je[r]
if(i)return i
var a=A(e),o=a.radixMark,s=a.delimiter,c=Qe(Ye,e,t,n),d=Ze(c),u=et(c,o,s),l=tt(c,u),p=nt(c,o),f=Ke({},a,{currencySymbolLocation:d,currencySymbol:u,currencySymbolWithWhitespace:l,radixPlaces:p})
return Je[r]=f,f}function it(e){return e.replace(/\s/g,(function(){return" "}))}function at(e,t,n){for(var r=t.length-1;r>=0;r--){var i=n(r)
if(i<=e){var a=t[r],o=e/i,s=Math.round(e/i)
return Math.floor(o)!==o&&r>0?[o.toFixed(1),a]:[s.toString(),a]}}return[e.toString(),""]}function ot(e){return 46===e||8===e}function st(e,t){return t.indexOf(e)}function ct(e,t){return e+t.length}function dt(e){var t={}
return t.start=e.selectionStart,t.end=e.selectionEnd,t.length=t.end-t.start,t}function ut(e,t,n){e.selectionStart=t,e.selectionEnd=n}function lt(e,t){return e.length-t.length}function pt(e,t,n,r,i){return t?0:r&&8===e?-i:n&&46===e?i:0}function ft(e,t){return e+t}function ht(e,t,n){return n.charAt(t-1)===e}function mt(e,t,n){return n.charAt(t)===e}function gt(e,t,n){t!==n&&ut(e,n,n)}"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self
var yt=function(e,t){return function(e,t){e.exports=function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function o(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t
if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")
return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return e}(e)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
if(Reflect.construct.sham)return!1
if("function"==typeof Proxy)return!0
try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()
return function(){var n,r=i(e)
if(t){var a=i(this).constructor
n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments)
return o(this,n)}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
if(null!=n){var r,i,a=[],o=!0,s=!1
try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return l(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}var p="aria-[a-z0-9_\\-]+|class|data-[a-z0-9_\\-]+|dir|id|role|tabindex",f="undefined"==typeof document||"textContent"in document.createElement("div")?"textContent":"innerText",h=["b","del","em","i","s","strong","sub","sup"],m=h.concat(["a","abbr","address","area","article","aside","audio","bdi","bdo","big","blockquote","br","button","center","cite","code","datalist","dd","details","dfn","div","dl","dt","fieldset","figcaption","figure","font","footer","h1","h2","h3","h4","h5","h6","header","hgroup","hr","img","ins","kbd","label","legend","li","map","mark","marquee","nav","nobr","ol","p","pre","q","rp","rt","ruby","samp","section","small","source","span","strike","table","tbody","td","tfoot","th","thead","time","tr","u","ul","var","video","wbr"]),g=[p,"alt|checked|selected|colgroup|cols|colspan|disabled|height|hidden|maxlength|method|multiple|name|placeholder|readonly|rel|required|rows|rowspan|spellcheck|target|title|width","border|caption|color|controls|coords|hreflang|label|lang|loop|marginheight|marginwidth|preload|reversed|type|usemap|clear|headers|ismap|start|datetime|accept|max|min|size|step|style|cellspacing|cellpadding"].join("|"),y=n((function t(){e(this,t)}))
function v(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var b=function(){var e=/[&<>"'\u0000\\=]/g,t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","\0":"�","\\":"&#92;","=":"&#61;"}
return function(n){return null==n?null:n.toString().replace(e,(function(e){return function(e){return e in t}(e)?t[e]:e}))}}(),T=function(){var e,t="undefined"!=typeof document?document.createElement("div"):null,n=/&(?:([a-z0-9]+)|#x([\da-f]{1,6})|#(\d{1,8}));/gi,r={nbsp:" ",lt:"<",gt:">",amp:"&",quot:'"'}
function i(e){if(function(e){return v(r,e)}(e))return r[e]
if(!t)return e
t.innerHTML="&".concat(e,";")
var n=t[f]
return r[e]=n,n}return e="function"==typeof String.fromCodePoint?function(e){return String.fromCodePoint(e)}:function(e){return e<=65535?String.fromCharCode(e):"�"},function(t){return null==t?null:(t+"").replace(n,(function(t,n,r,a){return n?i(n):r||a?e(parseInt(r||a,r?16:10)||65533):"�"}))}}()
function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log"
if("undefined"!=typeof window&&window&&window.jet&&"error"===t.toLowerCase())try{throw new Error(e)}catch(e){try{window.jet.error(e)}catch(e){}}"undefined"!=typeof console&&"function"==typeof console[t]&&console[t](e)}function E(e){return/[<&]/.test(e)}var x="[ \t\r\n]*"
function S(e){e=Array.isArray(e)?e:[e]
var t,n,r,i=0,a="<(?!/?"
return a+="(?:",e.forEach((function(e,o){t=e.tags||m,n=e.attrs||g,r=e.checkUrlAttrs||!1,0!==o&&(a+="|"),a+="(?:"+t.join("|")+")",a+="(?:",a+=x,a+="|[ \t\r\n]+",a+="(?:(?:",a+="(?:".concat(n,")(?:=([\"'])[^'\"<>]*\\").concat(++i,")?"),r&&(a+="|(?:".concat("href|src",")=([\"'])(?:(?:").concat("https?|ftp|mailto|invalid",")(?::|&#(?:58|x3a);)|(?:").concat("data:image/(?:gif|jpg|jpeg|png);base64,",")|[/.#?]|&#(?:35|4[67]|63|x(?:2[3ef]|3f));)[^'\"<>]*\\").concat(++i)),a+=")"+x+")+",a+=")"})),a+=")",a+="/?>)",new RegExp(a,"i")}function C(e){return S({tags:e=e||m,checkUrlAttrs:!0})}function A(e,t){var n=(t=t||{}).allowTags,r=!1!==t.hasCustomElementMarkup
return n&&n.length>0?!C(n).test(e):r?!A.R_UNSAFE_CUSTOM_ELEMENT.test(e):!A.R_UNSAFE_HTML.test(e)}function k(e){return e.replace(/<[^>]*>|[<>'"&\\]/g,"")}A.R_UNSAFE_HTML=C(),A.R_UNSAFE_CUSTOM_ELEMENT=function(){var e={tag:"li-icon",attrs:"active|a11y-text|animate|color|size|type"}
return S([{tags:m,checkUrlAttrs:!0},{tags:[e.tag],attrs:[p,e.attrs].join("|"),checkUrlAttrs:!1}])}()
var I={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]},R=/<([\w:]+)/
function w(e){return e in I}function M(e,t){var n,r,i,a,o,s=t.createDocumentFragment(),u=[]
for(i=0,o=e.length;i<o;i++)if(r=e[i])if("string"==typeof r){n=n||s.appendChild(t.createElement("div"))
var l=c(R.exec(r)||["",""],2)[1]
if(void 0!==l){var p=l.toLowerCase(),f=w(p)&&I[p]||I._default
for(U(n,f[1]+r+f[2]),a=f[0];a--;)n&&n.lastChild&&n.lastChild.nodeType===Node.ELEMENT_NODE&&(n=n.lastChild)
u.push.apply(u,d(Array.from(n.childNodes))),(n=s.firstChild)&&(n.textContent="")}}else r instanceof Node&&u.push(r)
for(s.textContent="",r=u[i=0];r;)s.appendChild(r),r=u[++i]
return s}function O(e,t,n){e=e.toString()
var r=t?function(e,t){var n={}
return e.replace(/\{([^}]+)\}/g,(function(e,r){if(v(n,r))return n[r]
if(v(t,r)){var i=t[r],a="string"==typeof i
if(!(a||i instanceof y||"number"==typeof i))throw new Error("Only strings, numbers, and jSecure types are allowed as placeholder replacements.")
return i?(i=a?"".concat(b(i)):i.toString(),n[r]=i,i):e}return e}))}(e,t):e,i=e
return E(r)&&!A(r,n)&&(r=k(r),_("Content contains tags or attributes that are not allowed:\nContent: "+i,"error")),r}var N=O,P=O
function U(e,t,n){var r=O(t,n)
return r&&E(r)?e.innerHTML=r:r&&(e[f]=r),r}var D=function(t){r(a,t)
var i=s(a)
function a(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
return e(this,a),(n=i.call(this)).options=r,n.tags=n.options.allowTags?n.options.allowTags.flat():[],n.str=t,n}return n(a,[{key:"toString",value:function(){var e=this.str,t=this.strValue,n=e
return void 0!==t?t:(A(e,{allowTags:this.tags,hasCustomElementMarkup:this.options.hasCustomElementMarkup})||(n=e,e=k(e),_("UnsafeString contains tags or attributes that are not allowed.\nString: "+n,"error")),this.strValue=e,e)}}]),a}(y)
var L=/ /g,F=/[\s\u0000<>"]|%00/,B=/\\/,j=/([.]|%2e){2}/i,q=new RegExp("^(?:HTTPS?|https?|ftp|mailto|tel|sms|blob|voyager|android-app|linkedin|chrome-extension|invalid|data:(?:(?:image/(?:gif|jpe?g|png|webp|bmp|tiff))|(?:application/x-font-woff)|(?:font/(?:opentype|ttf)))[;,]|[/.#?])")
function V(e){var t,n="invalid://"
if("string"!=typeof e)return _("jSecure Warning: url must be a string","error"),n
if((t=e.trim()).indexOf(" ")>-1&&(_("jSecure Warning: url should not contain spaces: "+e,"warn"),t=t.replace(L,"+")),!q.test(t))return _("jSecure Error: URL should be absolute with allowed schemas, relative, a hash fragment or query string. "+e,"error"),n
if(F.test(t))return _("jSecure Error: not valid url character found in url: "+e,"error"),n
var r,i=t.split("?")[0],a=!1
if(i){try{if(r=decodeURI(i),j.test(r))return _("jSecure Error: malicious data found in url path: "+i,"error"),n}catch(e){a=!0}if(a)return _("jSecure Error: malformed url path detected: "+i),n
if(B.test(i)||j.test(i))return _("jSecure Error: malicious data found in url path: "+i,"error"),n}return e}var H={redirect:function(e){window&&(window.location.href=e)}}
return{ALLOWED_TAGS:m,FORMATTING_TAGS:h,htmlEncode:b,htmlUnencode:T,log:_,mk:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r]
var i,a="",o=n.length
return e&&e.forEach((function(e,t){a+=e,t<o&&(i=n[t],a+=i instanceof D?i:b(i))})),"".concat(P(a))},parseHTML:function(e,t){var n
if(t=t||document.implementation&&document.implementation.createHTMLDocument?document.implementation.createHTMLDocument(""):document,"string"==typeof e)n=M([e],t)
else{if(!Array.isArray(e))return e
n=M(e,t)}return Array.from(n.childNodes)},parseSelector:function(e){return"string"==typeof e&&/^(?:\s*(<[\w\W]+>)[^>]*)$/.test(e)?[]:e},processTemplate:N,reEncode:function(e){return b(T(e))},_redirector:H,redirect:function(e){var t=V(e)
t===e&&H.redirect(t)},sanitizeHTML:P,sanitizeUrl:V,setElementContent:U,unsafe:function(e){return e},UnsafeString:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
return this instanceof e||console.warn("Calling 'UnsafeString' without the 'new' keword is deprecated"),new D(t,n)}}}()}(t={exports:{}}),t.exports}(),vt=yt.sanitizeHTML
function bt(e){return e.target}function Tt(e){var t=e.value.trim()
return t?vt(t):""}function _t(e){var t=e.value
return t?vt(t):""}function Et(e,t){e.value=t}function xt(e){return e.which}function St(e){return"0"+e}function Ct(e,t,n,r){return t||""===t?Xe(""+e+n+t,n,r,{keepTrailingRadixMark:!0}):e}function At(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US",n=arguments[2],a=A(t),o=a.radixMark,s=n
if(i(s)&&""!==s&&(s=Number(s)),!e)return""
if("."===e)return 0===s?"":St(o)
var c=e.split("."),d=r(c,2),u=d[0],l=d[1],p=it(g(u,t))
return Ct(p,l,o,n)}function kt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US",n=arguments[2],r=O(e,t)
return At(r,t,n)}function It(e,t,n,r){if(function(e,t,n){return function(e,t,n){var r=st(e,n),i=ct(r,e)
return t>r&&t<i}(e,t,n)||function(e,t,n){return t===ct(st(e,n),e)}(e,t,n)||function(e,t,n){return t===n.indexOf(e)}(e,t,n)}(e,n,r)){var i=st(e,r),a=ct(i,e)
return"before"===t?a:i}return n}function Rt(e,t,n){return"before"===n?""+t+e:""+e+t}function wt(e,t){var n=e
return i(n)&&""!==n&&(n=Number(n)),n||0===n?n:t}function Mt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"USD",a=arguments[3],o=rt(t,n),s=o.currencySymbolWithWhitespace,c=o.currencySymbolLocation,d=o.radixMark,u=o.radixPlaces
if(!i(e))return""
var l=wt(a,u)
s=it(s)
var p=O(e,d),f=$e(p,"."),h=r(f,2),m=h[1]
if(""===p)return s
if("."===p)return 0===l?s:Rt(St(d),s,c)
var g=$e(Xe(e,d,l,{keepTrailingRadixMark:!0}),d),y=r(g,4),v=y[2],b=y[3],T=it(Qe(m,t,n)),_=$e(T,d),E=r(_,5),x=E[0],S=E[1],C=E[4]
return""+x+S+v+b+C}t.indiaNumberFormatter=a,t.removeFormatting=M,t.toDecimalString=O,t.getNumberFormatData=A,t.getCurrencyFormatData=rt,t.formatNumber=g,t.formatCurrency=Qe,t.trimRadixPlaces=Xe,t.trimFractionalNumbers=function(e,t,n,r){return Xe(e,A(t).radixMark,n,r)},t.removeNBSP=it,t.addNBSP=function(e){var t=String.fromCharCode(160)
return e.replace(/\s/g,(function(){return t}))},t.injectNumberFormatter=function(e){var t=void 0===e?"undefined":n(e)
if(!e||"function"!==t)throw new Error("Expected function for number formatter, got "+t)
p=e},t.injectCurrencyFormatter=function(e){var t=void 0===e?"undefined":n(e)
if(!e||"function"!==t)throw new Error("Expected function for currency formatter, got "+t)
l=e},t.resetNumberFormatter=function(){p=null},t.resetCurrencyFormatter=function(){l=null},t.abbreviateNumber=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US"
if(!i(e))return""
var n=A(t),a=n.radixMark,o=n.abbreviations,s=n.abbreviateOn
if(!o.length)return e
var c=$e(e,a),d=r(c,5),u=d[0],l=d[1],p=d[2],f=d[3],h=d[4],m=O(l,a),g=at(m,o,s),y=r(g,2),v=y[0],b=y[1]
return v=v.replace(".",a),b?""+u+v+b+h:""+u+v+b+p+f+h},t.parseNumber=$e,t.isNumberOrString=i,t.onNumberInput=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.locale,r=void 0===n?"en_US":n,i=t.maxRadixPlaces,a=void 0===i?"":i,o=t.setValue,s=t.beforeSetValue,c=t.afterSetValue,d=bt(e),u=Tt(d),l=O(u,r),p=kt(u,r,a),f=lt(p,u),h=dt(d).end,m=ft(h,f)
l=O(p,r),s&&"function"==typeof s&&s(p,l),o&&"function"==typeof o?o(p,l):Et(d,p),gt(d,p.length,m),c&&"function"==typeof c&&c(p,l)},t.onNumberKeyDown=function(e,t){var n=t.locale,r=void 0===n?"en_US":n,i=xt(e)
if(ot(i)){var a=bt(e),o=Tt(a),s=A(r).delimiter,c=dt(a),d=c.start
gt(a,d,ft(d,pt(i,c.length,mt(s,d,o),ht(s,d,o),s.length)))}},t.formatMaskingNumber=kt,t.formatUnformattedNumber=At,t.onCurrencyInput=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.locale,r=void 0===n?"en_US":n,i=t.currencyCode,a=void 0===i?"USD":i,o=t.maxRadixPlaces,s=void 0===o?"":o,c=t.setValue,d=t.beforeSetValue,u=t.afterSetValue,l=bt(e),p=Tt(l),f=rt(r,a),h=f.currencySymbolWithWhitespace,m=f.currencySymbolLocation,g=f.radixMark
h=it(h)
var y=Mt(p,r,a,s),v=lt(y,p),b=dt(l).end,T=ft(b,v)
T=It(h,m,T,y)
var _=O(y,g)
d&&"function"==typeof d&&d(y,_),c&&"function"==typeof c?c(y,_):Et(l,y),gt(l,y.length,T),u&&"function"==typeof u&&u(y,_)},t.onCurrencyKeyDown=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.locale,r=void 0===n?"en_US":n,i=t.currencyCode,a=void 0===i?"USD":i,o=xt(e),s=bt(e),c=_t(s),d=dt(s),u=d.start,l=d.length,p=u,f=rt(r,a),h=f.currencySymbolWithWhitespace,m=f.currencySymbolLocation,g=f.delimiter
if(h=it(h),g=it(g),ot(o)){var y=pt(o,l,mt(g,u,c),ht(g,u,c),g.length)
p=ft(u,y)}p=It(h,m,p,c),l||gt(s,u,p)},t.onCurrencyFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.locale,r=void 0===n?"en_US":n,i=t.currencyCode,a=void 0===i?"USD":i,o=bt(e),s=Tt(o)
if(""===s){var c=rt(r,a),d=c.currencySymbolWithWhitespace,u=c.currencySymbolLocation
Et(o,d=it(d))
var l=dt(o),p=l.start,f=It(d,u,p,d)
gt(o,p,f)}},t.onCurrencyBlur=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.locale,r=void 0===n?"en_US":n,i=t.currencyCode,a=void 0===i?"USD":i,o=t.beforeSetValue,s=t.setValue,c=t.afterSetValue,d=bt(e),u=Tt(d),l=rt(r,a),p=l.currencySymbol
if(""===u||u===p){var f=""
o&&"function"==typeof o&&o(f,f),s&&"function"==typeof s?s(f,f):Et(d,f),c&&"function"==typeof c&&c(f,f)}},t.formatMaskingCurrency=Mt,t.formatUnformattedCurrency=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"USD",r=arguments[3],i=At(e,t,r)
return Mt(i,t,n,r)},t.setElementSelection=ut,t.getElementSelection=dt,t.getCursorAdjustment=lt,t.getAdjustedCursorPosition=ft,t.isCursorImmediatelyBeforeCharacter=mt,t.isCursorImmediatelyAfterCharacter=ht,Object.defineProperty(t,"__esModule",{value:!0})},r(t)},61365:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1)
e.exports=function(e,n){var r=n||0,i=t
return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},27969:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)
if(t){var n=new Uint8Array(16)
e.exports=function(){return t(n),n}}else{var r=new Array(16)
e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255
return r}}},43503:(e,t,n)=>{var r=n(27969),i=n(61365)
e.exports=function(e,t,n){var a=t&&n||0
"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null)
var o=(e=e||{}).random||(e.rng||r)()
if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[a+s]=o[s]
return t||i(o)}},88970:(e,t,n)=>{"use strict"
n.r(t),n.d(t,{default:()=>re})
var r=n(39705),i=n.n(r)
class a{constructor(){const e=this.states={PENDING:!0,STARTED:!0,PAUSED:!0,COMPLETED:!1,FAILED:!1,CANCELLED:!1}
this.is={},Object.freeze(e),Object.keys(e).forEach((e=>{this.is[e]=!1,this[e]=e})),this.set(this.PENDING)}get(){return this.state}isFrozen(){return Object.isFrozen(this)}set(e){return e===this.state?Promise.resolve(e):Object.isFrozen(this)?Promise.reject(new Error(`[StateManager] cannot change immutable state '${this.state}' to '${e}'`)):this.states.hasOwnProperty(e)?(this.state&&(this.is[this.state]=!1),this.is[e]=!0,this.state=e,this.states[e]||Object.freeze(this),Promise.resolve(e)):Promise.reject(new Error(`[StateManager] cannot set invalid state: ${e}`))}}var o=n(43503),s=n.n(o)
class c extends(i()){constructor(){super(),this.reset()}set(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0
this.progress=e-(this.loaded||0),this.loaded=e,this.completed=t,this.active=this.loaded-this.completed,this.emit("change",this)}add(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0
this.set(this.loaded+e,this.completed+t)}done(){this.set(this.loaded,this.loaded)}reset(){this.progress=0,this.loaded=0,this.completed=0,this.active=0}}class d extends(i()){constructor(e){let{beforeSend:t,body:n,headers:r,method:i,mimeType:a,timeout:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
if(!e)throw new Error("[Request] an action must be provided")
super(),this.action=e,this.beforeSend=t,this.body=n,this.headers=r||{},this.method=i||"GET",this.mimeType=a,this.timeout=o,this.progress=new c,this.progress.on("change",(()=>{this.emit("progress",this.progress)})),this.reset()}send(){const e=this.request=new XMLHttpRequest
return this.attempts++,new Promise(((t,n)=>{const r=e=>{let{loaded:t}=e
this.progress.set(t)},i=e=>{r({loaded:0}),n(e)}
e.open(this.method,this.action),function(e,t){Object.keys(t).forEach((n=>{e.setRequestHeader(n,t[n])}))}(e,this.headers),e.onerror=()=>{const{status:t,responseText:n}=e
i(new Error("[Request] a network error occurred",{cause:{status:t,responseText:n}}))},e.onabort=()=>{const{status:t,responseText:n}=e
i(new Error("[Request] the request was aborted",{cause:{status:t,responseText:n}}))},e.onload=()=>{const{status:n,responseText:r}=e
n>=200&&n<300||304===n?this.state.set(this.state.COMPLETED).then((()=>{this.progress.done(),t(r)})):i(new Error(`[Request] server responded with status ${n}`,{cause:{status:n,responseText:r}}))},this.timeout&&(e.timeout=this.timeout),this.mimeType&&e.overrideMimeType(this.mimeType),e.upload.onprogress=r
const a=new Promise((e=>{this.state.isFrozen()||(this.state.is.PAUSED?this.on("resume",e):e())}))
a.then((()=>{this.beforeSend&&this.beforeSend(e),e.partUploadStartTime=performance.now(),e.send(this.body)}))}))}abort(){return this.state.set(this.state.CANCELLED).then((()=>{this.progress.reset(),this.request&&this.request.abort()}))}pause(){return this.state.set(this.state.PAUSED).then((()=>{this.emit("pause")}))}resume(){return this.state.set(this.state.STARTED).then((()=>{this.emit("resume")}))}reset(){return this.attempts=0,this.progress.reset(),this.state=new a,this}}class u extends d{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
if(!t.body)throw new Error("[UploadRequest] a body must be provided")
t.method=t.method||"PUT",super(e,t)}}function l(e,t){["then","catch"].forEach((n=>{e[n]=t[n].bind(t)}))}function p(e){return e&&"object"==typeof e&&!Array.isArray(e)}function f(e){return h({},e)}function h(e){if(p(e)){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r]
n.forEach((t=>{p(t)&&Object.keys(t).forEach((n=>{p(t[n])?p(e[n])?h(e[n],t[n]):e[n]=f(t[n]):e[n]=t[n]}))}))}return e}class m{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this.defaults=e,Object.freeze(this)}extend(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
return h({},this.defaults,...t)}}const g="SERVER_ERROR",y="NETWORK_ERROR",v="CLIENT_ERROR",b={SINGLE:"SINGLE",MULTIPART:"MULTIPART",MULTIPART_FORMDATA:"MULTIPART_FORMDATA"},T="CANCELLED",_="STARTED",E="UPLOAD",x="CLIENT",S=36152320,C="undefined"!=typeof window&&window&&"node"!==window.appEnvironment
function A(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0
const r=t.type
if([b.SINGLE,b.MULTIPART_FORMDATA].includes(r))return{partUploadId:e,firstByteOffset:n?0:null,lastByteOffset:n?n-1:null}
const i=t.partUploadRequests||[],a=i.find((t=>t.uploadUrl===e))||{}
return{partUploadId:e,firstByteOffset:"number"==typeof a.firstByte?a.firstByte:null,lastByteOffset:a.lastByte||null}}function k(e,t){let n=""
return t&&(n+=`[Headers]: ${t}`),e&&(n+=`[Response Text]: ${e}`),n}function I(e){let t="UNKNOWN"
return e>=500?t=g:e>=400?t=v:0===e&&(t=y),t}function R(e){switch(I(parseInt(e))){case v:return x
case g:return"SERVER"
case y:return"NETWORK"
default:return"UNKNOWN"}}function w(e,t){let n
try{n=t instanceof Error?t.toString():JSON.stringify(t)}catch(e){n=null}const r=parseInt(t.status)
return{errorPhase:e,errorType:R(r),httpErrorCode:"number"!=typeof r||Number.isNaN(r)?null:r,statusMessage:t.message||n}}function M(e){return e instanceof FormData?e.get("file")||{}:e}const O={done:s()()},N=new m({action:"/",method:"PUT",headers:{},configure:null,maxConcurrentPartsPerFile:1/0,maxRetriesPerPart:0,retryDelay:0,timeout:0})
function P(){return this.consumer.next().then((e=>{if(e)return Promise.resolve(this.configure.call(this,e,this.config)||this.config).then((t=>{const{action:n,beforeSend:r,headers:i,method:a,mimeType:o,timeout:s}=t,c=new u(n,{body:e.blob,beforeSend:r,headers:i,method:a,mimeType:o,timeout:s})
return c.on("progress",B.bind(this)),c}))}),(()=>{}))}function U(e){e.send().then(D.bind(this,e),L.bind(this,e))}function D(e){this.isTrackingEnabled&&this.uploadTracker.sendPartUploadSuccessEvent(e),this.emit("part:success",e),this.pending.delete(e),F.call(this)}function L(e,t){this.isTrackingEnabled&&this.uploadTracker.sendPartUploadFailureEvent(e),this.emit("part:error",t,e)
const n=4===Math.floor(e.request.status/100)
if(n||e.attempts>this.config.maxRetriesPerPart)this.initialFailedRequest||(this.initialFailedRequest={status:e.request.status,statusMessage:JSON.stringify({error:t.toString(),is4xx:n,numberOfRetries:e.attempts,maxRetriesPerPart:this.config.maxRetriesPerPart,responseText:e.request.responseText})}),V.call(this)
else{const t=U.bind(this,e)
setTimeout(t,this.config.retryDelay)}}function F(){this.pending.size<this.config.maxConcurrentPartsPerFile&&!this.state.isFrozen()&&P.call(this).then((e=>{e?(this.state.is.PAUSED&&e.pause(),this.results.push(e),this.pending.add(e),U.call(this,e)):this.pending.size||this.emit(O.done)}))}function B(e){this.progress.add(e.progress,e.completed),this.emit("progress",this.progress),j.call(this)}function j(){const e=this.status()
this.isTrackingEnabled&&this.uploadTracker.sendUploadInProgressEvent(e),this.emit("status",e)}function q(e){return this.state.set(e).then((()=>(this.state.is.COMPLETED&&this.progress.done(),j.call(this),this.status())))}function V(e){return q.call(this,e||this.state.FAILED).then((()=>{this.pending.forEach((e=>{e.abort(),this.pending.delete(e)})),this.emit(O.done)}))}function H(){this.state=new a,this.consumer.reset(),this.progress.reset(),this.pending.clear(),this.results=[],this.initialFailedRequest=null,l(this,G.call(this))}function G(){return new Promise(((e,t)=>{this.on(O.done,(()=>{q.call(this,this.state.COMPLETED).then((()=>{if(!this.isTrackingEnabled)return e(K(this))
const n=K(this)
return[b.SINGLE,b.MULTIPART_FORMDATA].includes(n.meta.type)?(this.uploadTracker.sendUploadCompletedEvent(),e(n)):W.call(this,n).then((()=>(this.uploadTracker.sendUploadCompletedEvent(),e(n)))).catch((e=>t(h(n,{type:"MULTIPART_COMPLETION_CALL_FAIL",errorDetails:w("FINALIZE",e)}))))})).catch((()=>{if(!this.isTrackingEnabled)return t(K(this))
const e=K(this),n="CANCELLED"===e.status.state,r=[b.SINGLE,b.MULTIPART_FORMDATA].includes(e.meta.type),i=n?{errorPhase:E,errorType:x,httpErrorCode:0,statusMessage:"The upload request was cancelled by the user"}:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
const n=parseInt(t.status)
return{errorPhase:e,errorType:R(n),httpErrorCode:n||0===n?n:null,statusMessage:t.statusMessage||null}}(E,this.initialFailedRequest||{})
let a="MULTIPART_UPLOAD_FAIL"
return r&&(a=e.meta.type===b.SINGLE?"SINGLE_UPLOAD_FAIL":"MULTIPART_FORMDATA_UPLOAD_FAIL"),n||r?t(h(e,{type:n?"USER_CANCELLED":a,errorDetails:i})):W.call(this,e).finally((()=>t(h(e,{type:a,errorDetails:i}))))}))}))}))}function K(e){return{meta:e.consumer.meta,results:e.results,status:e.status()}}function W(e){const{meta:t,results:n}=e,{mediaArtifactUrn:r,multipartMetadata:i}=t,{headers:a,timeout:o}=this.config,s=n.map((e=>{let{request:t}=e
return{headers:(n=t.getAllResponseHeaders(),n.split("\r\n").reduce(((e,t)=>{const n=t.trim(),r=n.indexOf(": ")
if(r>0){const t=n.substring(0,r),i=n.substring(r+": ".length)
e[t]=i}return e}),{})),httpStatusCode:t.status}
var n}))
return new u(t.finalizeUploadUrl,{body:JSON.stringify({completeUploadRequest:{mediaArtifactUrn:r,multipartMetadata:i,partUploadResponses:s}}),headers:a,method:"POST",timeout:o}).send().catch((e=>{throw{message:e.message||e.cause.responseText,status:e.cause.status}}))}class z extends(i()){constructor(e,t,n,r){super(),this.config=t=N.extend(t),this.configure=t.configure||function(){},this.meta=n,this.uploadTracker=r,this.results=[],this.consumer=e,this.file=e.file,this.size=e.size,this.id=e.id||s()(),this.state=new a,this.progress=new c,this.pending=new Set,this.initialFailedRequest=null,e.length===1/0&&(this.config.maxConcurrentPartsPerFile=1),this.isTrackingEnabled=this.config.enableTracking||!1,l(this,G.call(this))}start(){return q.call(this,this.state.STARTED).then((()=>{this.pending.forEach((e=>{e.resume()}))
let e=Math.min(this.consumer.length,this.config.maxConcurrentPartsPerFile)-this.pending.size
for(;e--;)F.call(this)}))}reset(){return V.call(this).then(H.bind(this),H.bind(this))}retry(){return this.state.isFrozen()?this.state.is.COMPLETED?Promise.reject(new Error("[Uploader] cannot retry an upload that completed")):this.reset().then((()=>(this.start(),this))):Promise.reject(new Error("[Uploader] cannot retry a pending upload"))}resume(){return q.call(this,this.state.STARTED).then((()=>{this.pending.forEach((e=>{e.resume()}))}))}pause(){return q.call(this,this.state.PAUSED).then((()=>{this.pending.forEach((e=>{e.pause()}))}))}cancel(){return V.call(this,this.state.CANCELLED)}toggle(){return this.state.is.PAUSED?this.resume():this.pause()}status(){return{state:this.state.get(),progress:this.progress,total:this.size}}}class $ extends(i()){constructor(e,t){super(),this.file=M(e),this.meta=t,this.partUploadStartTime=performance.now(),this.uploadSessionId=s()()}updateUploadFile(e){this.file=M(e)}updateMetadata(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this.meta=h({},this.meta,e)}_buildAndFireUploadStatusEvent(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null
const{name:a="",size:o=0,type:s=""}=this.file,c={digitalMediaArtifactUrn:this.meta.mediaArtifactUrn||null,durationSinceUploadStarted:Math.round(performance.now()-this.partUploadStartTime),mediaFileInfo:{fileName:a,size:o,contentType:s},mediaContentCreationSessionTrackingObject:{sessionTrackingId:this.uploadSessionId,useCase:this.meta.useCase||"UNKNOWN"},uploadMechanism:this.meta.type||null,uploadSessionTrackingId:this.uploadSessionId,uploadState:e,videoDuration:this.meta.videoDuration||null}
t&&n&&(c.errorPhase=t,c.errorType=n,c.httpErrorCode=r,c.statusMessage=i),this._fireTrackingEvent({eventName:"UploadStatusEvent",eventBody:c})}sendUploadRefreshedEvent(){this._buildAndFireUploadStatusEvent("REFRESHED")}sendUploadStartEvent(){this._buildAndFireUploadStatusEvent(_)}sendUploadFailedEvent(){let{errorPhase:e,errorType:t,httpErrorCode:n,statusMessage:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this._buildAndFireUploadStatusEvent("FAILED",e,t,n,r)}sendUploadInProgressEvent(e){const{active:t}=e.progress
e.state!==_||t||this._buildAndFireUploadStatusEvent("IN_PROGRESS")}sendUploadCompletedEvent(){this._buildAndFireUploadStatusEvent("COMPLETED")}sendUploadCancelledEvent(){let{errorPhase:e,errorType:t,httpErrorCode:n,statusMessage:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this._buildAndFireUploadStatusEvent(T,e,t,n,r)}sendPartUploadSuccessEvent(e){const{request:t}=e,n={digitalMediaArtifactUrn:this.meta.mediaArtifactUrn||null,partUploadMetadata:A(e.action,this.meta,this.file.size),uploadDuration:Math.round(performance.now()-t.partUploadStartTime),uploadMechanism:this.meta.type||null,uploadSessionTrackingId:this.uploadSessionId,numberOfRetries:e.attempts?e.attempts-1:0}
this._fireTrackingEvent({eventName:"PartUploadCompletedEvent",eventBody:n})}sendPartUploadFailureEvent(e){const{request:t,state:n,progress:r}=e,{responseText:i,status:a}=t,o=n.is.CANCELLED?"USER_CANCELLED":I(a),s=t.getAllResponseHeaders(),c={bytesTransferred:r.completed||0,digitalMediaArtifactUrn:this.meta.mediaArtifactUrn||null,errorType:o,partUploadMetadata:A(e.action,this.meta,this.file.size),responseBody:k(i,s),statusCode:a,uploadDuration:Math.round(performance.now()-t.partUploadStartTime),uploadMechanism:this.meta.type||null,uploadSessionTrackingId:this.uploadSessionId}
this._fireTrackingEvent({eventName:"PartUploadFailureEvent",eventBody:c})}_fireTrackingEvent(e){this.emit("tracking",e)}}const X=new m({enableTracking:!1,enableImagePreprocessing:!1,maxConcurrentFiles:1/0})
function Q(){if(this.queue.size&&this.pending.size<this.config.maxConcurrentFiles){let e
if(this.queue.forEach((t=>{e||(e=t)})),e){this.pending.add(e),this.queue.delete(e),this.state.is.STARTED&&e.start()
const t=()=>{this.delete(e)}
e.then(t,t)}}}function Y(e){this.queue.add(e),Q.call(this)}class J extends(i()){constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
if("function"!=typeof e.consume)throw new Error("[UploadManager] a consume() function is required")
super(),this.consume=e.consume,this.config=X.extend(e),this.pending=new Set,this.queue=new Set,this.state=new a}addFiles(e){const t=function(e){return Array.isArray(e)?e.reduce(((e,t,n)=>{let{file:r,meta:i}=t
return r||e.push(`error at fileInfo index ${n}: upload 'file' required`),i&&i.useCase||e.push(`error at fileInfo index ${n}: upload 'useCase' required`),e}),[]).join(", "):"addFiles only accepts array"}(e)
if(t)return Promise.reject({message:t,type:"INVALID_FILE_INFO"})
const n=e.map((e=>{let{file:t,meta:n,uploadCallback:r}=e
return this.add(t,n,r)}))
return Promise.all(n.map((e=>e.then((e=>({state:"fulfilled",value:e}))).catch((e=>({state:"rejected",reason:e})))))).then((e=>{const t=e.filter((e=>"fulfilled"===e.state)),n=e.filter((e=>"rejected"===e.state))
if(n.length)throw n.map((e=>e.reason))
return t.map((e=>e.value[0]))}))}add(e,t,n){e=e&&("length"in e?Array.from(e):[e])||[],t=t||{}
const r=e.filter(Boolean).map((e=>{if(!this.config.enableTracking){const r=this.consume.call(this,e,t)
return Promise.resolve(r).then((()=>{const e=new z(r,this.config,t)
return"function"==typeof n&&n(e),this.emit("upload",e),Y.call(this,e),e}))}return this._addWithTracking(e,t,n)}))
return Promise.all(r)}_addWithTracking(e,t,n){let r
const i=this._createAndStartUploadTracker(e,t)
return function(e){return new Promise((t=>{const n={}
if(!C||!/^video\//.test(e.type))return t(n)
const r=document.createElement("video")
r.preload="metadata",r.addEventListener("loadedmetadata",(()=>(n.videoDuration=Math.round(1e3*r.duration),t(n)))),r.addEventListener("error",(e=>t(n))),r.src=window.URL.createObjectURL(e)}))}(e).then((t=>this.config.enableImagePreprocessing?function(e){return C&&/^image\//.test(e.type)?new Promise((t=>{const n=window.URL.createObjectURL(e),r=document.createElement("img")
r.onload=n=>{const{naturalHeight:r,naturalWidth:i}=n.target
if(r*i<S)return t(e)
const{height:a,width:o}=function(e,t){const n=Math.sqrt(S/(t*e)),r=Math.floor(1e3*n)/1e3
return{height:Math.floor(t*r),width:Math.floor(e*r)}}(i,r)
return function(e,t,n,r){const i=M(r)
return new Promise((r=>{const a=document.createElement("canvas")
a.width=t,a.height=n,a.getContext("2d").drawImage(e,0,0,a.width,a.height),a.toBlob((e=>(e.name=i.name||"",r(e))),i.type)}))}(n.target,o,a,e).then((e=>t(e)))},r.onerror=()=>t(e),r.src=n})):Promise.resolve(e)}(e).then((e=>(i.updateUploadFile(e),{fileMetadata:t,fileToUpload:e}))):Promise.resolve({fileMetadata:t,fileToUpload:e}))).then((e=>{let{fileMetadata:n,fileToUpload:i}=e
return t=h({},t,n),r=this.consume.call(this,i,t),Promise.resolve(r).catch((e=>{throw h(e,{errorDetails:w("REGISTRATION",e)})}))})).then((()=>{const e=h({},t,r.meta)
return this._validateUploadMetadata(e),i.updateMetadata(e),this._createAndEnqueueUploader(r,e,i,n)})).catch((e=>{throw e&&e.status&&e.status.state===T?i.sendUploadCancelledEvent(e.errorDetails):i.sendUploadFailedEvent(e&&e.errorDetails),e}))}_createAndStartUploadTracker(e,t){const n=new $(e,t)
return n.on("tracking",(e=>{this.emit("tracking",e)})),t.isRetry&&n.sendUploadRefreshedEvent(),n.sendUploadStartEvent(),n}_validateUploadMetadata(e){let{type:t,finalizeUploadUrl:n}=e
if(![b.SINGLE,b.MULTIPART_FORMDATA].includes(t)&&!n){const e=`Upload Mechanism: ${t} requires a valid finalizeUploadUrl to be passed`
throw{errorDetails:{errorPhase:E,errorType:x,httpErrorCode:null,statusMessage:e},message:e,type:"INVALID_METADATA"}}}_createAndEnqueueUploader(e,t,n,r){const i=new z(e,this.config,t,n)
return"function"==typeof r&&r(i),this.emit("upload",i),Y.call(this,i),i}delete(e){this.pending.delete(e),this.queue.delete(e),Q.call(this)}start(){return this.state.set(this.state.STARTED).then((()=>{this.pending.forEach((e=>{e.start()}))}))}resume(){return this.start()}pause(){this.state.set(this.state.PAUSED).then((()=>{this.pending.forEach((e=>{e.pause()}))}))}cancel(){return this.state.set(this.state.STARTED).then((()=>{this.queue.clear(),this.pending.forEach((e=>{this.pending.delete(e),e.cancel()}))}))}toggle(){this.state.is.PAUSED?this.resume():this.pause()}}class Z{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0
this.id=t.id||s()(),this.file=e,this.size=e.size,this.meta=n,this.length=1/0}next(){throw new Error("[AbstractConsumer] Consumer must implement #next() method")}reset(){throw new Error("[AbstractConsumer] Consumer must implement #reset() method")}}class ee{constructor(e,t,n,r){this.file=n,this.blob=e,this.index=t,this.id=s()(),this.meta=r}}class te extends Z{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0
if(!t.getUploadMetaData)throw new Error("a getUploadMetaData() function is required")
super(e,t,n),this.length=1/0,this.getUploadMetaData=()=>t.getUploadMetaData(e,n),this.reset()}next(){return this.then((()=>{if(this.index++,this.index>=this.length)return Promise.reject()
switch(this.meta.type){case"SINGLE":case"MULTIPART_FORMDATA":return Promise.resolve(new ee(this.file,0,this.file,this.meta))
case"MULTIPART":const{partUploadRequests:e}=this.meta,t=e[this.index]
if(!t)return Promise.reject()
const n=this.file.slice(t.firstByte,t.lastByte+1,this.file.type)
return Promise.resolve(new ee(n,this.index,this.file,t))
default:return Promise.reject(new Error(`TODO: unknown upload type '${this.meta.type}'`))}}))}reset(){return this.index=-1,this.meta={},l(this,this.getUploadMetaData().then((e=>{this.meta=e,this.length=e.partUploadRequests?e.partUploadRequests.length:1}))),this}}const ne={headers:{},mimeType:"text/plain",getUploadMetaData(){}}
class re extends J{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
e=h({},ne,e,{consume:(t,n)=>new te(t,{headers:e.headers,getUploadMetaData:e.getUploadMetaData},n),configure(e){const{meta:t}=this.consumer,{type:n}=t,r=e=>h({},this.config,e)
if("SINGLE"===n||"MULTIPART_FORMDATA"===n){const{singleUploadUrl:e,singleUploadHeaders:n}=t
return r({action:e,headers:n})}if("MULTIPART"===n){const{headers:t,uploadUrl:n}=e.meta
return r({action:n,headers:t})}throw new Error(`TODO: unknown type '${n}'`)}}),super(e)}}},61810:(e,t,n)=>{"use strict"
n.r(t),n.d(t,{ConversationsIterable:()=>cn,MDError:()=>Tt,Mailbox:()=>il,MailboxConnection:()=>ol,apiErrors:()=>ft,clearStateForTesting:()=>Zt,clientErrors:()=>ht,connectToMailbox:()=>sl,conversationStateIdentifierIs:()=>Rt,conversationStateUrnIs:()=>kt,getCommonTimeClient:()=>Q,getConversationById:()=>rd,getConvoStateFromMessageUrn:()=>Ye,getRealtimeConnectionHeaders:()=>_u,getRealtimeQueryMap:()=>Tu,getSyncMessagesByConversationId:()=>ad,graphQlErrors:()=>mt,hasMessageData:()=>Pt,initialSyncConversations:()=>od,isAString:()=>ot,isClientId:()=>We,isCommonTimeAPIError:()=>bt,isContentUpdateMode:()=>nt,isConversationCategory:()=>st,isConversationUrn:()=>ze,isConvoActivationOption:()=>tt,isError:()=>yt,isForwardedMessageContent:()=>it,isIdentifier:()=>Xe,isInputMailboxFilter:()=>pt,isMDError:()=>vt,isMailboxCategoryFilter:()=>lt,isMarkConvoReadTypes:()=>et,isMemberParticipant:()=>Qe,isNextFunction:()=>Je,isOptionalSendData:()=>dt,isSavedConversationState:()=>Ke,isSelectorFilterOption:()=>ct,isSubscriber:()=>Ze,isTextFragment:()=>at,isTrackingData:()=>ut,isUrn:()=>$e,isUrnUpdateMap:()=>rt,messageStateClientIdIs:()=>Nt,realtimeErrors:()=>gt,rejectAsMDResponseError:()=>_t,sendConversationUpdate:()=>hd,sendMessageToConversation:()=>gd})
const r=(i=()=>!0,e=>e.then(i).catch(i))
var i
const a=e=>t=>{return(n=t,Object.keys(n)).reduce(((n,r)=>e(t,r)?n:{...n,[r]:t[r]}),{})
var n},o=(a(((e,t)=>(e=>null==e)(e[t]))),a(((e,t)=>void 0===e[t])))
var s=n(14446)
function c(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var n=e[Symbol.toPrimitive]
if(void 0!==n){var r=n.call(e,"string")
if("object"!=typeof r)return r
throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e)
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l="4.2.2",p=function(){new Date
for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]},f=()=>"undefined"!=typeof window&&window&&"node"!==window.appEnvironment,h=(e,t)=>{throw t}
let m=((y={}).invalid="com.linkedin.realtimefrontend.Invalid",y.clientConnection="com.linkedin.realtimefrontend.ClientConnection",y.heartbeat="com.linkedin.realtimefrontend.Heartbeat",y.decoratedEvent="com.linkedin.realtimefrontend.DecoratedEvent",y),g=function(e){return e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSE=2]="CLOSE",e}({})
var y
const v=/^(\/[^?]+)\??(.*)$/,b=/[,()':]/g,T=/[,()':]/
function _(e){const t=JSON.parse(JSON.stringify(e))
return function(e,t){if("object"!=typeof e)throw new Error("You must pass either an array or an object to the encode function.")}(t),x(t,!1)}function E(e){const t=JSON.parse(JSON.stringify(e))
return function(e,t){if(Array.isArray(e)||"object"!=typeof e||null===e)throw new Error("You must pass an object to the paramEncode function. Use arrayParamEncode.")}(t),Object.keys(t).map((e=>`${S(e)}=${x(t[e],!1)}`)).join("&")}function x(e,t){return Array.isArray(e)?function(e,t){const n=new Array(e.length)
for(let r=0;r<e.length;r++)n[r]=x(e[r],t)
return`List(${n.join(",")})`}(e,t):function(e){return"object"==typeof e&&null!==e}(e)?function(e,t){return`(${Object.keys(e).map((n=>`${S(n,t)}:${x(e[n],t)}`)).join(",")})`}(e,t):S(e,t)}function S(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
return""===e?"''":t&&"string"==typeof e&&T.test(e)?e.replace(b,escape):t?e:encodeURIComponent(e).replace(b,escape)}const C="application/x-www-form-urlencoded"
var A="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}
function k(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var I=k({exports:{}}.exports=function(){var e=new RegExp("urn:[^:]+:([a-z]\\w*)(?::(.+))?"),t=/^fs_/
function n(n){if("string"!=typeof n)throw new TypeError("URNs must be of type string, but the parameter passed to extractEntityInfoFromUrn was of type "+typeof n+".")
var r,i,a=e.exec(n)
return a&&(r=a[1].replace(t,""),i=a[2]),{id:i,type:r}}var r=/(?![^(]*\)),/
return{checkForEntityId:function(t){var n=e.exec(t)
return n?n[2]:t},extractEntityInfoFromUrn:n,urnToObject:function e(t){var i=n(t),a=i.id,o=i.type,s={}
if("("===a.charAt(0)){for(var c,d=a.substring(1,a.length-1).split(r),u=0;c=d[u];++u)0===c.indexOf("urn")&&(d[u]=e(c))
a=d}return s[o]=a,s}}}())
function R(e){return void 0!==e.error&&null!==e.error}const w=(e,t,n)=>n.indexOf(e)===t,M=e=>t=>!e.includes(t),O=e=>Object.fromEntries?Object.fromEntries(e):[...e].reduce(((e,t)=>{let[n,r]=t
return e[n]=r,e}),{}),N=e=>Object.keys(e),P=(e,t,n)=>null!=e?Math.max(n,e):t,U=(e,t)=>`${e}${e.endsWith("/")||t.startsWith("/")?"":"/"}${t}`,D=e=>5===Math.floor(e/100),L=(e,t,n,r,i)=>{let a,o
return i?(a=r.map((t=>({clientConnectionId:e,topic:t}))),o=O(a.map((e=>[_(e),{authToken:i}])))):(a=r.map((t=>({clientConnectionId:e,topic:t}))),o=O(a.map((e=>[_(e),{}])))),{method:"PUT",url:`${s=t,U(s,"realtime/realtimeFrontendSubscriptions")}?${E({ids:a})}`,body:{entities:o},headers:n}
var s},F=(e,t,n,r,i,a,o)=>{let s={isFirstHeartbeat:"FIRST_BEAT"===r,isLastHeartbeat:"FINAL_BEAT"===r,realtimeSessionId:e,mpName:i.name,mpVersion:i.version,clientId:i.clientId}
if(o&&a){const e={actorUrn:o,contextUrns:a}
s=d(d({},s),e)}var c
return{method:"POST",url:`${c=t,U(c,"realtime/realtimeFrontendClientConnectivityTracking")}?${E({action:"sendHeartbeat"})}`,body:s,headers:n}}
class B{constructor(e,t,n){var r=this
u(this,"_endpoint",void 0),u(this,"_connectionId",void 0),u(this,"_requestHeaders",void 0),u(this,"_serverClockTimeDiff",0),u(this,"_lastTimeClockSynced",0),u(this,"_recentServerClockTimeDiffs",[]),u(this,"_mpName",void 0),u(this,"_mpVersion",void 0),u(this,"_clientId",void 0),u(this,"parseResponse",((e,t)=>{const n=e.errors??{},r=Object.keys(n).filter((t=>!D(e.errors[t].status))),i=Object.keys(n).filter((t=>D(e.errors[t].status)))
return[t.filter((e=>!r.includes(e)&&!i.includes(e))),r,i,e.errors]})),u(this,"apiCallSubscribe",((e,t)=>this.connectionId?this.sendRequest(L(this.connectionId,this._endpoint,this._requestHeaders,e,t)):Promise.reject({status:900,message:"API: subscribe cannot be performed because of missing connectionID"}))),u(this,"apiCallUnsubscribe",(e=>null===this.connectionId?Promise.reject({status:900,message:"API: unsubscribe cannot be performed because of missing connectionID"}):this.sendRequest(((e,t,n,r)=>d(d({},L(e,t,n,r)),{},{method:"DELETE"}))(this.connectionId,this._endpoint,this._requestHeaders,e)))),u(this,"apiCallClockSync",(()=>this.sendRequest(((e,t)=>{return{method:"GET",url:`${n=e,U(n,"realtime/realtimeFrontendTimestamp")}`,body:[],headers:t}
var n})(this._endpoint,this._requestHeaders)))),u(this,"apiCallConnectivityTrack",(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0
return r.sendRequest(F(e,r._endpoint,r._requestHeaders,t,{name:r._mpName,version:r._mpVersion,clientId:r._clientId},n,i))})),this._endpoint=e,this._connectionId=null,this._requestHeaders=t,this._mpName=n.name,this._mpVersion=n.version,this._clientId=n.id}get connectionId(){return this._connectionId}setConnectionId(e){e&&e.length>0&&(this._connectionId=e)}setSessionId(e){this._requestHeaders["x-li-realtime-session"]=e}setMpInfo(e){this._mpName=e.name,this._mpVersion=e.version,this._clientId=e.id}disconnect(){this._connectionId=null}subscribe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0
return new Promise(((r,i)=>{null!==this.connectionId?this.apiCallSubscribe(e,t).then((t=>{r(this.parseResponse(t,e))})).catch((a=>{const{status:o}=a
412!==o&&D(o)&&n<2?this.subscribe(e,t,n+1).then(r):i(a)})):i(new Error("RealtimeAPI: error - missing connectionID"))}))}unsubscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0
return new Promise(((n,r)=>{null!==this.connectionId?this.apiCallUnsubscribe(e).then((t=>{const r=this.parseResponse(t,e)
n(r)})).catch((i=>{const{status:a}=i
412!==a&&D(a)&&t<2?this.unsubscribe(e,t+1).then(n).catch(r):r(i)})):r(new Error("RealtimeAPI: error - missing connectionID"))}))}getTimestamp(){return this.apiCallClockSync()}trackActiveConnection(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ALIVE",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0
return this.apiCallConnectivityTrack(e,t,n,r).catch((e=>{if("FINAL_BEAT"!==t)return console.warn("Realtime: session heartbeat failed",e),{type:"WARNING_INFO",message:"Realtime: session heartbeat failed"}}))}syncRealtimeServerClockTime(){const e=Date.now()
if(!(e-this._lastTimeClockSynced<86e4))return this._lastTimeClockSynced=e,this.getTimestamp().then((t=>{const n=Date.now()
this._recentServerClockTimeDiffs=this._recentServerClockTimeDiffs.filter((e=>n-e.syncedAt<36e5))
let r=n-e
0===r&&(r=1),this._recentServerClockTimeDiffs.push({syncedAt:n,clockDiff:t.timestamp-(e+n)/2,weight:1/r}),this._serverClockTimeDiff=this._computeWeightedAverageOfServerClockTimeDiff(this._recentServerClockTimeDiffs)}))}getServerClockTime(){return this._serverClockTimeDiff?Date.now()+this._serverClockTimeDiff:-1}_computeWeightedAverageOfServerClockTimeDiff(e){let t=0,n=0
for(const r of e){const{clockDiff:e,weight:i}=r
t+=i*e,n+=i}return Math.round(t/n)}sendRequest(e){return new Promise(((t,n)=>{let r=d({},e)
const i=d({},e.headers)
r.body&&(r.body=JSON.stringify(r.body))
const a=new XMLHttpRequest
a.open(r.method,r.url),Object.entries(i).forEach((e=>{let[t,n]=e
return a.setRequestHeader(t,n)})),a.onerror=e=>{n({status:a.status,message:e.message||"Realtime: request failed"})},r.url.length>1e3&&(r.forceQueryTunnel=!0,r=function(e){if(!0===e.forceQueryTunnel){const{path:t,queryString:n}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""
const t=v.exec(e)
if(t){const[,e="",n=""]=t
return{path:e,queryString:n}}return{path:"",queryString:""}}(e.url||void 0)
if(n){const r={}
for(const t in e.headers)"CONTENT-TYPE"!==t.toUpperCase()&&(r[t]=e.headers[t]||"")
let i,a
if(r["X-HTTP-Method-Override"]=e.method||"GET",e.body){const t=`RESTLI_${Date.now()}`
a="multipart/mixed; boundary="+t,i=["--"+t,"Content-Type: "+C,"",n,"--"+t,"Content-Type: application/json","",e.body,"--"+t+"--"].join("\r\n")}else a=C,i=n
return r["Content-Type"]=a,{body:i,headers:r,method:"POST",url:t}}}const t={method:e.method,url:e.url}
return e.body&&(t.body=e.body),t}(r)),a.onreadystatechange=()=>{const{status:e}=a
if(a.readyState===a.DONE)if(e>=200&&e<300)try{t(a.responseText?JSON.parse(a.responseText):null)}catch(t){n({status:e,message:"Realtime: Invalid JSON in API response"})}else n({status:e??500,message:"Realtime: API Server Error"})},a.withCredentials=!0,a.send(r.body)}))}}class j{constructor(e){u(this,"_timer",0),u(this,"_taskFunction",void 0),this._taskFunction=e}start(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0
this._timer&&this.cancel(),this.schedule(this._taskFunction,e)}cancel(){this._timer&&(clearTimeout(this._timer),this._timer=0)}schedule(e,t){this._timer=setTimeout((()=>{e((n=>this.schedule(e,n||t)))}),t)}}const q=()=>(0,s.generateRfc4122UUID)()
class V{constructor(e){u(this,"fireEventTracking",void 0),this.fireEventTracking=e}fireRealtimeTracking(e,t){const{topic:n,publisherTrackingId:r,trackingId:i,id:a,receivedTime:o}=t,s={publisherTrackingId:r,realtimeEventId:a,realtimeTrackingId:i,topicUrn:n,receivedTime:o}
this.fireEventTracking(e,s)}}var H,G,K={exports:{}}
H=K,G=K.exports,function(e){var t=e.setTimeout,n=e.clearTimeout,r=e.XMLHttpRequest,i=e.XDomainRequest,a=e.ActiveXObject,o=e.EventSource,s=e.document,c=e.Promise,d=e.fetch,u=e.Response,l=e.TextDecoder,p=e.TextEncoder,f=e.AbortController
if("undefined"==typeof window||void 0===s||"readyState"in s||null!=s.body||(s.readyState="loading",window.addEventListener("load",(function(e){s.readyState="complete"}),!1)),null==r&&null!=a&&(r=function(){return new a("Microsoft.XMLHTTP")}),null==Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),Date.now||(Date.now=function(){return(new Date).getTime()}),null==f){var h=d
d=function(e,t){var n=t.signal
return h(e,{headers:t.headers,credentials:t.credentials,cache:t.cache}).then((function(e){var t=e.body.getReader()
return n._reader=t,n._aborted&&n._reader.cancel(),{status:e.status,statusText:e.statusText,headers:e.headers,body:{getReader:function(){return t}}}}))},f=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){null!=this.signal._reader&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function m(){this.bitsNeeded=0,this.codePoint=0}m.prototype.decode=function(e){function t(e,t,n){if(1===n)return e>=128>>t&&e<<t<=2047
if(2===n)return e>=2048>>t&&e<<t<=55295||e>=57344>>t&&e<<t<=65535
if(3===n)return e>=65536>>t&&e<<t<=1114111
throw new Error}function n(e,t){if(6===e)return t>>6>15?3:t>31?2:1
if(12===e)return t>15?3:2
if(18===e)return 3
throw new Error}for(var r=65533,i="",a=this.bitsNeeded,o=this.codePoint,s=0;s<e.length;s+=1){var c=e[s]
0!==a&&(c<128||c>191||!t(o<<6|63&c,a-6,n(a,o)))&&(a=0,o=r,i+=String.fromCharCode(o)),0===a?(c>=0&&c<=127?(a=0,o=c):c>=192&&c<=223?(a=6,o=31&c):c>=224&&c<=239?(a=12,o=15&c):c>=240&&c<=247?(a=18,o=7&c):(a=0,o=r),0===a||t(o,a,n(a,o))||(a=0,o=r)):(a-=6,o=o<<6|63&c),0===a&&(o<=65535?i+=String.fromCharCode(o):(i+=String.fromCharCode(55296+(o-65535-1>>10)),i+=String.fromCharCode(56320+(o-65535-1&1023))))}return this.bitsNeeded=a,this.codePoint=o,i},null!=l&&null!=p&&function(){try{return"test"===(new l).decode((new p).encode("test"),{stream:!0})}catch(e){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+e)}return!1}()||(l=m)
var g=function(){}
function y(e){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=g,this.onload=g,this.onerror=g,this.onreadystatechange=g,this._contentType="",this._xhr=e,this._sendTimeout=0,this._abort=g}function v(e){return e.replace(/[A-Z]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)+32)}))}function b(e){for(var t=Object.create(null),n=e.split("\r\n"),r=0;r<n.length;r+=1){var i=n[r].split(": "),a=i.shift(),o=i.join(": ")
t[v(a)]=o}this._map=t}function T(){}function _(e){this._headers=e}function E(){}function x(){this._listeners=Object.create(null)}function S(e){t((function(){throw e}),0)}function C(e){this.type=e,this.target=void 0}function A(e,t){C.call(this,e),this.data=t.data,this.lastEventId=t.lastEventId}function k(e,t){C.call(this,e),this.status=t.status,this.statusText=t.statusText,this.headers=t.headers}function I(e,t){C.call(this,e),this.error=t.error}y.prototype.open=function(e,i){this._abort(!0)
var a=this,o=this._xhr,s=1,c=0
this._abort=function(e){0!==a._sendTimeout&&(n(a._sendTimeout),a._sendTimeout=0),1!==s&&2!==s&&3!==s||(s=4,o.onload=g,o.onerror=g,o.onabort=g,o.onprogress=g,o.onreadystatechange=g,o.abort(),0!==c&&(n(c),c=0),e||(a.readyState=4,a.onabort(null),a.onreadystatechange())),s=0}
var d=function(){if(1===s){var e=0,t="",n=void 0
if("contentType"in o)e=200,t="OK",n=o.contentType
else try{e=o.status,t=o.statusText,n=o.getResponseHeader("Content-Type")}catch(r){e=0,t="",n=void 0}0!==e&&(s=2,a.readyState=2,a.status=e,a.statusText=t,a._contentType=n,a.onreadystatechange())}},u=function(){if(d(),2===s||3===s){s=3
var e=""
try{e=o.responseText}catch(e){}a.readyState=3,a.responseText=e,a.onprogress()}},l=function(e,t){if(null!=t&&null!=t.preventDefault||(t={preventDefault:g}),u(),1===s||2===s||3===s){if(s=4,0!==c&&(n(c),c=0),a.readyState=4,"load"===e)a.onload(t)
else if("error"===e)a.onerror(t)
else{if("abort"!==e)throw new TypeError
a.onabort(t)}a.onreadystatechange()}},p=function(){c=t((function(){p()}),500),3===o.readyState&&u()}
"onload"in o&&(o.onload=function(e){l("load",e)}),"onerror"in o&&(o.onerror=function(e){l("error",e)}),"onabort"in o&&(o.onabort=function(e){l("abort",e)}),"onprogress"in o&&(o.onprogress=u),"onreadystatechange"in o&&(o.onreadystatechange=function(e){!function(e){null!=o&&(4===o.readyState?"onload"in o&&"onerror"in o&&"onabort"in o||l(""===o.responseText?"error":"load",e):3===o.readyState?"onprogress"in o||u():2===o.readyState&&d())}(e)}),!("contentType"in o)&&"ontimeout"in r.prototype||(i+=(-1===i.indexOf("?")?"?":"&")+"padding=true"),o.open(e,i,!0),"readyState"in o&&(c=t((function(){p()}),0))},y.prototype.abort=function(){this._abort(!1)},y.prototype.getResponseHeader=function(e){return this._contentType},y.prototype.setRequestHeader=function(e,t){var n=this._xhr
"setRequestHeader"in n&&n.setRequestHeader(e,t)},y.prototype.getAllResponseHeaders=function(){return null!=this._xhr.getAllResponseHeaders&&this._xhr.getAllResponseHeaders()||""},y.prototype.send=function(){if("ontimeout"in r.prototype&&("sendAsBinary"in r.prototype||"mozAnon"in r.prototype)||null==s||null==s.readyState||"complete"===s.readyState){var e=this._xhr
"withCredentials"in e&&(e.withCredentials=this.withCredentials)
try{e.send(void 0)}catch(e){throw e}}else{var n=this
n._sendTimeout=t((function(){n._sendTimeout=0,n.send()}),4)}},b.prototype.get=function(e){return this._map[v(e)]},null!=r&&null==r.HEADERS_RECEIVED&&(r.HEADERS_RECEIVED=2),T.prototype.open=function(e,t,n,i,a,o,s){e.open("GET",a)
var c=0
for(var d in e.onprogress=function(){var t=e.responseText.slice(c)
c+=t.length,n(t)},e.onerror=function(e){e.preventDefault(),i(new Error("NetworkError"))},e.onload=function(){i(null)},e.onabort=function(){i(null)},e.onreadystatechange=function(){if(e.readyState===r.HEADERS_RECEIVED){var n=e.status,i=e.statusText,a=e.getResponseHeader("Content-Type"),o=e.getAllResponseHeaders()
t(n,i,a,new b(o))}},e.withCredentials=o,s)Object.prototype.hasOwnProperty.call(s,d)&&e.setRequestHeader(d,s[d])
return e.send(),e},_.prototype.get=function(e){return this._headers.get(e)},E.prototype.open=function(e,t,n,r,i,a,o){var s=null,u=new f,p=u.signal,h=new l
return d(i,{headers:o,credentials:a?"include":"same-origin",signal:p,cache:"no-store"}).then((function(e){return s=e.body.getReader(),t(e.status,e.statusText,e.headers.get("Content-Type"),new _(e.headers)),new c((function(e,t){var r=function(){s.read().then((function(t){if(t.done)e(void 0)
else{var i=h.decode(t.value,{stream:!0})
n(i),r()}})).catch((function(e){t(e)}))}
r()}))})).catch((function(e){return"AbortError"===e.name?void 0:e})).then((function(e){r(e)})),{abort:function(){null!=s&&s.cancel(),u.abort()}}},x.prototype.dispatchEvent=function(e){e.target=this
var t=this._listeners[e.type]
if(null!=t)for(var n=t.length,r=0;r<n;r+=1){var i=t[r]
try{"function"==typeof i.handleEvent?i.handleEvent(e):i.call(this,e)}catch(e){S(e)}}},x.prototype.addEventListener=function(e,t){e=String(e)
var n=this._listeners,r=n[e]
null==r&&(r=[],n[e]=r)
for(var i=!1,a=0;a<r.length;a+=1)r[a]===t&&(i=!0)
i||r.push(t)},x.prototype.removeEventListener=function(e,t){e=String(e)
var n=this._listeners,r=n[e]
if(null!=r){for(var i=[],a=0;a<r.length;a+=1)r[a]!==t&&i.push(r[a])
0===i.length?delete n[e]:n[e]=i}},A.prototype=Object.create(C.prototype),k.prototype=Object.create(C.prototype),I.prototype=Object.create(C.prototype)
var R=/^text\/event\-stream(;.*)?$/i,w=function(e,t){var n=null==e?t:parseInt(e,10)
return n!=n&&(n=t),M(n)},M=function(e){return Math.min(Math.max(e,1e3),18e6)},O=function(e,t,n){try{"function"==typeof t&&t.call(e,n)}catch(e){S(e)}}
function N(e,a){x.call(this),a=a||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,function(e,a,o){a=String(a)
var s=Boolean(o.withCredentials),c=o.lastEventIdQueryParameterName||"lastEventId",d=M(1e3),u=w(o.heartbeatTimeout,45e3),l="",p=d,f=!1,h=0,m=o.headers||{},g=o.Transport,v=P&&null==g?void 0:new y(null!=g?new g:null!=r&&"withCredentials"in r.prototype||null==i?new r:new i),b=null!=g&&"string"!=typeof g?new g:null==v?new E:new T,_=void 0,x=0,S=-1,C="",N="",U="",D="",L=0,F=0,B=0,j=function(t,n,r,i){if(0===S)if(200===t&&null!=r&&R.test(r)){S=1,f=Date.now(),p=d,e.readyState=1
var a=new k("open",{status:t,statusText:n,headers:i})
e.dispatchEvent(a),O(e,e.onopen,a)}else{var o=""
200!==t?(n&&(n=n.replace(/\s+/g," ")),o="EventSource's response has a status "+t+" "+n+" that is not 200. Aborting the connection."):o="EventSource's response has a Content-Type specifying an unsupported type: "+(null==r?"-":r.replace(/\s+/g," "))+". Aborting the connection.",H(),a=new k("error",{status:t,statusText:n,headers:i}),e.dispatchEvent(a),O(e,e.onerror,a),console.error(o)}},q=function(r){if(1===S){for(var i=-1,a=0;a<r.length;a+=1)(c=r.charCodeAt(a))!=="\n".charCodeAt(0)&&c!=="\r".charCodeAt(0)||(i=a)
var o=(-1!==i?D:"")+r.slice(0,i+1)
D=(-1===i?D:"")+r.slice(i+1),""!==r&&(f=Date.now(),h+=r.length)
for(var s=0;s<o.length;s+=1){var c=o.charCodeAt(s)
if(-1===L&&c==="\n".charCodeAt(0))L=0
else if(-1===L&&(L=0),c==="\r".charCodeAt(0)||c==="\n".charCodeAt(0)){if(0!==L){1===L&&(B=s+1)
var m=o.slice(F,B-1),g=o.slice(B+(B<s&&o.charCodeAt(B)===" ".charCodeAt(0)?1:0),s)
"data"===m?(C+="\n",C+=g):"id"===m?N=g:"event"===m?U=g:"retry"===m?(d=w(g,d),p=d):"heartbeatTimeout"===m&&(u=w(g,u),0!==x&&(n(x),x=t((function(){G()}),u)))}if(0===L){if(""!==C){l=N,""===U&&(U="message")
var y=new A(U,{data:C.slice(1),lastEventId:N})
if(e.dispatchEvent(y),"open"===U?O(e,e.onopen,y):"message"===U?O(e,e.onmessage,y):"error"===U&&O(e,e.onerror,y),2===S)return}C="",U=""}L=c==="\r".charCodeAt(0)?-1:0}else 0===L&&(F=s,L=1),1===L?c===":".charCodeAt(0)&&(B=s+1,L=2):2===L&&(L=3)}}},V=function(r){if(1===S||0===S){S=-1,0!==x&&(n(x),x=0),x=t((function(){G()}),p),p=M(Math.min(16*d,2*p)),e.readyState=0
var i=new I("error",{error:r})
e.dispatchEvent(i),O(e,e.onerror,i),null!=r&&console.error(r)}},H=function(){S=2,null!=_&&(_.abort(),_=void 0),0!==x&&(n(x),x=0),e.readyState=2},G=function(){if(x=0,-1===S){f=!1,h=0,x=t((function(){G()}),u),S=0,C="",U="",N=l,D="",F=0,B=0,L=0
var n=a
if("data:"!==a.slice(0,5)&&"blob:"!==a.slice(0,5)&&""!==l){var r=a.indexOf("?")
n=-1===r?a:a.slice(0,r+1)+a.slice(r+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,(function(e,t){return t===c?"":e})),n+=(-1===a.indexOf("?")?"?":"&")+c+"="+encodeURIComponent(l)}var i=e.withCredentials,o={Accept:"text/event-stream"},s=e.headers
if(null!=s)for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(o[d]=s[d])
try{_=b.open(v,j,q,V,n,i,o)}catch(e){throw H(),e}}else if(f||null==_){var p=Math.max((f||Date.now())+u-Date.now(),1)
f=!1,x=t((function(){G()}),p)}else V(new Error("No activity within "+u+" milliseconds. "+(0===S?"No response received.":h+" chars received.")+" Reconnecting.")),null!=_&&(_.abort(),_=void 0)}
e.url=a,e.readyState=0,e.withCredentials=s,e.headers=m,e._close=H,G()}(this,e,a)}var P=null!=d&&null!=u&&"body"in u.prototype
N.prototype=Object.create(x.prototype),N.prototype.CONNECTING=0,N.prototype.OPEN=1,N.prototype.CLOSED=2,N.prototype.close=function(){this._close()},N.CONNECTING=0,N.OPEN=1,N.CLOSED=2,N.prototype.withCredentials=void 0
var U,D=o
null==r||null!=o&&"withCredentials"in o.prototype||(D=N),U=function(e){e.EventSourcePolyfill=N,e.NativeEventSource=o,e.EventSource=D}(G),void 0!==U&&(H.exports=U)}("undefined"==typeof globalThis?"undefined"!=typeof window?window:"undefined"!=typeof self?self:A:globalThis)
var W=k(K.exports)
const z={domain:"",mpInfo:{name:"common-time",version:l,id:"common-time"},detectMissedHeartbeat:!0,heartbeatPollInterval:15e3,heartbeatGapThreshold:3e4,reconnectGapThreshold:3e4,sessionHeartbeat:3e5,coverageGap:18e4,acceptableErrorCount:2,alertChannelErrors:!1,maxRetryCount:2,connectHeaders:{},urlQueryParams:"?rc=1",enableCustomRetry:!1,contextUrns:[]},$=f()?window.EventSource:void 0
class X{static getOrUpdateClient(e){return X.singleton?X.singleton.updateOptions(e):X.create(e),X.singleton}static create(e){if(p("Version",l),!f())throw new Error("common-time client can only be used in a browser environment\n\nFor more information please reference https://go/github%20multiproduct/common-time#user-content-node-compatibility")
const t=e.eventSource??W.EventSourcePolyfill
if("undefined"!=typeof globalThis?globalThis.EventSource=t:window.EventSource=t,!(Object.keys(e).length>0&&e.mpInfo))throw new Error(`Unable to create common-time client - mailbox 'options' is empty or missing required data: ${JSON.stringify({options:e})}`)
return function(e){const t=[]
if(!e||!Object.keys(e).length)throw new Error(`Required header ${e} not supplied: }`)
if("x-li-track"in e||t.push("x-li-track"),"x-li-query-map"in e&&!("x-li-query-accept"in e)&&t.push("x-li-query-accept"),"x-li-recipe-map"in e&&!("x-li-recipe-accept"in e)&&t.push("x-li-recipe-accept"),"x-li-query-map"in e&&"x-li-recipe-map"in e){const n=JSON.parse(e["x-li-query-map"]).topicToGraphQLQueryParams,r=((e,t)=>{const n=Object.keys(e),r=Object.keys(t),i=new Set(n),a=new Set(r)
return[...i].filter((e=>a.has(e)))})(JSON.parse(e["x-li-recipe-map"]),n)
r.length>0&&t.push(`x-li-query and x-li-recipe map headers are supplied with the same topic: ${r.join(", ")}`)}if(t.length>0)throw new Error(`Required headers not supplied: ${t.join(", ")}`)}(e.connectHeaders),X.singleton=new X(e),X.singleton}static close(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]
if(!X.singleton||!f())return Promise.resolve(!1)
let t=Promise.resolve()
const n=X.singleton
return X._connectivityTrackingTimer&&n&&(clearInterval(X._connectivityTrackingTimer),X._connectivityTrackingTimer=0,e&&(t=n._api.trackActiveConnection(n.sessionId,"FINAL_BEAT"))),n._boundUnloadHandler&&window.removeEventListener("beforeunload",n._boundUnloadHandler),window.removeEventListener("offline",n.handleLoseInternetConnection.bind(n)),window.removeEventListener("online",n.handleGainInternetConnection.bind(n)),n.disconnectAndClose(),n._realtimeTracking=null,n._contextUrns=[],z.contextUrns=[],X.singleton=null,f()&&$&&("undefined"!=typeof globalThis?globalThis.EventSource=$:window.EventSource=$),r(t)}get options(){return this._options}get realtimeTracking(){return this._realtimeTracking}get connected(){return null!==this._eventSource&&this._eventSource.readyState===g.OPEN}get sessionId(){return X._realtimeSessionId}get realtimeConnectUrl(){const e=this._options.domain.endsWith("/")?"":"/"
return`${this._options.domain}${e}realtime/connect${this._options.urlQueryParams}`}get eventSourceUrl(){return this.realtimeConnectUrl}get serverClockTime(){return this._api.getServerClockTime()}get sessionHeartbeatInterval(){return this._options.sessionHeartbeat}get HeartbeatGapThreshold(){return this._options.heartbeatGapThreshold}addSubscriptions(e,t){const n=t?this.filterSubscriptionListForAuthTopics(e,t,this._subscribedAuthBroadcastTopics):this.filterSubscriptionListForNonAuthTopics(e,this._subscribedNonAuthTopics)
if(0===n.length)return Promise.resolve({succeeded:[],failed:[]})
if(this._api.connectionId)return this.apiSubscribe(n,t,1)
if(void 0!==t){const e=this._subscribedAuthBroadcastTopics[t]??[]
this._subscribedAuthBroadcastTopics[t]=[...e,...n]}else this._subscribedNonAuthTopics=[...this._subscribedNonAuthTopics,...n]
return Promise.resolve({succeeded:n,failed:[]})}removeSubscriptions(e){return new Promise(((t,n)=>{const r=(e instanceof Array?e:[e]).filter(w).filter((i=this._subscribedNonAuthTopics,e=>i.includes(e)))
var i
if(0===r.length)return t({succeeded:[],failed:[]})
this._api.unsubscribe(r).then((e=>{let[n,r]=e
n.forEach((e=>this.triggerEvent("unsubscribe",e))),r.forEach((e=>this.triggerEvent("unsubscribeFailed",e))),this._subscribedNonAuthTopics=this._subscribedNonAuthTopics.filter(M(n)),t({succeeded:n,failed:r})})).catch((e=>{this.triggerEvent("error",e),n(e)}))}))}updateAuthToken(e,t){this._subscribedAuthBroadcastTopics[t]&&(this._subscribedAuthBroadcastTopics[e]=this._subscribedAuthBroadcastTopics[t],delete this._subscribedAuthBroadcastTopics[t])}addActorUrn(e){var t;(null===(t=this._experimentalValues)||void 0===t?void 0:t.isHeartbeatPayloadEnabled)&&!this._actorUrn&&(this._actorUrn=e,this.triggerActiveConnection())}addContext(e){var t;(null===(t=this._experimentalValues)||void 0===t?void 0:t.isHeartbeatPayloadEnabled)&&-1===this._contextUrns.indexOf(e)&&(this._contextUrns.push(e),this.triggerActiveConnection())}removeContext(e){var t;(null===(t=this._experimentalValues)||void 0===t?void 0:t.isHeartbeatPayloadEnabled)&&-1!==this._contextUrns.indexOf(e)&&(this._contextUrns=this._contextUrns.filter((t=>t!==e)),this.triggerActiveConnection())}addEventListener(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
const[r,i]=t
switch(r){case"authSubscribeFailed":this._events.authSubscribeFailed.add(i)
break
case"connect":this._events.connect.add(i)
break
case"error":this._events.error.add(i)
break
case"close":this._events.close.add(i)
break
case"heartbeat":this._events.heartbeat.add(i)
break
case"open":this._events.open.add(i)
break
case"poorRealtimeConnectionDetected":this._events.poorRealtimeConnectionDetected.add(i)
break
case"reconnected":this._events.reconnected.add(i)
break
case"reconnecting":this._events.reconnecting.add(i)
break
case"subscribe":this._events.subscribe.add(i)
break
case"subscribeFailed":this._events.subscribeFailed.add(i)
break
case"topic":this._events.topic.add(i)
break
case"topicsResubscribed":this._events.topicsResubscribed.add(i)
break
case"unsubscribe":this._events.unsubscribe.add(i)
break
case"unsubscribeFailed":this._events.unsubscribeFailed.add(i)
break
case"warning":this._events.warning.add(i)
break
default:h(0,new Error("Unknown event type"))}return()=>this.removeEventListener(...t)}removeEventListener(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
let[r,i]=t
return this._events[r].delete(i)}_getConnectionHandler(e,t,n){return r=>{n.removeEventListener("error",t),n.addEventListener("error",this.eventSourceOnError.bind(this)),this.startHeartBeatMonitoring(),this.triggerEvent("open",null),this._lastConnectedStatus=this.connected,e()}}connect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FAIL-ON-ERROR"
return"RETRY"===this._autoReconnect?Promise.resolve():(this._explicitlyConnected=!0,this._autoReconnect=e,this._internalConnect(e))}_internalConnect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FAIL-ON-ERROR"
const t=(t,n)=>r=>{"FAIL-ON-ERROR"===e?n(R(r)?r.error:r):(this.eventSourceOnError(r),t())}
return this.setNewSessionId(this.sessionId),this._eventSource?Promise.resolve():new Promise(((e,n)=>{this._lastConnectedStatus=!0
const r=this.connectEventSource()
if(r.readyState!==g.CONNECTING){const e=new Error(`EventSource readyState is incorrect: ${r.readyState}`)
this.triggerEvent("error",e),n(e)}else{const i=t(e,n)
r.addEventListener("error",i),r.addEventListener("open",this._getConnectionHandler(e,i,r)),r.addEventListener("message",this.eventSourceOnmessage.bind(this))}}))}disconnectAndClose(){this._realtimeChannelDisconnectedTime||this.recordConnectionLostTime(),this._heartBeatMonitor.cancel(),this._reconnectTask.cancel(),this._eventSource&&(this._api.disconnect(),this._eventSource.close(),this._eventSource=null),this._eventSourceErrorCount=0,this.triggerEvent("close",null)}constructor(e){var t=this
u(this,"_options",void 0),u(this,"_events",{authSubscribeFailed:new Set,close:new Set,connect:new Set,error:new Set,heartbeat:new Set,open:new Set,poorRealtimeConnectionDetected:new Set,reconnected:new Set,reconnecting:new Set,subscribe:new Set,subscribeFailed:new Set,topic:new Set,unsubscribe:new Set,unsubscribeFailed:new Set,topicsResubscribed:new Set,warning:new Set}),u(this,"_eventSourceErrorCount",0),u(this,"_api",void 0),u(this,"_eventSource",null),u(this,"_lastHeartBeatReceivedAt",null),u(this,"_heartBeatMonitor",void 0),u(this,"_reconnectTask",void 0),u(this,"_reconnectDelay",void 0),u(this,"_realtimeTracking",null),u(this,"_actorUrn",void 0),u(this,"_contextUrns",[]),u(this,"_experimentalValues",void 0),u(this,"_subscribedNonAuthTopics",[]),u(this,"_subscribedAuthBroadcastTopics",{}),u(this,"_personalTopicsTypes",[]),u(this,"_lastConnectedStatus",!1),u(this,"_explicitlyConnected",!1),u(this,"_autoReconnect","FAIL-ON-ERROR"),u(this,"_realtimeChannelDisconnectedTime",void 0),u(this,"_lastTimeConnectionLost",void 0),u(this,"_boundUnloadHandler",null),u(this,"eventSourceOnmessage",(e=>{const{type:t,eventData:n}=this.parseMessage(e)
switch(t){case m.invalid:this.triggerEvent("error",{status:500,message:n})
break
case m.clientConnection:{p("⚡️ Received clientConnection event")
const{id:e,personalTopics:t}=n
this._personalTopicsTypes=[...t],this._api.setConnectionId(e),this._subscribedNonAuthTopics.length>0&&this.restoreSubscriptions(),Object.keys(this._subscribedAuthBroadcastTopics).length>0&&this.restoreAuthSubscriptions(),this._lastHeartBeatReceivedAt=Date.now(),this.triggerEvent("connect",{id:e,personalTopicsTypes:this._personalTopicsTypes})
const r=this.getRealtimeChannelDisconnectedTime()
r>this.options.reconnectGapThreshold&&this.triggerEvent("reconnected",r),this._realtimeChannelDisconnectedTime=null,this._api.syncRealtimeServerClockTime()}break
case m.heartbeat:this._lastHeartBeatReceivedAt=Date.now(),this.triggerEvent("heartbeat",this._lastHeartBeatReceivedAt)
break
case m.decoratedEvent:default:{const e=(r=this._personalTopicsTypes,e=>{let{type:t}=I.extractEntityInfoFromUrn(e)
return r.includes(t)})
if(this._subscribedNonAuthTopics.includes(n.topic)||e(n.topic)||this.isAuthBroadcastTopic(n.topic)){if(this.triggerEvent("topic",d({},n)),this.realtimeTracking){const e=this.serverClockTime
n.receivedTime=e,this.realtimeTracking.fireRealtimeTracking("RealtimeEventDeliveredEvent",n)}}else this.triggerEvent("error",{status:600,message:`Received a message for "${n.topic}" that was not subscribed to`})}}var r})),u(this,"triggerEvent",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
let[i,a]=n
switch(i){case"authSubscribeFailed":t._events.authSubscribeFailed.forEach((e=>e(i,a)))
break
case"connect":t._events.connect.forEach((e=>e(i,a)))
break
case"error":t._events.error.forEach((e=>e(i,a)))
break
case"close":t._events.close.forEach((e=>e(i,a)))
break
case"heartbeat":t._events.heartbeat.forEach((e=>e(i,a)))
break
case"open":t._events.open.forEach((e=>e(i,a)))
break
case"poorRealtimeConnectionDetected":t._events.poorRealtimeConnectionDetected.forEach((e=>e(i,a)))
break
case"reconnected":t._events.reconnected.forEach((e=>e(i,a)))
break
case"reconnecting":t._events.reconnecting.forEach((e=>e(i,a)))
break
case"subscribe":t._events.subscribe.forEach((e=>e(i,a)))
break
case"subscribeFailed":t._events.subscribeFailed.forEach((e=>e(i,a)))
break
case"topic":t._events.topic.forEach((e=>e(i,a)))
break
case"topicsResubscribed":t._events.topicsResubscribed.forEach((e=>e(i,a)))
break
case"unsubscribe":t._events.unsubscribe.forEach((e=>e(i,a)))
break
case"unsubscribeFailed":t._events.unsubscribeFailed.forEach((e=>e(i,a)))
break
case"warning":t._events.warning.forEach((e=>e(i,a)))
break
default:h(0,new Error("Unknown event type"))}return!0})),u(this,"eventSourceOnError",(e=>{this._eventSourceErrorCount++,this.detectConnectionLost(),R(e)?(this.itShouldRetry(e.error.status)&&this.scheduleReconnect(),this.triggerEvent("error",{status:e.error.status??500,message:`EventSource error - ${e.error.message??"unknown"}`,originalEvent:e.error})):(this.itShouldRetry()&&this.scheduleReconnect(),this.options.alertChannelErrors&&this.triggerEvent("error",{status:900,message:"Unknown EventSource connection error/warning event",originalEvent:e}))})),u(this,"parseMessage",(e=>{let t
try{t=JSON.parse(e.data)}catch(e){const t=e instanceof Error?e.message:"JSON not valid"
return{type:m.invalid,eventData:`Error while parsing event data - ${t}`}}const n=Object.keys(t)[0]
return{type:n,eventData:t[n]}})),u(this,"_reconnectHandler",(e=>{this.triggerEvent("reconnecting",null),this._internalConnect().catch((t=>{this._eventSource=null
const n={status:t.status??900,message:`EventSource connection failed - ${t.message??"unknown reason"}`,originalEvent:t}
this.itShouldRetry(n.status)?(this.options.alertChannelErrors&&this.triggerEvent("error",n),e(this._reconnectDelay())):this.triggerEvent("error",n)}))})),u(this,"_heartbeatCheck",(e=>{if(null===this._realtimeChannelDisconnectedTime){if(null===this._lastHeartBeatReceivedAt)return void this.scheduleReconnect()
{const e=Date.now()-this._lastHeartBeatReceivedAt
if(e>this.options.heartbeatGapThreshold)return this.triggerEvent("poorRealtimeConnectionDetected",e),void this.scheduleReconnect()}}e()})),u(this,"scheduleReconnect",(()=>{this._options.enableCustomRetry&&(this.disconnectAndClose(),this._reconnectTask.start(this._reconnectDelay()))})),u(this,"startHeartBeatMonitoring",(()=>{this._options.detectMissedHeartbeat&&this._heartBeatMonitor.start(this.options.heartbeatPollInterval)})),u(this,"setupLeaveGuard",(()=>{this._boundUnloadHandler&&window.removeEventListener("beforeunload",this._boundUnloadHandler),this._boundUnloadHandler=this.beforeUnloadHandler.bind(this),window.addEventListener("beforeunload",this._boundUnloadHandler)})),u(this,"setupOnlineGuard",(()=>{window.addEventListener("offline",this.handleLoseInternetConnection.bind(this)),window.addEventListener("online",this.handleGainInternetConnection.bind(this))})),this._options=d(d({},z),e),this._options.connectHeaders["x-li-realtime-session"]=this.sessionId,this._options.sessionHeartbeat=P(this._options.sessionHeartbeat,null,6e4),this._options.reconnectGapThreshold=Math.max(0,this._options.reconnectGapThreshold??z.reconnectGapThreshold),this._options.heartbeatGapThreshold=Math.max(2*this._options.heartbeatPollInterval,this.options.heartbeatGapThreshold),this._reconnectDelay=(e=>{let t=0
return()=>{t++
const e=t-Math.max(1,0)
if(e<=0)return 0
const n=4*Math.random()
return 1===e?1e3*(5+n):1e3*(10+n)}})(),this._api=new B(this._options.domain,this._options.connectHeaders,this._options.mpInfo),this._heartBeatMonitor=new j(this._heartbeatCheck.bind(this)),this._reconnectTask=new j(this._reconnectHandler.bind(this)),this._lastTimeConnectionLost=null,this._realtimeChannelDisconnectedTime=null,this._options.tracking&&(this._realtimeTracking=new V(this._options.tracking.fireEventCallback)),this._actorUrn=this.options.actorUrn,this._contextUrns=this.options.contextUrns??[],this._experimentalValues=this.options.experimental,this.setupLeaveGuard(),this.setupOnlineGuard(),this.setNewSessionId(q()),this.startConnectivityTracker()}setNewSessionId(e){X._realtimeSessionId=e,this._options.connectHeaders["x-li-realtime-session"]=this.sessionId,this._api.setSessionId(this.sessionId)}updateOptions(e){if(X.singleton){const t=this.options.sessionHeartbeat
this._options=d(d(d({},X.singleton._options),o(e)),{},{tracking:X.singleton._options.tracking,sessionHeartbeat:P(e.sessionHeartbeat,this.options.sessionHeartbeat,6e4)}),this._api.setMpInfo(this._options.mpInfo),t!==this.options.sessionHeartbeat&&this.startConnectivityTracker()}}startConnectivityTracker(){var e
let t=!0
X._connectivityTrackingTimer&&(clearInterval(X._connectivityTrackingTimer),X._connectivityTrackingTimer=0,t=!1),this._options.sessionHeartbeat&&(t&&(null!==(e=this._experimentalValues)&&void 0!==e&&e.isHeartbeatPayloadEnabled&&this._actorUrn?this._api.trackActiveConnection(this.sessionId,"FIRST_BEAT",this._contextUrns,this._actorUrn).then((e=>{e&&"WARNING_INFO"===e.type&&this.triggerEvent("warning",e)})):this._api.trackActiveConnection(this.sessionId,"FIRST_BEAT").then((e=>{e&&"WARNING_INFO"===e.type&&this.triggerEvent("warning",e)}))),X._connectivityTrackingTimer=setInterval(this.triggerActiveConnection.bind(this),this._options.sessionHeartbeat))}triggerActiveConnection(){this._experimentalValues&&this._experimentalValues.isHeartbeatPayloadEnabled&&this._actorUrn?this._api.trackActiveConnection(this.sessionId,"ALIVE",this._contextUrns,this._actorUrn).then((e=>{e&&"WARNING_INFO"===e.type&&this.triggerEvent("warning",e)})):this._api.trackActiveConnection(this.sessionId,"ALIVE").then((e=>{e&&"WARNING_INFO"===e.type&&this.triggerEvent("warning",e)}))}stopConnectivityTracker(){var e
X._connectivityTrackingTimer&&(clearInterval(X._connectivityTrackingTimer),X._connectivityTrackingTimer=0,null!==(e=this._experimentalValues)&&void 0!==e&&e.isHeartbeatPayloadEnabled&&this._actorUrn?this._api.trackActiveConnection(this.sessionId,"FINAL_BEAT",this._contextUrns,this._actorUrn):this._api.trackActiveConnection(this.sessionId,"FINAL_BEAT"))}handleLoseInternetConnection(){this.disconnectAndClose(),this.stopConnectivityTracker(),this.setNewSessionId(q())}handleGainInternetConnection(){if(this.startConnectivityTracker(),this._explicitlyConnected){const e=Date.now()-this.options.reconnectGapThreshold-1
this._realtimeChannelDisconnectedTime=Math.min(e,this._realtimeChannelDisconnectedTime??e),setTimeout((()=>{this._internalConnect(this._autoReconnect)}),3e3)}}filterSubscriptionListForNonAuthTopics(e,t){const n=(r=this._personalTopicsTypes,e=>{let{type:t}=I.extractEntityInfoFromUrn(e)
return!r.includes(t)})
var r
const i=M(t)
return(e instanceof Array?e:[e]).filter(w).filter(n).filter(i)}filterSubscriptionListForAuthTopics(e,t,n){const r=e instanceof Array?e:[e]
return n[t]?r.filter(w).filter(M(n[t])):r.filter(w)}isAuthBroadcastTopic(e){return void 0!==Object.keys(this._subscribedAuthBroadcastTopics).find((t=>this._subscribedAuthBroadcastTopics[t].includes(e)))}getTimeSinceLastDisconnect(){if(null===this._lastTimeConnectionLost)return 0
const e=Date.now()
return e-(this._lastTimeConnectionLost??e)}getRealtimeChannelDisconnectedTime(){return this._realtimeChannelDisconnectedTime?Date.now()-this._realtimeChannelDisconnectedTime:0}recordConnectionLostTime(){this._lastConnectedStatus=!1,this._realtimeChannelDisconnectedTime=Date.now(),this._lastTimeConnectionLost=Date.now(),p("RT connection lost at",this._lastTimeConnectionLost)}restoreSubscriptions(){const e=this.filterSubscriptionListForNonAuthTopics(this._subscribedNonAuthTopics,[])
return 0===e.length?Promise.resolve({succeeded:[],failed:[]}):this.apiSubscribe(e).then((t=>(this.getTimeSinceLastDisconnect()>=this._options.reconnectGapThreshold&&this.triggerEvent("topicsResubscribed",{topics:e,timeGapMs:this.getTimeSinceLastDisconnect()}),t)))}restoreAuthSubscriptions(){return Object.keys(this._subscribedAuthBroadcastTopics).reduce(((e,t)=>{const n=t.substring(Math.max(t.length-20,0))
return e.then((e=>(p("restoring auth subscriptions with token",`...${n}`),this.apiSubscribe(this._subscribedAuthBroadcastTopics[t],t).then((r=>(this.getTimeSinceLastDisconnect()>=this.options.reconnectGapThreshold&&this.triggerEvent("topicsResubscribed",{token:t,topics:this._subscribedAuthBroadcastTopics[t],timeGapMs:this.getTimeSinceLastDisconnect()}),p(`auth subscription for [...${n}]`,r.succeeded.length,"succeeded",r.failed.length,"failed"),[...e,r]))))))}),Promise.resolve([]))}apiSubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1
return new Promise(((r,i)=>{this._api.subscribe(e,t).then((e=>{let[a,o,s,c]=e
if(t&&0===N(c).length){const e=this.filterSubscriptionListForAuthTopics(a,t,this._subscribedAuthBroadcastTopics)
this._subscribedAuthBroadcastTopics[t]=[...this._subscribedAuthBroadcastTopics[t]??[],...e]}else if(t&&N(c).length>0){const e=Object.entries(c).find((e=>403===e[1].status))
e&&e.length>0&&(this._subscribedAuthBroadcastTopics[t]&&delete this._subscribedAuthBroadcastTopics[t],this.triggerEvent("authSubscribeFailed",t))}else this._subscribedNonAuthTopics=[...this._subscribedNonAuthTopics,...a.filter(M(this._subscribedNonAuthTopics))]
a.forEach((e=>this.triggerEvent("subscribe",e))),s.length>0&&n<this.options.maxRetryCount?this.apiSubscribe(s,t,n+1).then((e=>{r({succeeded:[...a,...e.succeeded],failed:[...o,...e.failed]})})).catch(i):(o.forEach((e=>this.triggerEvent("subscribeFailed",e))),r({succeeded:a,failed:[...o,...s]}))})).catch((t=>{412===t.status?(this.scheduleReconnect(),r({succeeded:[],failed:e})):(this.triggerEvent("error",t),i(t))}))}))}connectEventSource(){return this._eventSource||(this._eventSource=new EventSource(this.realtimeConnectUrl,{withCredentials:!0,headers:this.options.connectHeaders})),this._eventSource}itShouldRetry(e){return!(null!=e&&e>=400&&e<500)&&(!this._eventSource||this._eventSource.readyState===g.CLOSE||this._eventSourceErrorCount>this.options.acceptableErrorCount)}lostConnection(){return this._lastConnectedStatus&&null===this._eventSource}detectConnectionLost(){const e=this.lostConnection()
return e&&(this._lastConnectedStatus=this.connected,this.recordConnectionLostTime()),e}beforeUnloadHandler(){X.close()}}function Q(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
return X.getOrUpdateClient(e)}function Y(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?Y(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(){Z=function(){return e}
var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag"
function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),s=new C(i||[])
return r(o,"_invoke",{value:_(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d
var l={}
function p(){}function f(){}function h(){}var m={}
c(m,a,(function(){return this}))
var g=Object.getPrototypeOf,y=g&&g(g(A([])))
y&&y!==t&&n.call(y,a)&&(m=y)
var v=h.prototype=p.prototype=Object.create(m)
function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function i(r,a,o,s){var c=u(e[r],e,a)
if("throw"!==c.type){var d=c.arg,l=d.value
return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(l).then((function(e){d.value=e,o(d)}),(function(e){return i("throw",e,o,s)}))}s(c.arg)}var a
r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart"
return function(i,a){if("executing"===r)throw new Error("Generator is already running")
if("completed"===r){if("throw"===i)throw a
return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var o=n.delegate
if(o){var s=E(o,n)
if(s){if(s===l)continue
return s}}if("next"===n.method)n.sent=n._sent=n.arg
else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg
n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg)
r="executing"
var c=u(e,t,n)
if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===l)continue
return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n]
if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),l
var i=u(r,e.iterator,t.arg)
if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,l
var a=i.arg
return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function x(e){var t={tryLoc:e[0]}
1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{}
t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function A(e){if(e){var t=e[a]
if(t)return t.call(e)
if("function"==typeof e.next)return e
if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t
return t.value=void 0,t.done=!0,t}
return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return f.prototype=h,r(v,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:f,configurable:!0}),f.displayName=c(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor
return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(T.prototype),c(T.prototype,o,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise)
var o=new T(d(t,n,r,i),a)
return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(v),c(v,s,"Generator"),c(v,a,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[]
for(var r in t)n.push(r)
return n.reverse(),function e(){for(;n.length;){var r=n.pop()
if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0
var e=this.tryEntries[0].completion
if("throw"===e.type)throw e.arg
return this.rval},dispatchException:function(e){if(this.done)throw e
var t=this
function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion
if("root"===a.tryLoc)return r("end")
if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc")
if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)
if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally")
if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r]
if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i
break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null)
var o=a?a.completion:{}
return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg
return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t]
if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t]
if(n.tryLoc===e){var r=n.completion
if("throw"===r.type){var i=r.arg
S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ye(r.key),r)}}function ie(e,t,n){return t&&re(e.prototype,t),n&&re(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ae(e,t,n){return(t=ye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oe(e)}function se(e,t){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},se(e,t)}function ce(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
if(Reflect.construct.sham)return!1
if("function"==typeof Proxy)return!0
try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function de(e,t,n){return de=ce()?Reflect.construct.bind():function(e,t,n){var r=[null]
r.push.apply(r,t)
var i=new(Function.bind.apply(e,r))
return n&&se(i,n.prototype),i},de.apply(null,arguments)}function ue(e){var t="function"==typeof Map?new Map:void 0
return ue=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e
if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function")
if(void 0!==t){if(t.has(e))return t.get(e)
t.set(e,n)}function n(){return de(e,arguments,oe(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),se(n,e)},ue(e)}function le(e,t){if(null==e)return{}
var n,r,i=function(e,t){if(null==e)return{}
var n,r,i={},a=Object.keys(e)
for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n])
return i}(e,t)
if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e)
for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return e}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
if(null!=n){var r,i,a,o,s=[],c=!0,d=!1
try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return
c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){d=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return s}}(e,t)||me(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e){return function(e){if(Array.isArray(e))return ge(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||me(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){if(e){if("string"==typeof e)return ge(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ge(e,t):void 0}}function ge(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}function ye(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var n=e[Symbol.toPrimitive]
if(void 0!==n){var r=n.call(e,"string")
if("object"!=typeof r)return r
throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e)
return"symbol"==typeof t?t:String(t)}u(X,"singleton",void 0),u(X,"_realtimeSessionId",q()),u(X,"_connectivityTrackingTimer",0)
const ve=e=>t=>!1===e.includes(t),be=(e,t)=>n=>n.map(((n,r)=>e(n,r)?t(n):n)),Te=(e,t)=>n=>{let r=!1
return n.map(((n,i)=>!r&&e(n,i)?(r=!0,t(n)):n))},_e=e=>t=>t.reduce(((t,n)=>(e(n)?t[0].push(n):t[1].push(n),[t[0],t[1]])),[[],[]]),Ee=e=>Object.keys(e),xe=e=>null!=e,Se=e=>null==e,Ce=e=>Object.values(e)
var Ae=function(e,t){e.forEach((function(e){return e.next(t)}))},ke=function(){return"undefined"!=typeof window&&window&&"node"!==window.appEnvironment},Ie=function(e){return Object.fromEntries(e)},Re=function(e){return e.map((function(e){return[e.hostIdentityUrn,e]}))},we=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]
return t&&0!==t.length?[].concat(he(e),he(t.filter(ve(e)))):e},Me=function(e){return!e},Oe=function(e,t,n){var r=new Map(e)
return r.set(t,n),r},Ne=function(e,t){var n=new Map(e)
return n.delete(t)?n:e},Pe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]},Ue=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]}
function De(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r]
return n.reduce((function(e,t){var n=e[t],r=le(e,[t].map(ye))
return n?r:e}),e)}var Le,Fe=function(e,t){if(e.has(t))return e
var n=new Set(e)
return Object.freeze(n.add(t))},Be=function(e,t){var n=new Set(e)
return n.delete(t)?Object.freeze(n):e},je=function(e){return"object"===ee(e)&&null!==e},qe=function(e){return"number"==typeof e},Ve=function(e){return"string"==typeof e},He=function(e,t){return e.every(t)},Ge=function(e,t){return t.substring(Math.max(t.length-e,0))},Ke=function(e){return void 0!==e.entityUrn},We=function(e){return Ve(e)&&/^[a-z0-9]+-[a-z0-9]+-[a-z0-9]+-[a-z0-9]+-[a-z0-9]+$/.test(e)},ze=function(e){return/^urn:li:msg_conversation:.*$/.test(e)},$e=function(e){return Ve(e)&&e.startsWith("urn:")},Xe=function(e){return $e(e)||Ve(e)&&We(e)},Qe=function(e){return"MEMBER"===e.kind},Ye=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"FilteredMailboxState"
return e.find((function(e){return void 0!==e.messages.getByIdentifier(t)}),n)}
function Je(e){return"function"==typeof e}function Ze(e){var t=e
return!((null===t||"object"!==ee(t))&&"function"!=typeof t||"function"!=typeof t.next||void 0!==t.error&&"function"!=typeof t.error||void 0!==t.complete&&"function"!=typeof t.complete)}function et(e){return"MARK_READ"===e||"MARK_UNREAD"===e||"NO_CHANGE"===e}function tt(e){var t=e
return(null!==t&&"object"===ee(t)||"function"==typeof t)&&et(t.markConvoReadTypes)&&("FALLBACK_SYNC"===t.setConvoActiveSyncOption||"ALWAYS_SYNC"===t.setConvoActiveSyncOption)}function nt(e){return"ADD"===e||"REPLACE"===e}function rt(e){var t=e
return null!==t&&"object"===ee(t)||"function"==typeof t}function it(e){var t=e
return(null!==t&&"object"===ee(t)||"function"==typeof t)&&at(t.forwardedBody)&&at(t.footerText)&&(null!==t&&"object"===ee(t)||"function"==typeof t)&&"number"==typeof t.originalSendAt&&ot(t.originalSenderUrn)}function at(e){var t=e
return(null!==t&&"object"===ee(t)||"function"==typeof t)&&ot(t.text)&&Array.isArray(t.attributes)&&t.attributes.every((function(e){return null===e||(null!==e&&"object"===ee(e)||"function"==typeof e)&&"number"==typeof e.start&&"number"==typeof e.length&&(void 0===e.attributeKind||null===e.attributeKind||(null!==e.attributeKind&&"object"===ee(e.attributeKind)||"function"==typeof e.attributeKind)&&(void 0===e.attributeKind.bold||null===e.attributeKind.bold||(null!==e.attributeKind.bold&&"object"===ee(e.attributeKind.bold)||"function"==typeof e.attributeKind.bold)&&"pemberly_text_Bold"===e.attributeKind.bold.__typename)&&(void 0===e.attributeKind.italic||null===e.attributeKind.italic||(null!==e.attributeKind.italic&&"object"===ee(e.attributeKind.italic)||"function"==typeof e.attributeKind.italic)&&"pemberly_text_Italic"===e.attributeKind.italic.__typename)&&(void 0===e.attributeKind.hyperlink||null===e.attributeKind.hyperlink||(null!==e.attributeKind.hyperlink&&"object"===ee(e.attributeKind.hyperlink)||"function"==typeof e.attributeKind.hyperlink)&&"pemberly_text_Hyperlink"===e.attributeKind.hyperlink.__typename&&ot(e.attributeKind.hyperlink.url))&&(void 0===e.attributeKind.paragraph||null===e.attributeKind.paragraph||(null!==e.attributeKind.paragraph&&"object"===ee(e.attributeKind.paragraph)||"function"==typeof e.attributeKind.paragraph)&&"pemberly_text_Paragraph"===e.attributeKind.paragraph.__typename)&&(void 0===e.attributeKind.list||null===e.attributeKind.list||(null!==e.attributeKind.list&&"object"===ee(e.attributeKind.list)||"function"==typeof e.attributeKind.list)&&"pemberly_text_List"===e.attributeKind.list.__typename&&"boolean"==typeof e.attributeKind.list.ordered)&&(void 0===e.attributeKind.listItem||null===e.attributeKind.listItem||(null!==e.attributeKind.listItem&&"object"===ee(e.attributeKind.listItem)||"function"==typeof e.attributeKind.listItem)&&"pemberly_text_ListItem"===e.attributeKind.listItem.__typename)&&(void 0===e.attributeKind.lineBreak||null===e.attributeKind.lineBreak||(null!==e.attributeKind.lineBreak&&"object"===ee(e.attributeKind.lineBreak)||"function"==typeof e.attributeKind.lineBreak)&&"pemberly_text_LineBreak"===e.attributeKind.lineBreak.__typename)&&(void 0===e.attributeKind.underline||null===e.attributeKind.underline||(null!==e.attributeKind.underline&&"object"===ee(e.attributeKind.underline)||"function"==typeof e.attributeKind.underline)&&"pemberly_text_Underline"===e.attributeKind.underline.__typename)&&(void 0===e.attributeKind.subscript||null===e.attributeKind.subscript||(null!==e.attributeKind.subscript&&"object"===ee(e.attributeKind.subscript)||"function"==typeof e.attributeKind.subscript)&&"pemberly_text_Subscript"===e.attributeKind.subscript.__typename)&&(void 0===e.attributeKind.superscript||null===e.attributeKind.superscript||(null!==e.attributeKind.superscript&&"object"===ee(e.attributeKind.superscript)||"function"==typeof e.attributeKind.superscript)&&"pemberly_text_Superscript"===e.attributeKind.superscript.__typename)&&(void 0===e.attributeKind.entity||null===e.attributeKind.entity||(null!==e.attributeKind.entity&&"object"===ee(e.attributeKind.entity)||"function"==typeof e.attributeKind.entity)&&ot(e.attributeKind.entity.urn)))}))}function ot(e){return"string"==typeof e}function st(e){return"string"==typeof e}function ct(e){return"FilteredMailboxState"===e||"FullMailboxState"===e}function dt(e){var t=e
return(null!==t&&"object"===ee(t)||"function"==typeof t)&&Array.isArray(t.renderContent)&&t.renderContent.every((function(e){return(null!==e&&"object"===ee(e)||"function"==typeof e)&&(void 0===e.audio||null===e.audio||(null!==e.audio&&"object"===ee(e.audio)||"function"==typeof e.audio)&&"number"==typeof e.audio.duration&&ot(e.audio.url))&&(void 0===e.awayMessage||null===e.awayMessage||(null!==e.awayMessage&&"object"===ee(e.awayMessage)||"function"==typeof e.awayMessage)&&at(e.awayMessage.footerText)&&at(e.awayMessage.text))&&(void 0===e.externalMedia||null===e.externalMedia||(null!==e.externalMedia&&"object"===ee(e.externalMedia)||"function"==typeof e.externalMedia)&&ot(e.externalMedia.entityUrn)&&(void 0===e.externalMedia.title||null===e.externalMedia.title||ot(e.externalMedia.title))&&(null!==e.externalMedia.media&&"object"===ee(e.externalMedia.media)||"function"==typeof e.externalMedia.media)&&"number"==typeof e.externalMedia.media.originalHeight&&"number"==typeof e.externalMedia.media.originalWidth&&ot(e.externalMedia.media.url)&&(void 0===e.externalMedia.previewMedia||null===e.externalMedia.previewMedia||(null!==e.externalMedia.previewMedia&&"object"===ee(e.externalMedia.previewMedia)||"function"==typeof e.externalMedia.previewMedia)&&"number"==typeof e.externalMedia.previewMedia.originalHeight&&"number"==typeof e.externalMedia.previewMedia.originalWidth&&ot(e.externalMedia.previewMedia.url)))&&(void 0===e.file||null===e.file||(null!==e.file&&"object"===ee(e.file)||"function"==typeof e.file)&&ot(e.file.assetUrn)&&(void 0===e.file.byteSize||null===e.file.byteSize||"number"==typeof e.file.byteSize)&&ot(e.file.mediaType)&&ot(e.file.name)&&ot(e.file.url))&&(void 0===e.messageAdRenderContent||null===e.messageAdRenderContent||(null!==e.messageAdRenderContent&&"object"===ee(e.messageAdRenderContent)||"function"==typeof e.messageAdRenderContent)&&(void 0===e.messageAdRenderContent.advertiserLabel||null===e.messageAdRenderContent.advertiserLabel||ot(e.messageAdRenderContent.advertiserLabel))&&(void 0===e.messageAdRenderContent.bodyTracking||null===e.messageAdRenderContent.bodyTracking||ot(e.messageAdRenderContent.bodyTracking))&&(void 0===e.messageAdRenderContent.legalTextTracking||null===e.messageAdRenderContent.legalTextTracking||ot(e.messageAdRenderContent.legalTextTracking))&&(void 0===e.messageAdRenderContent.openTracking||null===e.messageAdRenderContent.openTracking||ot(e.messageAdRenderContent.openTracking))&&(void 0===e.messageAdRenderContent.sponsoredCampaignUrn||null===e.messageAdRenderContent.sponsoredCampaignUrn||ot(e.messageAdRenderContent.sponsoredCampaignUrn))&&("PENDING"===e.messageAdRenderContent.status||"ACTIONED"===e.messageAdRenderContent.status)&&(null!==e.messageAdRenderContent.creativeAdsReportingInfo&&"object"===ee(e.messageAdRenderContent.creativeAdsReportingInfo)||"function"==typeof e.messageAdRenderContent.creativeAdsReportingInfo)&&("MESSAGE_AD"===e.messageAdRenderContent.creativeAdsReportingInfo.contentSource||"SPONSORED_MESSAGE"===e.messageAdRenderContent.creativeAdsReportingInfo.contentSource)&&ot(e.messageAdRenderContent.creativeAdsReportingInfo.sponsoredAccountUrn)&&ot(e.messageAdRenderContent.creativeAdsReportingInfo.sponsoredCreativeUrn)&&(void 0===e.messageAdRenderContent.legalText||null===e.messageAdRenderContent.legalText||at(e.messageAdRenderContent.legalText))&&(void 0===e.messageAdRenderContent.sponsoredTracking||null===e.messageAdRenderContent.sponsoredTracking||(null!==e.messageAdRenderContent.sponsoredTracking&&"object"===ee(e.messageAdRenderContent.sponsoredTracking)||"function"==typeof e.messageAdRenderContent.sponsoredTracking)&&ot(e.messageAdRenderContent.sponsoredTracking.adRequestId)&&("SPONSORED"===e.messageAdRenderContent.sponsoredTracking.activityType||"VIRAL"===e.messageAdRenderContent.sponsoredTracking.activityType)&&(void 0===e.messageAdRenderContent.sponsoredTracking.adTrackingCode||null===e.messageAdRenderContent.sponsoredTracking.adTrackingCode||ot(e.messageAdRenderContent.sponsoredTracking.adTrackingCode))&&(void 0===e.messageAdRenderContent.sponsoredTracking.leadTrackingCode||null===e.messageAdRenderContent.sponsoredTracking.leadTrackingCode||ot(e.messageAdRenderContent.sponsoredTracking.leadTrackingCode))&&(void 0===e.messageAdRenderContent.sponsoredTracking.version||null===e.messageAdRenderContent.sponsoredTracking.version||ot(e.messageAdRenderContent.sponsoredTracking.version))&&(void 0===e.messageAdRenderContent.sponsoredTracking.videoBehavior||null===e.messageAdRenderContent.sponsoredTracking.videoBehavior||"DISPLAY_WITH_LANDING_PAGE"===e.messageAdRenderContent.sponsoredTracking.videoBehavior||"DISPLAY_WITH_LEADGEN_FORM"===e.messageAdRenderContent.sponsoredTracking.videoBehavior||"OPEN_VIDEO_FULLSCREEN"===e.messageAdRenderContent.sponsoredTracking.videoBehavior)&&(void 0===e.messageAdRenderContent.sponsoredTracking.sponsoredCampaignUrn||null===e.messageAdRenderContent.sponsoredTracking.sponsoredCampaignUrn||ot(e.messageAdRenderContent.sponsoredTracking.sponsoredCampaignUrn))&&(void 0===e.messageAdRenderContent.sponsoredTracking.adServingUrn||null===e.messageAdRenderContent.sponsoredTracking.adServingUrn||ot(e.messageAdRenderContent.sponsoredTracking.adServingUrn)))&&(null!==e.messageAdRenderContent.subContent&&"object"===ee(e.messageAdRenderContent.subContent)||"function"==typeof e.messageAdRenderContent.subContent)&&(void 0===e.messageAdRenderContent.subContent.action||null===e.messageAdRenderContent.subContent.action||ot(e.messageAdRenderContent.subContent.action))&&ot(e.messageAdRenderContent.subContent.actionText)&&(void 0===e.messageAdRenderContent.subContent.actionTracking||null===e.messageAdRenderContent.subContent.actionTracking||ot(e.messageAdRenderContent.subContent.actionTracking))&&(void 0===e.messageAdRenderContent.subContent.callToActionLabel||null===e.messageAdRenderContent.subContent.callToActionLabel||ot(e.messageAdRenderContent.subContent.callToActionLabel))&&(void 0===e.messageAdRenderContent.subContent.leadGenFormOpenTracking||null===e.messageAdRenderContent.subContent.leadGenFormOpenTracking||ot(e.messageAdRenderContent.subContent.leadGenFormOpenTracking))&&(void 0===e.messageAdRenderContent.subContent.leadGenFormUrn||null===e.messageAdRenderContent.subContent.leadGenFormUrn||ot(e.messageAdRenderContent.subContent.leadGenFormUrn))&&(void 0===e.messageAdRenderContent.subContent.leadTrackingCode||null===e.messageAdRenderContent.subContent.leadTrackingCode||ot(e.messageAdRenderContent.subContent.leadTrackingCode))&&(void 0===e.messageAdRenderContent.subContent.leadTrackingParams||null===e.messageAdRenderContent.subContent.leadTrackingParams||ot(e.messageAdRenderContent.subContent.leadTrackingParams))&&(void 0===e.messageAdRenderContent.subContent.tscpUrl||null===e.messageAdRenderContent.subContent.tscpUrl||ot(e.messageAdRenderContent.subContent.tscpUrl))&&(void 0===e.messageAdRenderContent.subContent.adUnit||null===e.messageAdRenderContent.subContent.adUnit||(null!==e.messageAdRenderContent.subContent.adUnit&&"object"===ee(e.messageAdRenderContent.subContent.adUnit)||"function"==typeof e.messageAdRenderContent.subContent.adUnit)&&(void 0===e.messageAdRenderContent.subContent.adUnit.adUnitTracking||null===e.messageAdRenderContent.subContent.adUnit.adUnitTracking||ot(e.messageAdRenderContent.subContent.adUnit.adUnitTracking))&&(null!==e.messageAdRenderContent.subContent.adUnit.adUnit&&"object"===ee(e.messageAdRenderContent.subContent.adUnit.adUnit)||"function"==typeof e.messageAdRenderContent.subContent.adUnit.adUnit)&&(void 0===e.messageAdRenderContent.subContent.adUnit.adUnit.attribution||null===e.messageAdRenderContent.subContent.adUnit.adUnit.attribution||ot(e.messageAdRenderContent.subContent.adUnit.adUnit.attribution))&&(void 0===e.messageAdRenderContent.subContent.adUnit.adUnit.rootUrl||null===e.messageAdRenderContent.subContent.adUnit.adUnit.rootUrl||ot(e.messageAdRenderContent.subContent.adUnit.adUnit.rootUrl))&&(void 0===e.messageAdRenderContent.subContent.adUnit.adUnit.digitalmediaAsset||null===e.messageAdRenderContent.subContent.adUnit.adUnit.digitalmediaAsset||ot(e.messageAdRenderContent.subContent.adUnit.adUnit.digitalmediaAsset))&&Array.isArray(e.messageAdRenderContent.subContent.adUnit.adUnit.artifacts)&&e.messageAdRenderContent.subContent.adUnit.adUnit.artifacts.every((function(e){return null===e||(null!==e&&"object"===ee(e)||"function"==typeof e)&&"number"==typeof e.width&&"number"==typeof e.height&&ot(e.fileIdentifyingUrlPathSegment)}))&&(void 0===e.messageAdRenderContent.subContent.adUnit.adUnit.focalPoint||null===e.messageAdRenderContent.subContent.adUnit.adUnit.focalPoint||(null!==e.messageAdRenderContent.subContent.adUnit.adUnit.focalPoint&&"object"===ee(e.messageAdRenderContent.subContent.adUnit.adUnit.focalPoint)||"function"==typeof e.messageAdRenderContent.subContent.adUnit.adUnit.focalPoint)&&"number"==typeof e.messageAdRenderContent.subContent.adUnit.adUnit.focalPoint.xOffsetPercentage&&"number"==typeof e.messageAdRenderContent.subContent.adUnit.adUnit.focalPoint.yOffsetPercentage)))&&(void 0===e.vectorImage||null===e.vectorImage||(null!==e.vectorImage&&"object"===ee(e.vectorImage)||"function"==typeof e.vectorImage)&&(void 0===e.vectorImage.attribution||null===e.vectorImage.attribution||ot(e.vectorImage.attribution))&&(void 0===e.vectorImage.rootUrl||null===e.vectorImage.rootUrl||ot(e.vectorImage.rootUrl))&&(void 0===e.vectorImage.digitalmediaAsset||null===e.vectorImage.digitalmediaAsset||ot(e.vectorImage.digitalmediaAsset))&&Array.isArray(e.vectorImage.artifacts)&&e.vectorImage.artifacts.every((function(e){return null===e||(null!==e&&"object"===ee(e)||"function"==typeof e)&&"number"==typeof e.width&&"number"==typeof e.height&&ot(e.fileIdentifyingUrlPathSegment)}))&&(void 0===e.vectorImage.focalPoint||null===e.vectorImage.focalPoint||(null!==e.vectorImage.focalPoint&&"object"===ee(e.vectorImage.focalPoint)||"function"==typeof e.vectorImage.focalPoint)&&"number"==typeof e.vectorImage.focalPoint.xOffsetPercentage&&"number"==typeof e.vectorImage.focalPoint.yOffsetPercentage))&&(void 0===e.video||null===e.video||(null!==e.video&&"object"===ee(e.video)||"function"==typeof e.video)&&(void 0===e.video.entityUrn||null===e.video.entityUrn||ot(e.video.entityUrn))&&(void 0===e.video.aspectRatio||null===e.video.aspectRatio||"number"==typeof e.video.aspectRatio)&&(void 0===e.video.duration||null===e.video.duration||"number"==typeof e.video.duration)&&(void 0===e.video.liveStreamCreatedAt||null===e.video.liveStreamCreatedAt||"number"==typeof e.video.liveStreamCreatedAt)&&(void 0===e.video.liveStreamEndedAt||null===e.video.liveStreamEndedAt||"number"==typeof e.video.liveStreamEndedAt)&&ot(e.video.media)&&(void 0===e.video.nextMedia||null===e.video.nextMedia||ot(e.video.nextMedia))&&(void 0===e.video.prevMedia||null===e.video.prevMedia||ot(e.video.prevMedia))&&(void 0===e.video.provider||null===e.video.provider||"ADS"===e.video.provider||"ASSESSMENTS"===e.video.provider||"CAREER_VIDEO"===e.video.provider||"LEARNING"===e.video.provider||"LINKEDIN"===e.video.provider||"LIVE_VIDEO"===e.video.provider||"MESSAGING"===e.video.provider||"PROFILE_VIDEO"===e.video.provider||"STORIES"===e.video.provider||"UGC"===e.video.provider)&&ot(e.video.trackingId)&&(void 0===e.video.adaptiveStreams||null===e.video.adaptiveStreams||Array.isArray(e.video.adaptiveStreams)&&e.video.adaptiveStreams.every((function(e){return null===e||(null!==e&&"object"===ee(e)||"function"==typeof e)&&(void 0===e.initialBitRate||null===e.initialBitRate||"number"==typeof e.initialBitRate)&&(void 0===e.mediaType||null===e.mediaType||ot(e.mediaType))&&("DASH"===e.protocol||"HDS"===e.protocol||"HLS"===e.protocol||"SMOOTH"===e.protocol)&&Array.isArray(e.masterPlaylists)&&e.masterPlaylists.every((function(e){return null===e||(null!==e&&"object"===ee(e)||"function"==typeof e)&&(void 0===e.expiresAt||null===e.expiresAt||"number"==typeof e.expiresAt)&&ot(e.url)}))})))&&Array.isArray(e.video.progressiveStreams)&&e.video.progressiveStreams.every((function(e){return null===e||(null!==e&&"object"===ee(e)||"function"==typeof e)&&"number"==typeof e.bitRate&&"number"==typeof e.height&&(void 0===e.mediaType||null===e.mediaType||ot(e.mediaType))&&(void 0===e.mimeType||null===e.mimeType||"MP3"===e.mimeType||"MP4"===e.mimeType||"WEBM"===e.mimeType)&&"number"==typeof e.size&&"number"==typeof e.width&&Array.isArray(e.streamingLocations)&&e.streamingLocations.every((function(e){return null===e||(null!==e&&"object"===ee(e)||"function"==typeof e)&&(void 0===e.expiresAt||null===e.expiresAt||"number"==typeof e.expiresAt)&&ot(e.url)}))}))&&(void 0===e.video.thumbnail||null===e.video.thumbnail||(null!==e.video.thumbnail&&"object"===ee(e.video.thumbnail)||"function"==typeof e.video.thumbnail)&&(void 0===e.video.thumbnail.attribution||null===e.video.thumbnail.attribution||ot(e.video.thumbnail.attribution))&&(void 0===e.video.thumbnail.rootUrl||null===e.video.thumbnail.rootUrl||ot(e.video.thumbnail.rootUrl))&&(void 0===e.video.thumbnail.digitalmediaAsset||null===e.video.thumbnail.digitalmediaAsset||ot(e.video.thumbnail.digitalmediaAsset))&&Array.isArray(e.video.thumbnail.artifacts)&&e.video.thumbnail.artifacts.every((function(e){return null===e||(null!==e&&"object"===ee(e)||"function"==typeof e)&&"number"==typeof e.width&&"number"==typeof e.height&&ot(e.fileIdentifyingUrlPathSegment)}))&&(void 0===e.video.thumbnail.focalPoint||null===e.video.thumbnail.focalPoint||(null!==e.video.thumbnail.focalPoint&&"object"===ee(e.video.thumbnail.focalPoint)||"function"==typeof e.video.thumbnail.focalPoint)&&"number"==typeof e.video.thumbnail.focalPoint.xOffsetPercentage&&"number"==typeof e.video.thumbnail.focalPoint.yOffsetPercentage))&&(void 0===e.video.transcripts||null===e.video.transcripts||Array.isArray(e.video.transcripts)&&e.video.transcripts.every((function(e){return null===e||(null!==e&&"object"===ee(e)||"function"==typeof e)&&(void 0===e.captionFile||null===e.captionFile||ot(e.captionFile))&&(void 0===e.captionFormat||null===e.captionFormat||"SRT"===e.captionFormat||"WEBVTT"===e.captionFormat)&&"boolean"==typeof e.isAutogenerated&&Array.isArray(e.lines)&&e.lines.every((function(e){return null===e||(null!==e&&"object"===ee(e)||"function"==typeof e)&&ot(e.caption)&&"number"==typeof e.lineEndAt&&"number"==typeof e.lineStartAt}))&&(null!==e.locale&&"object"===ee(e.locale)||"function"==typeof e.locale)&&(void 0===e.locale.country||null===e.locale.country||ot(e.locale.country))&&ot(e.locale.language)&&(void 0===e.locale.script||null===e.locale.script||ot(e.locale.script))&&(void 0===e.locale.variant||null===e.locale.variant||ot(e.locale.variant))&&(void 0===e.locale.extensions||null===e.locale.extensions||(null!==e.locale.extensions&&"object"===ee(e.locale.extensions)||"function"==typeof e.locale.extensions)&&(void 0===e.locale.extensions.t||null===e.locale.extensions.t||ot(e.locale.extensions.t))&&(void 0===e.locale.extensions.u||null===e.locale.extensions.u||ot(e.locale.extensions.u))&&(void 0===e.locale.extensions.x||null===e.locale.extensions.x||ot(e.locale.extensions.x)))}))))&&(void 0===e.videoMeeting||null===e.videoMeeting||(null!==e.videoMeeting&&"object"===ee(e.videoMeeting)||"function"==typeof e.videoMeeting)&&(void 0===e.videoMeeting.earliestStartAt||null===e.videoMeeting.earliestStartAt||"number"==typeof e.videoMeeting.earliestStartAt)&&(void 0===e.videoMeeting.expiresAt||null===e.videoMeeting.expiresAt||"number"==typeof e.videoMeeting.expiresAt)&&(void 0===e.videoMeeting.videoMeeting||null===e.videoMeeting.videoMeeting||(null!==e.videoMeeting.videoMeeting&&"object"===ee(e.videoMeeting.videoMeeting)||"function"==typeof e.videoMeeting.videoMeeting)&&ot(e.videoMeeting.videoMeeting.entityUrn))&&(void 0===e.videoMeeting.timeRange||null===e.videoMeeting.timeRange||(null!==e.videoMeeting.timeRange&&"object"===ee(e.videoMeeting.timeRange)||"function"==typeof e.videoMeeting.timeRange)&&(void 0===e.videoMeeting.timeRange.end||null===e.videoMeeting.timeRange.end||"number"==typeof e.videoMeeting.timeRange.end)&&(void 0===e.videoMeeting.timeRange.start||null===e.videoMeeting.timeRange.start||"number"==typeof e.videoMeeting.timeRange.start)))&&(void 0===e.hostUrnData||null===e.hostUrnData||(null!==e.hostUrnData&&"object"===ee(e.hostUrnData)||"function"==typeof e.hostUrnData)&&ot(e.hostUrnData.hostUrn)&&ot(e.hostUrnData.type))&&(void 0===e.conversationAdsMessageContent||null===e.conversationAdsMessageContent||(null!==e.conversationAdsMessageContent&&"object"===ee(e.conversationAdsMessageContent)||"function"==typeof e.conversationAdsMessageContent)&&ot(e.conversationAdsMessageContent.sponsoredMessageContentUrn)&&(void 0===e.conversationAdsMessageContent.sponsoredMessageTrackingId||null===e.conversationAdsMessageContent.sponsoredMessageTrackingId||"number"==typeof e.conversationAdsMessageContent.sponsoredMessageTrackingId)&&Array.isArray(e.conversationAdsMessageContent.sponsoredMessageOptions)&&e.conversationAdsMessageContent.sponsoredMessageOptions.every((function(e){return null===e||(null!==e&&"object"===ee(e)||"function"==typeof e)&&(void 0===e.tscpUrl||null===e.tscpUrl||ot(e.tscpUrl))&&(void 0===e.clickAction||null===e.clickAction||(null!==e.clickAction&&"object"===ee(e.clickAction)||"function"==typeof e.clickAction)&&(void 0===e.clickAction.externalWebsiteClickAction||null===e.clickAction.externalWebsiteClickAction||(null!==e.clickAction.externalWebsiteClickAction&&"object"===ee(e.clickAction.externalWebsiteClickAction)||"function"==typeof e.clickAction.externalWebsiteClickAction)&&(void 0===e.clickAction.externalWebsiteClickAction.redirectUrl||null===e.clickAction.externalWebsiteClickAction.redirectUrl||ot(e.clickAction.externalWebsiteClickAction.redirectUrl)))&&(void 0===e.clickAction.leadGenClickAction||null===e.clickAction.leadGenClickAction||(null!==e.clickAction.leadGenClickAction&&"object"===ee(e.clickAction.leadGenClickAction)||"function"==typeof e.clickAction.leadGenClickAction)&&(void 0===e.clickAction.leadGenClickAction.leadGenFormUrn||null===e.clickAction.leadGenClickAction.leadGenFormUrn||ot(e.clickAction.leadGenClickAction.leadGenFormUrn))&&(void 0===e.clickAction.leadGenClickAction.leadTrackingCode||null===e.clickAction.leadGenClickAction.leadTrackingCode||ot(e.clickAction.leadGenClickAction.leadTrackingCode))&&(void 0===e.clickAction.leadGenClickAction.leadTrackingParams||null===e.clickAction.leadGenClickAction.leadTrackingParams||ot(e.clickAction.leadGenClickAction.leadTrackingParams))))&&at(e.optionText)&&(void 0===e.sponsoredMessageOption||null===e.sponsoredMessageOption||(null!==e.sponsoredMessageOption&&"object"===ee(e.sponsoredMessageOption)||"function"==typeof e.sponsoredMessageOption)&&ot(e.sponsoredMessageOption.entityUrn))})))&&(void 0===e.forwardedMessageContent||null===e.forwardedMessageContent||(null!==e.forwardedMessageContent&&"object"===ee(e.forwardedMessageContent)||"function"==typeof e.forwardedMessageContent)&&"number"==typeof e.forwardedMessageContent.originalSendAt&&(null!==e.forwardedMessageContent.originalSender&&"object"===ee(e.forwardedMessageContent.originalSender)||"function"==typeof e.forwardedMessageContent.originalSender)&&ot(e.forwardedMessageContent.originalSender.entityUrn)&&(void 0===e.forwardedMessageContent.originalSender.hostIdentityUrn||null===e.forwardedMessageContent.originalSender.hostIdentityUrn||ot(e.forwardedMessageContent.originalSender.hostIdentityUrn))&&(void 0===e.forwardedMessageContent.originalSender.backendUrn||null===e.forwardedMessageContent.originalSender.backendUrn||ot(e.forwardedMessageContent.originalSender.backendUrn))&&(void 0===e.forwardedMessageContent.originalSender.participantType||null===e.forwardedMessageContent.originalSender.participantType||(null!==e.forwardedMessageContent.originalSender.participantType&&"object"===ee(e.forwardedMessageContent.originalSender.participantType)||"function"==typeof e.forwardedMessageContent.originalSender.participantType)&&(void 0===e.forwardedMessageContent.originalSender.participantType.member||null===e.forwardedMessageContent.originalSender.participantType.member||(null!==e.forwardedMessageContent.originalSender.participantType.member&&"object"===ee(e.forwardedMessageContent.originalSender.participantType.member)||"function"==typeof e.forwardedMessageContent.originalSender.participantType.member)&&(void 0===e.forwardedMessageContent.originalSender.participantType.member.profileUrl||null===e.forwardedMessageContent.originalSender.participantType.member.profileUrl||ot(e.forwardedMessageContent.originalSender.participantType.member.profileUrl))&&(void 0===e.forwardedMessageContent.originalSender.participantType.member.distance||null===e.forwardedMessageContent.originalSender.participantType.member.distance||"DISTANCE_1"===e.forwardedMessageContent.originalSender.participantType.member.distance||"DISTANCE_2"===e.forwardedMessageContent.originalSender.participantType.member.distance||"DISTANCE_3"===e.forwardedMessageContent.originalSender.participantType.member.distance||"OUT_OF_NETWORK"===e.forwardedMessageContent.originalSender.participantType.member.distance||"SELF"===e.forwardedMessageContent.originalSender.participantType.member.distance)&&at(e.forwardedMessageContent.originalSender.participantType.member.firstName)&&(void 0===e.forwardedMessageContent.originalSender.participantType.member.lastName||null===e.forwardedMessageContent.originalSender.participantType.member.lastName||at(e.forwardedMessageContent.originalSender.participantType.member.lastName))&&(void 0===e.forwardedMessageContent.originalSender.participantType.member.headline||null===e.forwardedMessageContent.originalSender.participantType.member.headline||at(e.forwardedMessageContent.originalSender.participantType.member.headline))&&(void 0===e.forwardedMessageContent.originalSender.participantType.member.profilePicture||null===e.forwardedMessageContent.originalSender.participantType.member.profilePicture||(null!==e.forwardedMessageContent.originalSender.participantType.member.profilePicture&&"object"===ee(e.forwardedMessageContent.originalSender.participantType.member.profilePicture)||"function"==typeof e.forwardedMessageContent.originalSender.participantType.member.profilePicture)&&(void 0===e.forwardedMessageContent.originalSender.participantType.member.profilePicture.attribution||null===e.forwardedMessageContent.originalSender.participantType.member.profilePicture.attribution||ot(e.forwardedMessageContent.originalSender.participantType.member.profilePicture.attribution))&&(void 0===e.forwardedMessageContent.originalSender.participantType.member.profilePicture.rootUrl||null===e.forwardedMessageContent.originalSender.participantType.member.profilePicture.rootUrl||ot(e.forwardedMessageContent.originalSender.participantType.member.profilePicture.rootUrl))&&(void 0===e.forwardedMessageContent.originalSender.participantType.member.profilePicture.digitalmediaAsset||null===e.forwardedMessageContent.originalSender.participantType.member.profilePicture.digitalmediaAsset||ot(e.forwardedMessageContent.originalSender.participantType.member.profilePicture.digitalmediaAsset))&&Array.isArray(e.forwardedMessageContent.originalSender.participantType.member.profilePicture.artifacts)&&e.forwardedMessageContent.originalSender.participantType.member.profilePicture.artifacts.every((function(e){return null===e||(null!==e&&"object"===ee(e)||"function"==typeof e)&&"number"==typeof e.width&&"number"==typeof e.height&&ot(e.fileIdentifyingUrlPathSegment)}))&&(void 0===e.forwardedMessageContent.originalSender.participantType.member.profilePicture.focalPoint||null===e.forwardedMessageContent.originalSender.participantType.member.profilePicture.focalPoint||(null!==e.forwardedMessageContent.originalSender.participantType.member.profilePicture.focalPoint&&"object"===ee(e.forwardedMessageContent.originalSender.participantType.member.profilePicture.focalPoint)||"function"==typeof e.forwardedMessageContent.originalSender.participantType.member.profilePicture.focalPoint)&&"number"==typeof e.forwardedMessageContent.originalSender.participantType.member.profilePicture.focalPoint.xOffsetPercentage&&"number"==typeof e.forwardedMessageContent.originalSender.participantType.member.profilePicture.focalPoint.yOffsetPercentage))&&(void 0===e.forwardedMessageContent.originalSender.participantType.member.pronoun||null===e.forwardedMessageContent.originalSender.participantType.member.pronoun||(null!==e.forwardedMessageContent.originalSender.participantType.member.pronoun&&"object"===ee(e.forwardedMessageContent.originalSender.participantType.member.pronoun)||"function"==typeof e.forwardedMessageContent.originalSender.participantType.member.pronoun)&&(void 0===e.forwardedMessageContent.originalSender.participantType.member.pronoun.customPronoun||null===e.forwardedMessageContent.originalSender.participantType.member.pronoun.customPronoun||ot(e.forwardedMessageContent.originalSender.participantType.member.pronoun.customPronoun))&&(void 0===e.forwardedMessageContent.originalSender.participantType.member.pronoun.standardizedPronoun||null===e.forwardedMessageContent.originalSender.participantType.member.pronoun.standardizedPronoun||"HE_HIM"===e.forwardedMessageContent.originalSender.participantType.member.pronoun.standardizedPronoun||"SHE_HER"===e.forwardedMessageContent.originalSender.participantType.member.pronoun.standardizedPronoun||"THEY_THEM"===e.forwardedMessageContent.originalSender.participantType.member.pronoun.standardizedPronoun)))&&(void 0===e.forwardedMessageContent.originalSender.participantType.organization||null===e.forwardedMessageContent.originalSender.participantType.organization||(null!==e.forwardedMessageContent.originalSender.participantType.organization&&"object"===ee(e.forwardedMessageContent.originalSender.participantType.organization)||"function"==typeof e.forwardedMessageContent.originalSender.participantType.organization)&&"boolean"==typeof e.forwardedMessageContent.originalSender.participantType.organization.following&&("COMPANY"===e.forwardedMessageContent.originalSender.participantType.organization.pageType||"SCHOOL"===e.forwardedMessageContent.originalSender.participantType.organization.pageType||"SHOWCASE"===e.forwardedMessageContent.originalSender.participantType.organization.pageType)&&(void 0===e.forwardedMessageContent.originalSender.participantType.organization.pageUrl||null===e.forwardedMessageContent.originalSender.participantType.organization.pageUrl||ot(e.forwardedMessageContent.originalSender.participantType.organization.pageUrl))&&at(e.forwardedMessageContent.originalSender.participantType.organization.name)&&(void 0===e.forwardedMessageContent.originalSender.participantType.organization.tagline||null===e.forwardedMessageContent.originalSender.participantType.organization.tagline||at(e.forwardedMessageContent.originalSender.participantType.organization.tagline))&&(void 0===e.forwardedMessageContent.originalSender.participantType.organization.logo||null===e.forwardedMessageContent.originalSender.participantType.organization.logo||(null!==e.forwardedMessageContent.originalSender.participantType.organization.logo&&"object"===ee(e.forwardedMessageContent.originalSender.participantType.organization.logo)||"function"==typeof e.forwardedMessageContent.originalSender.participantType.organization.logo)&&(void 0===e.forwardedMessageContent.originalSender.participantType.organization.logo.attribution||null===e.forwardedMessageContent.originalSender.participantType.organization.logo.attribution||ot(e.forwardedMessageContent.originalSender.participantType.organization.logo.attribution))&&(void 0===e.forwardedMessageContent.originalSender.participantType.organization.logo.rootUrl||null===e.forwardedMessageContent.originalSender.participantType.organization.logo.rootUrl||ot(e.forwardedMessageContent.originalSender.participantType.organization.logo.rootUrl))&&(void 0===e.forwardedMessageContent.originalSender.participantType.organization.logo.digitalmediaAsset||null===e.forwardedMessageContent.originalSender.participantType.organization.logo.digitalmediaAsset||ot(e.forwardedMessageContent.originalSender.participantType.organization.logo.digitalmediaAsset))&&Array.isArray(e.forwardedMessageContent.originalSender.participantType.organization.logo.artifacts)&&e.forwardedMessageContent.originalSender.participantType.organization.logo.artifacts.every((function(e){return null===e||(null!==e&&"object"===ee(e)||"function"==typeof e)&&"number"==typeof e.width&&"number"==typeof e.height&&ot(e.fileIdentifyingUrlPathSegment)}))&&(void 0===e.forwardedMessageContent.originalSender.participantType.organization.logo.focalPoint||null===e.forwardedMessageContent.originalSender.participantType.organization.logo.focalPoint||(null!==e.forwardedMessageContent.originalSender.participantType.organization.logo.focalPoint&&"object"===ee(e.forwardedMessageContent.originalSender.participantType.organization.logo.focalPoint)||"function"==typeof e.forwardedMessageContent.originalSender.participantType.organization.logo.focalPoint)&&"number"==typeof e.forwardedMessageContent.originalSender.participantType.organization.logo.focalPoint.xOffsetPercentage&&"number"==typeof e.forwardedMessageContent.originalSender.participantType.organization.logo.focalPoint.yOffsetPercentage))&&(void 0===e.forwardedMessageContent.originalSender.participantType.organization.industryName||null===e.forwardedMessageContent.originalSender.participantType.organization.industryName||at(e.forwardedMessageContent.originalSender.participantType.organization.industryName)))&&(void 0===e.forwardedMessageContent.originalSender.participantType.custom||null===e.forwardedMessageContent.originalSender.participantType.custom||(null!==e.forwardedMessageContent.originalSender.participantType.custom&&"object"===ee(e.forwardedMessageContent.originalSender.participantType.custom)||"function"==typeof e.forwardedMessageContent.originalSender.participantType.custom)&&at(e.forwardedMessageContent.originalSender.participantType.custom.name)&&(void 0===e.forwardedMessageContent.originalSender.participantType.custom.image||null===e.forwardedMessageContent.originalSender.participantType.custom.image||(null!==e.forwardedMessageContent.originalSender.participantType.custom.image&&"object"===ee(e.forwardedMessageContent.originalSender.participantType.custom.image)||"function"==typeof e.forwardedMessageContent.originalSender.participantType.custom.image)&&(void 0===e.forwardedMessageContent.originalSender.participantType.custom.image.attribution||null===e.forwardedMessageContent.originalSender.participantType.custom.image.attribution||ot(e.forwardedMessageContent.originalSender.participantType.custom.image.attribution))&&(void 0===e.forwardedMessageContent.originalSender.participantType.custom.image.rootUrl||null===e.forwardedMessageContent.originalSender.participantType.custom.image.rootUrl||ot(e.forwardedMessageContent.originalSender.participantType.custom.image.rootUrl))&&(void 0===e.forwardedMessageContent.originalSender.participantType.custom.image.digitalmediaAsset||null===e.forwardedMessageContent.originalSender.participantType.custom.image.digitalmediaAsset||ot(e.forwardedMessageContent.originalSender.participantType.custom.image.digitalmediaAsset))&&Array.isArray(e.forwardedMessageContent.originalSender.participantType.custom.image.artifacts)&&e.forwardedMessageContent.originalSender.participantType.custom.image.artifacts.every((function(e){return null===e||(null!==e&&"object"===ee(e)||"function"==typeof e)&&"number"==typeof e.width&&"number"==typeof e.height&&ot(e.fileIdentifyingUrlPathSegment)}))&&(void 0===e.forwardedMessageContent.originalSender.participantType.custom.image.focalPoint||null===e.forwardedMessageContent.originalSender.participantType.custom.image.focalPoint||(null!==e.forwardedMessageContent.originalSender.participantType.custom.image.focalPoint&&"object"===ee(e.forwardedMessageContent.originalSender.participantType.custom.image.focalPoint)||"function"==typeof e.forwardedMessageContent.originalSender.participantType.custom.image.focalPoint)&&"number"==typeof e.forwardedMessageContent.originalSender.participantType.custom.image.focalPoint.xOffsetPercentage&&"number"==typeof e.forwardedMessageContent.originalSender.participantType.custom.image.focalPoint.yOffsetPercentage))))&&at(e.forwardedMessageContent.forwardedBody)&&at(e.forwardedMessageContent.footerText))&&(void 0===e.unavailableContent||null===e.unavailableContent||(null!==e.unavailableContent&&"object"===ee(e.unavailableContent)||"function"==typeof e.unavailableContent)&&("AUDIO"===e.unavailableContent.contentType||"FILE"===e.unavailableContent.contentType||"NON_MULTIMEDIA"===e.unavailableContent.contentType||"OTHER_MULTIMEDIA"===e.unavailableContent.contentType||"UNKNOWN"===e.unavailableContent.contentType||"VIDEO"===e.unavailableContent.contentType)&&(void 0===e.unavailableContent.unavailableReason||null===e.unavailableContent.unavailableReason||at(e.unavailableContent.unavailableReason)))}))&&(void 0===t.messageRequestContextByRecipient||Array.isArray(t.messageRequestContextByRecipient)&&t.messageRequestContextByRecipient.every((function(e){return(null!==e&&"object"===ee(e)||"function"==typeof e)&&ot(e.hostRecipientUrn)&&ot(e.contextEntityUrn)})))&&(void 0===t.messageSubject||ot(t.messageSubject))&&(void 0===t.quickActionContextUrn||ot(t.quickActionContextUrn))&&(void 0===t.invitationUrn||ot(t.invitationUrn))&&(void 0===t.forwardedMessageUrn||ot(t.forwardedMessageUrn))&&(void 0===t.conversationState||"ACCEPTED"===t.conversationState||"DECLINED"===t.conversationState||"PENDING"===t.conversationState)&&(void 0===t.hostMessageCreateContent||(null!==t.hostMessageCreateContent&&"object"===ee(t.hostMessageCreateContent)||"function"==typeof t.hostMessageCreateContent)&&Object.entries(t.hostMessageCreateContent).every((function(e){var t=fe(e,2),n=t[0]
return t[1],ot(n)})))&&(void 0===t.conversationTitle||ot(t.conversationTitle))}function ut(e){var t=e
return(null!==t&&"object"===ee(t)||"function"==typeof t)&&(void 0===t.pageInstance||(null!==t.pageInstance&&"object"===ee(t.pageInstance)||"function"==typeof t.pageInstance)&&ot(t.pageInstance.pageUrn)&&ot(t.pageInstance.trackingId)||(null!==t.pageInstance&&"object"===ee(t.pageInstance)||"function"==typeof t.pageInstance)&&ot(t.pageInstance.pageUrn)&&ot(t.pageInstance.trackingId))&&(void 0===t.trackingId||ot(t.trackingId))&&(void 0===t.sourceType||ot(t.sourceType))&&(void 0===t.messageComposeFlowTrackingId||ot(t.messageComposeFlowTrackingId))&&(void 0===t.isSystemClipboardUsed||!1===t.isSystemClipboardUsed||!0===t.isSystemClipboardUsed)&&(void 0===t.aiMessageType||ot(t.aiMessageType))}function lt(e){var t=e
return(null!==t&&"object"===ee(t)||"function"==typeof t)&&"category"===t.kind&&ot(t.category)}function pt(e){var t=e
return lt(t)||(null!==t&&"object"===ee(t)||"function"==typeof t)&&"search"===t.kind&&Array.isArray(t.categories)&&t.categories.every((function(e){return ot(e)}))&&(void 0===t.keywords||ot(t.keywords))&&(void 0===t.read||!1===t.read||!0===t.read)&&"boolean"==typeof t.firstDegreeConnections}var ft={MISSING_DATA_FROM_RESPONSE:{message:"Some data was missing or invalid from the response",code:100},ERRORS_IN_RESPONSE:{message:"Some errors were returned in the response",code:101},RESPONSE_INVALID_JSON:{message:"Failed to parse a JSON response",code:102},NO_RESPONSE_RECEIVED:{message:"No response received",code:103},NETWORK_ERROR:{message:"Network Error",code:104}},ht={FEATURE_NOT_YET_AVAILABLE:{message:"This feature is not yet available",code:613},MAILBOX_CONNECT_FAILED:{message:"Connecting to the Mailbox failed",code:614},MESSAGE_DECORATE_FAILED:{message:"Decoration of messages failed",code:600},CONVERSATION_DECORATE_FAILED:{message:"Decoration of conversation failed",code:601},MAILBOX_DECORATE_FAILED:{message:"Decoration of mailbox failed",code:602},CONVERSATION_DOES_NOT_EXIST:{message:"The conversation does not exist",code:603},DRAFT_MESSAGE_IS_EMPTY:{message:"The draft message is empty",code:604},MESSAGE_SEND_FAILED:{message:"Could not send the message",code:605},MESSAGE_DELETE_FAILED:{message:"Could not delete the message",code:606},MESSAGE_EDIT_FAILED:{message:"Could not edit the message",code:607},MESSAGE_DOES_NOT_EXIST:{message:"The message does not exist",code:608},DRAFT_CONVERSATION_NOT_FOUND:{message:"The draft conversation could not be found",code:610},PARTICIPANTS_DECORATE_FAILED:{message:"Decoration of participants failed",code:611},TOO_MANY_CATEGORIES:{message:"Too many categories specified and no keywords for find conversations",code:612},CANNOT_CREATE_FILTERED_MAILBOX:{message:"Cannot create a FilteredMailbox from a non-root mailbox",code:616},LOAD_OLDER_MESSAGES_FAILED:{message:"Cannot load older messages",code:617},RETRY_CANCELLED:{message:"The exponential backoff retry was cancelled",code:618},SENDING_QUEUE_IN_PROGRESS:{message:"The sending queue is already in progress. Cannot sendPendingMessages.",code:619},CANNOT_ADD_MESSAGES_IN_CONVERSATION:{message:"The draft conversation is in the process of sending the first message and creating a saved conversation. Cannot add more messages.",code:620},CANNOT_ADD_PARTICIPANTS_IN_CONVERSATION:{message:"Cannot add participants in conversation",code:621},CANNOT_REMOVE_PARTICIPANTS_FROM_CONVERSATION:{message:"Cannot remove participants from conversation",code:622},CANNOT_DISMISS_INLINE_WARNING:{message:"Cannot dismiss inline warning",code:623},MESSAGE_LIST_SYNC_FAILED:{message:"Message list sync failed",code:624},CHAIN_SYNC_FAILED:{message:"Chain sync failed",code:625},GET_REACTORS_FAILED:{message:"Get reactors by message and emoji failed",code:627},REACTION_LIMIT_REACHED:{message:"Cannot react to message because the reaction limit has been reached on this message",code:628},CONTENT_IS_NOT_ATTRIBUTED_TEXT:{message:"Content is not in the proper format of an AttributedTextFragment",code:629},INVALID_URL:{message:"Invalid restli or graphql URL",code:630},CHAIN_SYNC_CANNOT_START:{message:"Chain sync cannot start because missing syncToken",code:631},INVALID_TYPE_ARGUMENT:{message:"Invalid type argument",code:632},COMPOSE_BY_RECIPIENTS_FAILED:{message:"composeByRecipients failed: The conversation found could not be added to the Mailbox State",code:633}},mt={CANNOT_QUERY_FRAGMENT:{message:"Cannot submit a GraphQL request with a fragment query",code:800},GRAPHQL_ERROR_PAYLOAD:{message:"Error in GraphQL response",code:801},GRAPHQL_INVALID_LOOKUP:{message:"Could not lookup the graphql query - invalid query",code:802}},gt={CANNOT_CONNECT:{message:"Connection to Realtime failed",code:700},PAYLOAD_DATA_DOES_NOT_EXIST:{message:"Realtime response decorated payload data does not exist",code:701},PAYLOAD_DECORATION_DOES_NOT_EXIST:{message:"Realtime response decorated payload decoration does not exist",code:702},PAYLOAD_RESULT_DOES_NOT_EXIST:{message:"Realtime response decorated payload result does not exist",code:703},COMMON_TIME_ERROR:{message:"Error event emitted from common-time",code:704},EVENT_ERROR:{message:"Event data received from Realtime is invalid",code:705},EVENT_RESPONSE_ERROR:{message:"Event data contains GraphQL decoration errors",code:706}},yt=function(e){return e instanceof Error},vt=function(e){return e instanceof Tt},bt=function(e){var t=e
return void 0!==t.status&&null!==t.status}
Le=Symbol.toPrimitive
var Tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&se(e,t)}(n,ue(Error))
var t=function(e){var t=ce()
return function(){var n,r=oe(e)
if(t){var i=oe(this).constructor
n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments)
return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t
if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")
return pe(e)}(this,n)}}(n)
function n(e,r,i,a,o){var s
return ne(this,n),ae(pe(s=t.call(this,"[web-messenger-data] ".concat(i.trim()," (").concat(r,")").concat(n.getMessageFromCause(a)))),"namespace",void 0),ae(pe(s),"code",void 0),ae(pe(s),"originalStatusCodes",void 0),ae(pe(s),"cause",void 0),s.name="MDError",s.code=r,s.namespace=e,s.cause=a,s.originalStatusCodes=o,Object.setPrototypeOf(pe(s),(this instanceof n?this.constructor:void 0).prototype),s}return ie(n,[{key:"id",get:function(){return"".concat(this.namespace,":").concat(this.code)}},{key:Le,value:function(e){return"string"===e?this.toString():null}}],[{key:"fromUnknown",value:function(e,t){var r=ht[t],i=r.code,a=r.message
return yt(e)?new n("client",i,"".concat(a," - ").concat(e.message)):new n("client",i,a)}},{key:"fromMDResponseError",value:function(e,t,r){var i=t.message||t.code,a=void 0!==i?"".concat(e," ").concat(i):e
return new n("api",null!=r?r:t.status,a)}},{key:"fromClientErrorMemo",value:function(e,t){var r=ht[e]
return new n("client",r.code,r.message,t)}},{key:"fromClientErrorMemoWithComment",value:function(e,t,r){var i=ht[e],a=i.code,o=i.message
return new n("client",a,"".concat(o," - ").concat(t),r)}},{key:"fromInvalidType",value:function(e,t,r){var i=ht.INVALID_TYPE_ARGUMENT,a=i.code,o=i.message,s="".concat(e,"() invalid argument ").concat(t," not a ").concat(r,"'")
return new n("client",a,"".concat(o," - ").concat(s))}},{key:"fromApiErrorMemo",value:function(e,t){var r=ft[e],i=r.code,a=r.message
return new n("api",i,"".concat(a).concat(null!=t&&t.msg?" - "+t.msg:""),null==t?void 0:t.cause,null==t?void 0:t.originalStatusCodes)}},{key:"fromGraphQLErrorMemo",value:function(e,t){var r=mt[e]
return new n("graphql",r.code,r.message,t)}},{key:"fromRealtimeErrorMemo",value:function(e,t){var r=gt[e]
return new n("realtime",r.code,r.message,t)}},{key:"buildCommonTimeError",value:function(e){var t=gt.COMMON_TIME_ERROR.message,r=e.message?"".concat(t," - ").concat(e.message):t,i=fe(bt(e)?[e.originalEvent,e.status]:[void 0,gt.COMMON_TIME_ERROR.code],2),a=i[0]
return new n("realtime",i[1],r,a)}},{key:"buildGraphQLPayloadError",value:function(e,t){var r,i,a=mt.GRAPHQL_ERROR_PAYLOAD.message,o=e.message,s='"'.concat(t,'" ').concat(a," - ").concat(null!=o?o:"")
return new n("graphql",null!==(r=null===(i=e.extensions)||void 0===i?void 0:i.status)&&void 0!==r?r:mt.GRAPHQL_ERROR_PAYLOAD.code,s)}},{key:"getMessageFromCause",value:function(e){return e?Array.isArray(e)?" - ".concat(e.map((function(e){return e.message})).join()):" - ".concat(e.message):""}}]),n}(),_t=function(e,t,n){return Promise.reject(Tt.fromMDResponseError(e,t,n))},Et={fullyLoaded:!1,loading:!1,nextCursor:null,syncToken:null,lastRequestId:0},xt={observers:null,realtime:null,store:null}
function St(e){return e&&null!==e.store&&null!==e.observers&&null!==e.realtime}var Ct,At={},kt=function(e){return function(t){return!!Ke(t)&&t.entityUrn===e}},It=function(e){return function(t){return!!Ke(t)&&e.includes(t.entityUrn)}},Rt=function(e){return function(t){return e===($e(e)?t.entityUrn:t.clientId)}},wt=function(e){return function(t){return void 0!==e.find((function(e){return t.categories.includes(e)}))}},Mt=function(e){return function(t){return t.entityUrn===e}},Ot=function(e){return function(t){return e.includes(t.entityUrn)}},Nt=function(e){return function(t){return t.clientId===e}},Pt=function(e){return function(t){return void 0!==e[t.clientId]&&null!==e[t.clientId]}},Ut=function(e){return void 0!==e.conversationUrn},Dt=function(e){return void 0!==e.messageUrn},Lt=function(e){return Dt(e)||Ut(e)},Ft=function(e,t){var n,r,i,a,o,s,c,d
return{renderContent:"ADD"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ADD")?[].concat(he(e.renderContent),he(t.renderContent)):t.renderContent,messageRequestContextByRecipient:null!==(n=t.messageRequestContextByRecipient)&&void 0!==n?n:e.messageRequestContextByRecipient,quickActionContextUrn:null!==(r=t.quickActionContextUrn)&&void 0!==r?r:e.quickActionContextUrn,invitationUrn:null!==(i=t.invitationUrn)&&void 0!==i?i:e.invitationUrn,forwardedMessageUrn:null!==(a=t.forwardedMessageUrn)&&void 0!==a?a:e.forwardedMessageUrn,conversationState:null!==(o=t.conversationState)&&void 0!==o?o:e.conversationState,conversationTitle:null!==(s=t.conversationTitle)&&void 0!==s?s:e.conversationTitle,hostMessageCreateContent:null!==(c=t.hostMessageCreateContent)&&void 0!==c?c:e.hostMessageCreateContent,messageSubject:null!==(d=t.messageSubject)&&void 0!==d?d:e.messageSubject}},Bt=function(e){return function(t){var n
return t?J(J(J({},t),e),{},{optionalSendData:e.optionalSendData?Ft(t.optionalSendData,e.optionalSendData,"REPLACE"):t.optionalSendData,status:"Delivered"===t.status?"Delivered":null!==(n=e.status)&&void 0!==n?n:t.status,additionalData:e.additionalData||t.additionalData,entityUrn:t.entityUrn||e.entityUrn,clientId:t.clientId}):e}},jt=function(e){return e.connected.api},qt=function(e){return e.slice().sort((function(e,t){return"Delivered"===e.status&&"Delivered"!==t.status?-1:"Delivered"!==e.status&&"Delivered"===t.status?1:e.deliveredAt.getTime()-t.deliveredAt.getTime()}))},Vt=function(e){return e.slice().sort((function(e,t){return t.lastActivityAt.getTime()-e.lastActivityAt.getTime()}))},Ht=function(e){return function(t){return e.entityUrn===t.entityUrn}},Gt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FilteredMailboxState"
return function(n){return void 0===e.find(Ht(n),t)}},Kt=function(e){return e.reduce((function(e,t){return[].concat(he(e),he(t.messages))}),[])},Wt=function(e){return void 0===e.messages&&void 0!==e.status},zt=function(e){return"Draft"===e.status||"Pending"===e.status||"Sending"===e.status},$t=function(e,t){var n,r,i,a,o
if(t.lastActivityAt&&t.lastActivityAt<e.lastActivityAt)return e
var s=en(null!==(n=e.seenReceiptsMap)&&void 0!==n?n:{},null!==(r=t.seenReceiptsMap)&&void 0!==r?r:{})
return J(J(J({},e),t),{},{participants:t.participants&&t.participants.length>0?t.participants:e.participants,lastActivityAt:null!==(i=t.lastActivityAt)&&void 0!==i?i:e.lastActivityAt,status:J(J({},e.status),t.status),metadata:{prevCursor:null!==(a=t.metadata)&&void 0!==a&&a.prevCursor&&""!==t.metadata.prevCursor?t.metadata.prevCursor:e.metadata.prevCursor,syncToken:null!==(o=t.metadata)&&void 0!==o&&o.syncToken&&""!==t.metadata.syncToken?t.metadata.syncToken:e.metadata.syncToken},seenReceiptsMap:s,quickReplies:t.quickReplies&&t.quickReplies.length>0?t.quickReplies:e.quickReplies})},Xt=function(e,t){var n,r,i,a
if(Wt(t))return J(J({},e),{},{status:J(J({},e.status),t.status)})
var o=t.participants||[],s=he(t.messages||[]),c=t.matchingSearches||[]
return J(J(J({},e),t),{},{participants:o.length>0?we(e.participants,o).filter((function(e){return void 0!==e})).sort():e.participants,messages:s.length>0?e.messages.add(s):e.messages,clientId:e.clientId,draftMessage:e.draftMessage,matchingSearches:c.length>0?we(e.matchingSearches,c):e.matchingSearches,metadata:{prevCursor:null!==(n=t.metadata)&&void 0!==n&&n.prevCursor&&""!==(null===(r=t.metadata)||void 0===r?void 0:r.prevCursor)?t.metadata.prevCursor:e.metadata.prevCursor,syncToken:null!==(i=t.metadata)&&void 0!==i&&i.syncToken&&""!==(null===(a=t.metadata)||void 0===a?void 0:a.syncToken)?t.metadata.syncToken:e.metadata.syncToken},quickReplies:t.quickReplies&&t.quickReplies.length>0?t.quickReplies:e.quickReplies})},Qt=function(e,t){return function(n){var r=n.entityUrn?e.get(n.entityUrn):void 0,i=t.get(n.clientId)
return void 0!==r||void 0!==i&&(void 0===i.entityUrn||void 0===n.entityUrn)}},Yt=function(e,t){return function(n){var r=e.state.draftConversations.get(t)||e.state.conversations.getByIdentifier(t,"FullMailboxState")
if(!r)throw Tt.fromClientErrorMemoWithComment("CONVERSATION_DOES_NOT_EXIST","Checking is in message list")
return void 0!==r.messages.getByIdentifier(n)}},Jt=function(e,t,n){if(0===t.length)return[]
var r=t[0].message,i=e.messages.last()
if(!i)return[]
var a=i.entityUrn
return n&&n.deliveredAt&&(a=i.deliveredAt.getTime()>n.deliveredAt.getTime()?i.entityUrn:n.entityUrn),a===r.entityUrn?t:[]},Zt=function(){X.close(!1),function(){try{for(var e in At)delete At[e]}catch(e){console.error("clearStateTable",e)}}()},en=function(e,t){var n=t?function(e,t){var n=J({},e)
return Ee(t).forEach((function(e){var r
n[e]?(r=n[e]).push.apply(r,he(t[e])):(n[e]=t[e],n[e].sort((function(e,t){return e.seenAt-t.seenAt})))})),n}(e,t):e
return function(e){var t=function(e){var t={}
return Ee(e).forEach((function(n){t[e[n].messageUrn]?t[e[n].messageUrn].push({participantUrn:n,seenAt:e[n].seenAt}):t[e[n].messageUrn]=[{participantUrn:n,seenAt:e[n].seenAt}]})),t}(function(e){var t={}
return Ee(e).forEach((function(n){e[n].forEach((function(e){var r=e.participantUrn
if(t[r]){var i=t[r].seenAt
new Date(e.seenAt)>new Date(i)&&(t[r]={messageUrn:n,seenAt:e.seenAt})}else t[r]={messageUrn:n,seenAt:e.seenAt}}))})),t}(e))
return t}(n)},tn=function(e,t){return e.lastActivityAt.getTime()>=t},nn=function(e,t){var n=e.reduce((function(e,t){return J(J({},e),{},ae({},t.hostIdentityUrn,t))}),{}),r=t.reduce((function(e,t){return J(J({},e),{},ae({},t.hostIdentityUrn,t))}),n)
return Ce(r)},rn=function(e){var t=e.participants.find((function(e){return e.includes("UNKNOWN")}))
return t&&Ue("messenger-data","Realtime ⚡️","New Message conversation update contains invalid participants."),t?J(J({},e),{},{participants:[]}):e},an=function(e){return[e.filter(Ut).map((function(e){return e.conversationUrn})).sort(),e.filter(Dt).map((function(e){return e.messageUrn})).sort()]},on=function(){return cn.fromConversationArray([])},sn=function(e){return!0}
Ct=Symbol.iterator
var cn=function(){function e(t,n){ne(this,e),ae(this,"_conversations",void 0),ae(this,"_filterPredicate",void 0),ae(this,"_entityUrnIndex",void 0),ae(this,"_clientIdIndex",void 0),ae(this,"_idx",0),this._conversations=Vt(t),this._filterPredicate=n||sn,this._entityUrnIndex=new Map(this._conversations.map((function(e){return[e.entityUrn,e]}))),this._clientIdIndex=new Map(this._conversations.map((function(e){return[e.clientId,e]})))}return ie(e,[{key:"getByIdentifier",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FilteredMailboxState",n=$e(e)?this._entityUrnIndex.get(e):this._clientIdIndex.get(e)
return"FullMailboxState"===t||n&&this._filterPredicate(n)?n:void 0}},{key:"filterPredicate",get:function(){return this._filterPredicate}},{key:"filtered",value:function(t){return new e(this._conversations,t)}},{key:Ct,value:function(){return this}},{key:"next",value:function(){for(;this._idx<this._conversations.length&&!this._filterPredicate(this._conversations[this._idx]);)this._idx++
return this._idx<this._conversations.length?{done:!1,value:this._conversations[this._idx++]}:(this._idx=0,{done:!0,value:void 0})}},{key:"last",value:function(){if(0!==this._conversations.length){for(var e=this._conversations.length-1;e>=0&&!this._filterPredicate(this._conversations[e]);)e--
return e>=0?this._conversations[e]:void 0}}},{key:"first",value:function(){if(0!==this._conversations.length){for(var e=0;e<this._conversations.length&&!this._filterPredicate(this._conversations[e]);)e++
return e<this._conversations.length?this._conversations[e]:void 0}}},{key:"find",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FilteredMailboxState"
return this._conversations.filter("FilteredMailboxState"===t?this._filterPredicate:function(){return!0}).find(e)}},{key:"findMessage",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FilteredMailboxState"
return null===(t=this._conversations.filter("FilteredMailboxState"===n?this._filterPredicate:function(){return!0}).find((function(t){return void 0!==t.messages.getByIdentifier(e)})))||void 0===t?void 0:t.messages.getByIdentifier(e)}},{key:"filter",value:function(e){return this._conversations.filter(this._filterPredicate).filter(e)}},{key:"updateItem",value:function(t,n){return new e(Te(t,n)(this._conversations))}},{key:"updateItemByIdentifier",value:function(t,n){var r
if(!(r=$e(t)?this._entityUrnIndex.get(t):this._clientIdIndex.get(t)))throw Tt.fromClientErrorMemoWithComment("CONVERSATION_DOES_NOT_EXIST","Updating item by identifier")
var i=this._conversations.map((function(e){return e.clientId===r.clientId?$t(e,n):e}))
return new e(i,this._filterPredicate)}},{key:"addItem",value:function(t){var n=!1,r=this._conversations.map((function(e){return e.entityUrn===t.entityUrn?(n=!0,Xt(e,t)):e}))
return new e(n?r:[].concat(he(this._conversations),[t]),this._filterPredicate)}},{key:"addItems",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=fe(_e(Gt(this._conversations))(t),2),i=r[0],a=r[1],o=n?i:i.map((function(e){return J(J({},e),{},{categories:[]})})),s=this._conversations.map((function(e){var t=a.find(kt(e.entityUrn))
return t?Xt(e,t):e}))
return new e([].concat(he(s),he(o)),this._filterPredicate)}},{key:"updateAny",value:function(t,n){return new e(be(t,n)(this._conversations))}},{key:"deleteItems",value:function(t){var n
return new e((n=t,e=>e.filter(((e,t)=>!n(e,t))))(this._conversations.filter(this._filterPredicate)),this._filterPredicate)}},{key:"map",value:function(e){return this._conversations.filter(this._filterPredicate).map(e)}},{key:"reduce",value:function(e,t){return this._conversations.filter(this._filterPredicate).reduce(e,t)}},{key:"splitCollection",value:function(t){var n=fe(_e(t)(this._conversations.filter(this._filterPredicate)),2),r=n[0],i=n[1]
return[new e(r),new e(i)]}},{key:"length",get:function(){return this._conversations.filter(this._filterPredicate).length}},{key:"toString",value:function(){return this.map((function(e){return e.toString()})).toString()}}],[{key:"fromConversationArray",value:function(){return new e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],arguments.length>1?arguments[1]:void 0)}},{key:"fromConversationIterable",value:function(t){return new e(t._conversations,t._filterPredicate)}},{key:"merge",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sn
return new e([].concat(he(t),he(n)),r)}}]),e}(),dn=function(e,t){var n=void 0,r=void 0
return[function(){for(var i=this,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s]
n?r=e:(e.apply(this,o),r=void 0,n=setTimeout((function(){r&&(r.apply(i,o),r=void 0),n=void 0}),t))},function(){n&&(clearTimeout(n),n=void 0)}]}
function un(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var ln,pn="function"==typeof Symbol&&Symbol.observable||"@@observable",fn=function(){return Math.random().toString(36).substring(7).split("").join(".")},hn={INIT:"@@redux/INIT"+fn(),REPLACE:"@@redux/REPLACE"+fn(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+fn()}}
function mn(e,t,n){var r
if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(un(0))
if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(un(1))
return n(mn)(e,t)}if("function"!=typeof e)throw new Error(un(2))
var i=e,a=t,o=[],s=o,c=!1
function d(){s===o&&(s=o.slice())}function u(){if(c)throw new Error(un(3))
return a}function l(e){if("function"!=typeof e)throw new Error(un(4))
if(c)throw new Error(un(5))
var t=!0
return d(),s.push(e),function(){if(t){if(c)throw new Error(un(6))
t=!1,d()
var n=s.indexOf(e)
s.splice(n,1),o=null}}}function p(e){if(!function(e){if("object"!=typeof e||null===e)return!1
for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t)
return Object.getPrototypeOf(e)===t}(e))throw new Error(un(7))
if(void 0===e.type)throw new Error(un(8))
if(c)throw new Error(un(9))
try{c=!0,a=i(a,e)}finally{c=!1}for(var t=o=s,n=0;n<t.length;n++)(0,t[n])()
return e}return p({type:hn.INIT}),(r={dispatch:p,subscribe:l,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(un(10))
i=e,p({type:hn.REPLACE})}})[pn]=function(){var e,t=l
return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(un(11))
function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[pn]=function(){return this},e},r}function gn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function yn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
if(!n){if(Array.isArray(e)||(n=bn(e))||t&&e&&"number"==typeof e.length){n&&(e=n)
var r=0,i=function(){}
return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1
return{s:function(){n=n.call(e)},n:function(){var e=n.next()
return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function vn(e){return function(e){if(Array.isArray(e))return Tn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||bn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bn(e,t){if(e){if("string"==typeof e)return Tn(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tn(e,t):void 0}}function Tn(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}function _n(e){return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function En(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sn(e,t,n){return t&&xn(e.prototype,t),n&&xn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var An,kn=new Uint8Array(16)
function In(){if(!An&&!(An="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")
return An(kn)}var Rn=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i
function wn(e){return"string"==typeof e&&Rn.test(e)}for(var Mn=[],On=0;On<256;++On)Mn.push((On+256).toString(16).slice(1))
function Nn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0
return(Mn[e[t+0]]+Mn[e[t+1]]+Mn[e[t+2]]+Mn[e[t+3]]+"-"+Mn[e[t+4]]+Mn[e[t+5]]+"-"+Mn[e[t+6]]+Mn[e[t+7]]+"-"+Mn[e[t+8]]+Mn[e[t+9]]+"-"+Mn[e[t+10]]+Mn[e[t+11]]+Mn[e[t+12]]+Mn[e[t+13]]+Mn[e[t+14]]+Mn[e[t+15]]).toLowerCase()}function Pn(e){if(!wn(e))throw TypeError("Invalid UUID")
var t,n=new Uint8Array(16)
return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}function Un(e,t,n){function r(e,r,i,a){var o
if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e))
for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n))
return t}(e)),"string"==typeof r&&(r=Pn(r)),16!==(null===(o=r)||void 0===o?void 0:o.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)")
var s=new Uint8Array(16+e.length)
if(s.set(r),s.set(e,r.length),(s=n(s))[6]=15&s[6]|t,s[8]=63&s[8]|128,i){a=a||0
for(var c=0;c<16;++c)i[a+c]=s[c]
return i}return Nn(s)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function Dn(e){return 14+(e+64>>>9<<4)+1}function Ln(e,t){var n=(65535&e)+(65535&t)
return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function Fn(e,t,n,r,i,a){return Ln((o=Ln(Ln(t,e),Ln(r,a)))<<(s=i)|o>>>32-s,n)
var o,s}function Bn(e,t,n,r,i,a,o){return Fn(t&n|~t&r,e,t,i,a,o)}function jn(e,t,n,r,i,a,o){return Fn(t&r|n&~r,e,t,i,a,o)}function qn(e,t,n,r,i,a,o){return Fn(t^n^r,e,t,i,a,o)}function Vn(e,t,n,r,i,a,o){return Fn(n^(t|~r),e,t,i,a,o)}Un("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e))
e=new Uint8Array(t.length)
for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r="0123456789abcdef",i=0;i<n;i+=8){var a=e[i>>5]>>>i%32&255,o=parseInt(r.charAt(a>>>4&15)+r.charAt(15&a),16)
t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[Dn(t)-1]=t
for(var n=1732584193,r=-271733879,i=-1732584194,a=271733878,o=0;o<e.length;o+=16){var s=n,c=r,d=i,u=a
n=Bn(n,r,i,a,e[o],7,-680876936),a=Bn(a,n,r,i,e[o+1],12,-389564586),i=Bn(i,a,n,r,e[o+2],17,606105819),r=Bn(r,i,a,n,e[o+3],22,-1044525330),n=Bn(n,r,i,a,e[o+4],7,-176418897),a=Bn(a,n,r,i,e[o+5],12,1200080426),i=Bn(i,a,n,r,e[o+6],17,-1473231341),r=Bn(r,i,a,n,e[o+7],22,-45705983),n=Bn(n,r,i,a,e[o+8],7,1770035416),a=Bn(a,n,r,i,e[o+9],12,-1958414417),i=Bn(i,a,n,r,e[o+10],17,-42063),r=Bn(r,i,a,n,e[o+11],22,-1990404162),n=Bn(n,r,i,a,e[o+12],7,1804603682),a=Bn(a,n,r,i,e[o+13],12,-40341101),i=Bn(i,a,n,r,e[o+14],17,-1502002290),n=jn(n,r=Bn(r,i,a,n,e[o+15],22,1236535329),i,a,e[o+1],5,-165796510),a=jn(a,n,r,i,e[o+6],9,-1069501632),i=jn(i,a,n,r,e[o+11],14,643717713),r=jn(r,i,a,n,e[o],20,-373897302),n=jn(n,r,i,a,e[o+5],5,-701558691),a=jn(a,n,r,i,e[o+10],9,38016083),i=jn(i,a,n,r,e[o+15],14,-660478335),r=jn(r,i,a,n,e[o+4],20,-405537848),n=jn(n,r,i,a,e[o+9],5,568446438),a=jn(a,n,r,i,e[o+14],9,-1019803690),i=jn(i,a,n,r,e[o+3],14,-187363961),r=jn(r,i,a,n,e[o+8],20,1163531501),n=jn(n,r,i,a,e[o+13],5,-1444681467),a=jn(a,n,r,i,e[o+2],9,-51403784),i=jn(i,a,n,r,e[o+7],14,1735328473),n=qn(n,r=jn(r,i,a,n,e[o+12],20,-1926607734),i,a,e[o+5],4,-378558),a=qn(a,n,r,i,e[o+8],11,-2022574463),i=qn(i,a,n,r,e[o+11],16,1839030562),r=qn(r,i,a,n,e[o+14],23,-35309556),n=qn(n,r,i,a,e[o+1],4,-1530992060),a=qn(a,n,r,i,e[o+4],11,1272893353),i=qn(i,a,n,r,e[o+7],16,-155497632),r=qn(r,i,a,n,e[o+10],23,-1094730640),n=qn(n,r,i,a,e[o+13],4,681279174),a=qn(a,n,r,i,e[o],11,-358537222),i=qn(i,a,n,r,e[o+3],16,-722521979),r=qn(r,i,a,n,e[o+6],23,76029189),n=qn(n,r,i,a,e[o+9],4,-640364487),a=qn(a,n,r,i,e[o+12],11,-421815835),i=qn(i,a,n,r,e[o+15],16,530742520),n=Vn(n,r=qn(r,i,a,n,e[o+2],23,-995338651),i,a,e[o],6,-198630844),a=Vn(a,n,r,i,e[o+7],10,1126891415),i=Vn(i,a,n,r,e[o+14],15,-1416354905),r=Vn(r,i,a,n,e[o+5],21,-57434055),n=Vn(n,r,i,a,e[o+12],6,1700485571),a=Vn(a,n,r,i,e[o+3],10,-1894986606),i=Vn(i,a,n,r,e[o+10],15,-1051523),r=Vn(r,i,a,n,e[o+1],21,-2054922799),n=Vn(n,r,i,a,e[o+8],6,1873313359),a=Vn(a,n,r,i,e[o+15],10,-30611744),i=Vn(i,a,n,r,e[o+6],15,-1560198380),r=Vn(r,i,a,n,e[o+13],21,1309151649),n=Vn(n,r,i,a,e[o+4],6,-145523070),a=Vn(a,n,r,i,e[o+11],10,-1120210379),i=Vn(i,a,n,r,e[o+2],15,718787259),r=Vn(r,i,a,n,e[o+9],21,-343485551),n=Ln(n,s),r=Ln(r,c),i=Ln(i,d),a=Ln(a,u)}return[n,r,i,a]}(function(e){if(0===e.length)return[]
for(var t=8*e.length,n=new Uint32Array(Dn(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32
return n}(e),8*e.length))}))
var Hn={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)}
function Gn(e,t,n){if(Hn.randomUUID&&!t&&!e)return Hn.randomUUID()
var r=(e=e||{}).random||(e.rng||In)()
if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0
for(var i=0;i<16;++i)t[n+i]=r[i]
return t}return Nn(r)}function Kn(e,t,n,r){switch(e){case 0:return t&n^~t&r
case 1:case 3:return t^n^r
case 2:return t&n^t&r^n&r}}function Wn(e,t){return e<<t|e>>>32-t}Un("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520]
if("string"==typeof e){var r=unescape(encodeURIComponent(e))
e=[]
for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e))
e.push(128)
for(var a=e.length/4+2,o=Math.ceil(a/16),s=new Array(o),c=0;c<o;++c){for(var d=new Uint32Array(16),u=0;u<16;++u)d[u]=e[64*c+4*u]<<24|e[64*c+4*u+1]<<16|e[64*c+4*u+2]<<8|e[64*c+4*u+3]
s[c]=d}s[o-1][14]=8*(e.length-1)/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=8*(e.length-1)&4294967295
for(var l=0;l<o;++l){for(var p=new Uint32Array(80),f=0;f<16;++f)p[f]=s[l][f]
for(var h=16;h<80;++h)p[h]=Wn(p[h-3]^p[h-8]^p[h-14]^p[h-16],1)
for(var m=n[0],g=n[1],y=n[2],v=n[3],b=n[4],T=0;T<80;++T){var _=Math.floor(T/20),E=Wn(m,5)+Kn(_,g,y,v)+b+t[_]+p[T]>>>0
b=v,v=y,y=Wn(g,30)>>>0,g=m,m=E}n[0]=n[0]+m>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+y>>>0,n[3]=n[3]+v>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}))
var zn=Uint8Array,$n=Uint16Array,Xn=Uint32Array,Qn=new zn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Yn=new zn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Jn=new zn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Zn=function(e,t){for(var n=new $n(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1]
var i=new Xn(n[30])
for(r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r
return[n,i]},er=Zn(Qn,2),tr=er[0],nr=er[1]
tr[28]=258,nr[258]=28
for(var rr=Zn(Yn,0)[1],ir=new $n(32768),ar=0;ar<32768;++ar){var or=(43690&ar)>>>1|(21845&ar)<<1
or=(61680&(or=(52428&or)>>>2|(13107&or)<<2))>>>4|(3855&or)<<4,ir[ar]=((65280&or)>>>8|(255&or)<<8)>>>1}var sr=function(e,t,n){for(var r=e.length,i=0,a=new $n(t);i<r;++i)e[i]&&++a[e[i]-1]
var o,s=new $n(t)
for(i=0;i<t;++i)s[i]=s[i-1]+a[i-1]<<1
if(n){o=new $n(1<<t)
var c=15-t
for(i=0;i<r;++i)if(e[i])for(var d=i<<4|e[i],u=t-e[i],l=s[e[i]-1]++<<u,p=l|(1<<u)-1;l<=p;++l)o[ir[l]>>>c]=d}else for(o=new $n(r),i=0;i<r;++i)e[i]&&(o[i]=ir[s[e[i]-1]++]>>>15-e[i])
return o},cr=new zn(288)
for(ar=0;ar<144;++ar)cr[ar]=8
for(ar=144;ar<256;++ar)cr[ar]=9
for(ar=256;ar<280;++ar)cr[ar]=7
for(ar=280;ar<288;++ar)cr[ar]=8
var dr=new zn(32)
for(ar=0;ar<32;++ar)dr[ar]=5
var ur=sr(cr,9,0),lr=sr(dr,5,0),pr=function(e){return(e+7)/8|0},fr=function(e,t,n){n<<=7&t
var r=t/8|0
e[r]|=n,e[r+1]|=n>>>8},hr=function(e,t,n){n<<=7&t
var r=t/8|0
e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},mr=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]})
var i=n.length,a=n.slice()
if(!i)return[Er,0]
if(1==i){var o=new zn(n[0].s+1)
return o[n[0].s]=1,[o,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001})
var s=n[0],c=n[1],d=0,u=1,l=2
for(n[0]={s:-1,f:s.f+c.f,l:s,r:c};u!=i-1;)s=n[n[d].f<n[l].f?d++:l++],c=n[d!=u&&n[d].f<n[l].f?d++:l++],n[u++]={s:-1,f:s.f+c.f,l:s,r:c}
var p=a[0].s
for(r=1;r<i;++r)a[r].s>p&&(p=a[r].s)
var f=new $n(p+1),h=gr(n[u-1],f,0)
if(h>t){r=0
var m=0,g=h-t,y=1<<g
for(a.sort((function(e,t){return f[t.s]-f[e.s]||e.f-t.f}));r<i;++r){var v=a[r].s
if(!(f[v]>t))break
m+=y-(1<<h-f[v]),f[v]=t}for(m>>>=g;m>0;){var b=a[r].s
f[b]<t?m-=1<<t-f[b]++-1:++r}for(;r>=0&&m;--r){var T=a[r].s
f[T]==t&&(--f[T],++m)}h=t}return[new zn(f),h]},gr=function e(t,n,r){return-1==t.s?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},yr=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new $n(++t),r=0,i=e[0],a=1,o=function(e){n[r++]=e},s=1;s<=t;++s)if(e[s]==i&&s!=t)++a
else{if(!i&&a>2){for(;a>138;a-=138)o(32754)
a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304)
a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i)
a=1,i=e[s]}return[n.subarray(0,r),t]},vr=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r]
return n},br=function(e,t,n){var r=n.length,i=pr(t+2)
e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1]
for(var a=0;a<r;++a)e[i+a+4]=n[a]
return 8*(i+4+r)},Tr=function(e,t,n,r,i,a,o,s,c,d,u){fr(t,u++,n),++i[256]
for(var l=mr(i,15),p=l[0],f=l[1],h=mr(a,15),m=h[0],g=h[1],y=yr(p),v=y[0],b=y[1],T=yr(m),_=T[0],E=T[1],x=new $n(19),S=0;S<v.length;++S)x[31&v[S]]++
for(S=0;S<_.length;++S)x[31&_[S]]++
for(var C=mr(x,7),A=C[0],k=C[1],I=19;I>4&&!A[Jn[I-1]];--I);var R,w,M,O,N=d+5<<3,P=vr(i,cr)+vr(a,dr)+o,U=vr(i,p)+vr(a,m)+o+14+3*I+vr(x,A)+(2*x[16]+3*x[17]+7*x[18])
if(N<=P&&N<=U)return br(t,u,e.subarray(c,c+d))
if(fr(t,u,1+(U<P)),u+=2,U<P){R=sr(p,f,0),w=p,M=sr(m,g,0),O=m
var D=sr(A,k,0)
for(fr(t,u,b-257),fr(t,u+5,E-1),fr(t,u+10,I-4),u+=14,S=0;S<I;++S)fr(t,u+3*S,A[Jn[S]])
u+=3*I
for(var L=[v,_],F=0;F<2;++F){var B=L[F]
for(S=0;S<B.length;++S){var j=31&B[S]
fr(t,u,D[j]),u+=A[j],j>15&&(fr(t,u,B[S]>>>5&127),u+=B[S]>>>12)}}}else R=ur,w=cr,M=lr,O=dr
for(S=0;S<s;++S)if(r[S]>255){j=r[S]>>>18&31,hr(t,u,R[j+257]),u+=w[j+257],j>7&&(fr(t,u,r[S]>>>23&31),u+=Qn[j])
var q=31&r[S]
hr(t,u,M[q]),u+=O[q],q>3&&(hr(t,u,r[S]>>>5&8191),u+=Yn[q])}else hr(t,u,R[r[S]]),u+=w[r[S]]
return hr(t,u,R[256]),u+w[256]},_r=new Xn([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Er=new zn(0),xr=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&-306674912)^n>>>1
e[t]=n}return e}(),Sr=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},Cr="undefined"!=typeof TextDecoder&&new TextDecoder
try{Cr.decode(Er,{stream:!0})}catch(Ba){}function Ar(){return"undefined"!=typeof window&&"function"==typeof window.fetch}function kr(){try{return Ar()&&"keepalive"in new Request("")}catch(e){return!1}}function Ir(e){var t=e.body,n=e.keepalive,r=e.headers,i=e.compress
r["content-type"]||(r["content-type"]="text/plain;charset=UTF-8")
var a=t
if(i&&"undefined"!=typeof TextEncoder)try{a=function(e,t){t||(t={})
var n=function(){var e=-1
return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=xr[255&n^t[r]]^n>>>8
e=n},d:function(){return~e}}}(),r=e.length
n.p(e)
var i,a,o,s=(i=e,a=t,o=function(e){return 10+(e.filename&&e.filename.length+1||0)}(t),function(e,t,n,r,i,a){var o=e.length,s=new zn(r+o+5*(1+Math.ceil(o/7e3))+8),c=s.subarray(r,s.length-8),d=0
if(!t||o<8)for(var u=0;u<=o;u+=65535){var l=u+65535
l>=o&&(c[d>>3]=true),d=br(c,d+1,e.subarray(u,l))}else{for(var p=_r[t-1],f=p>>>13,h=8191&p,m=(1<<n)-1,g=new $n(32768),y=new $n(m+1),v=Math.ceil(n/3),b=2*v,T=function(t){return(e[t]^e[t+1]<<v^e[t+2]<<b)&m},_=new Xn(25e3),E=new $n(288),x=new $n(32),S=0,C=0,A=(u=0,0),k=0,I=0;u<o;++u){var R=T(u),w=32767&u,M=y[R]
if(g[w]=M,y[R]=w,k<=u){var O=o-u
if((S>7e3||A>24576)&&O>423){d=Tr(e,c,0,_,E,x,C,A,I,u-I,d),A=S=C=0,I=u
for(var N=0;N<286;++N)E[N]=0
for(N=0;N<30;++N)x[N]=0}var P=2,U=0,D=h,L=w-M&32767
if(O>2&&R==T(u-L))for(var F=Math.min(f,O)-1,B=Math.min(32767,u),j=Math.min(258,O);L<=B&&--D&&w!=M;){if(e[u+P]==e[u+P-L]){for(var q=0;q<j&&e[u+q]==e[u+q-L];++q);if(q>P){if(P=q,U=L,q>F)break
var V=Math.min(L,q-2),H=0
for(N=0;N<V;++N){var G=u-L+N+32768&32767,K=G-g[G]+32768&32767
K>H&&(H=K,M=G)}}}L+=(w=M)-(M=g[w])+32768&32767}if(U){_[A++]=268435456|nr[P]<<18|rr[U]
var W=31&nr[P],z=31&rr[U]
C+=Qn[W]+Yn[z],++E[257+W],++x[z],k=u+P,++S}else _[A++]=e[u],++E[e[u]]}}d=Tr(e,c,true,_,E,x,C,A,I,u-I,d)}return function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length)
var r=new(2==e.BYTES_PER_ELEMENT?$n:4==e.BYTES_PER_ELEMENT?Xn:zn)(n-t)
return r.set(e.subarray(t,n)),r}(s,0,r+pr(d)+8)}(i,null==a.level?6:a.level,null==a.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(i.length)))):12+a.mem,o)),c=s.length
return function(e,t){var n=t.filename
if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&Sr(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8
for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}}(s,t),Sr(s,c-8,n.d()),Sr(s,c-4,r),s}((new TextEncoder).encode(t)),r["content-encoding"]="gzip"}catch(e){}return{body:a,keepalive:n,credentials:"include",headers:r,method:"POST",mode:"cors"}}function Rr(e){return e&&"message"in e?e.message:"UNKNOWN_ERROR"}var wr,Mr="undefined"!=typeof navigator&&"sendBeacon"in navigator,Or=kr()?function(e,t,n,r){return new Promise((function(i){fetch(e,Ir({body:t,keepalive:!0,headers:n,compress:r})).catch((function(){return fetch(e,Ir({body:t,keepalive:!1,headers:n,compress:r}))})).then((function(e){e.ok?i({type:"success",drop:!1,statusCode:e.status}):i({type:"response",drop:!0,statusCode:e.status,rawError:e.statusText})}),(function(e){return i({type:"network",drop:!0,rawError:Rr(e)})}))}))}:function(e,t,n,r){return new Promise((function(i){if(Mr){var a=!1
try{a=navigator.sendBeacon(e,t)}catch(e){}if(a)return void i({type:"unknown",drop:!1})}fetch(e,Ir({body:t,keepalive:!1,headers:n,compress:r})).then((function(e){e.ok?i({type:"success",drop:!1,statusCode:200}):i({type:"response",drop:!0,statusCode:e.status,rawError:e.statusText})}),(function(e){return i({type:"network",drop:!0,rawError:Rr(e)})}))}))}
function Nr(e){return new Promise((function(t,n){e.oncomplete=e.onsuccess=function(){return t(e.result)},e.onabort=e.onerror=function(){return n(e.error)}}))}function Pr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"key",r=arguments.length>3?arguments[3]:void 0,i=indexedDB.open(e)
i.onupgradeneeded=function(){try{i.result.createObjectStore(t,{keyPath:n})}catch(e){null==r||r.onError(e)}}
var a=new Promise((function(e,t){i.onsuccess=function(){var t=i.result
t.onversionchange=function(){return t.close()},e(t),null==r||r.onSuccess()},i.onerror=function(){t(i.error),null==r||r.onError(i.error)}}))
return function(e,n){return a.then((function(r){return n(r.transaction(t,e).objectStore(t))}))}}function Ur(){return wr||(wr=Pr("idb-queue","default")),wr}function Dr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxNumber:1e3,batchEvictionNumber:300},n=0,r=null
return e.openKeyCursor().onsuccess=function(){var i=this.result
i&&n++<t.batchEvictionNumber?(r=i.key,i.continue()):null!=r&&e.delete(IDBKeyRange.upperBound(r))},Nr(e.transaction)}var Lr=!1
function Fr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxNumber:1e3,batchEvictionNumber:300},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ur()
return n("readwrite",(function(n){return n.put(e),Nr(n.count()).then((function(e){if(!(e<=t.maxNumber))return Dr(n,t)}))})).catch((function(e){if(e&&"QuotaExceededError"===e.name)return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{maxNumber:1e3,batchEvictionNumber:300}
return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ur())("readwrite",(function(t){return Dr(t,e)}))}(t,n)}))}function Br(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxNumber:1e3,batchEvictionNumber:300},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ur()
return Lr?Promise.resolve():Fr(e,t,n)}function jr(e,t,n){return t("readonly",(function(t){var r=[]
return t.openCursor(null,n).onsuccess=function(){var t=this.result
t&&(r.push(t.value),(e<0||r.length<e)&&t.continue())},Nr(t.transaction).then((function(){return r}))}))}function qr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0
return!t||n<1||(e[t]=JSON.stringify({attempt:n,errorCode:r})),e}function Vr(e){"undefined"!=typeof window&&window.__DEBUG_BEACON_TRANSPORTER&&console.debug("[beacon-transporter] ",e())}function Hr(e){"undefined"!=typeof window&&window.__DEBUG_BEACON_TRANSPORTER&&console.error("[beacon-transporter] ",e())}function Gr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{timeRemaining:5,timeout:1e4}
"undefined"==typeof requestIdleCallback?setTimeout(e,t.fallbackTimeout||10):function n(){requestIdleCallback((function(r){r.timeRemaining()>t.timeRemaining||r.didTimeout?e():n()}),{timeout:t.timeout})}()}var Kr=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
En(this,e),Cn(this,"config",void 0),Cn(this,"compress",void 0),Cn(this,"throttleControl",void 0),Cn(this,"withStore",void 0),Cn(this,"disablePersistence",!1),this.config=t,this.compress=r
var i=t.measureIDB
i&&performance.mark(i.createStartMark),this.withStore=Pr(t.idbName,"beacons","timestamp",{onSuccess:function(){i&&performance.measure(i.createSuccessMeasure,i.createStartMark)},onError:function(){i&&performance.measure(i.createFailMeasure,i.createStartMark),n.disablePersistence=!0}}),this.throttleControl=function(e,t){var n=0
return{throttledFn:function(){var r=Date.now()
r-n>t&&(Vr((function(){return"[throttle] Run fn() at "+String(r)})),e(),n=r)},resetThrottle:function(){n=0}}}(this.replayEntries.bind(this),t.throttleWait)}return Sn(e,[{key:"onNotify",value:function(){this.disablePersistence||this.throttleControl.throttledFn()}},{key:"push",value:function(e){var t=this
if(!this.disablePersistence){var n=function(){Vr((function(){return"Persisting to DB "+e.url})),Br(e,t.config,t.withStore).then((function(){t.throttleControl.resetThrottle(),Vr((function(){return"push completed"}))})).catch((function(){t.disablePersistence=!0,Hr((function(){return"push failed"}))}))}
this.config.useIdle?Gr(n):n()}}},{key:"clear",value:function(){var e=this
return this.disablePersistence?Promise.resolve():function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ur()
return Lr=!0,e("readwrite",(function(e){return e.clear(),Nr(e.transaction).finally((function(){return Lr=!1}))}))}(this.withStore).catch((function(){e.disablePersistence=!0,Hr((function(){return"clear failed"}))}))}},{key:"peek",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1
return this.disablePersistence?Promise.resolve([]):function(){return jr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ur(),"next")}(t,this.withStore).catch((function(){return e.disablePersistence=!0,Hr((function(){return"peek failed"})),[]}))}},{key:"peekBack",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1
return this.disablePersistence?Promise.resolve([]):function(){return jr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ur(),"prev")}(t,this.withStore).catch((function(){return e.disablePersistence=!0,Hr((function(){return"peekBack failed"})),[]}))}},{key:"replayEntries",value:function(){var e=this
if(!this.disablePersistence){var t=function(){Vr((function(){return"Replaying entry: shift from store"})),function(){return function(e,t,n){return t("readwrite",(function(t){var n=[]
return t.openCursor(null,"next").onsuccess=function(){var t=this.result
t&&(n.push(t.value),t.delete(),(e<0||n.length<e)&&t.continue())},Nr(t.transaction).then((function(){return n}))}))}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ur())}(1,e.withStore).then((function(t){if(t.length>0){var n,r,i=t[0],a=i.url,o=i.body,s=i.headers,c=i.timestamp,d=i.statusCode,u=i.attemptCount
return Vr((function(){return"header: ".concat(String(e.config.headerName),"; attemptCount: ").concat(u)})),null===(n=(r=e.config).onBeforeRetry)||void 0===n||n.call(r,o),Or(a,o,qr(s,e.config.headerName,u,d),e.compress).then((function(t){if("unknown"===t.type||"success"===t.type){var n,r
null===(n=(r=e.config).onResult)||void 0===n||n.call(r,t,o),e.replayEntries()}else{var i,s,l,p,f,h
if(u+1>e.config.attemptLimit)return Vr((function(){return"Exceeded attempt count, dropping the entry: "+JSON.stringify({url:a,timestamp:c,statusCode:d},null,2)})),t.drop=!0,void(null===(i=(s=e.config).onResult)||void 0===i||i.call(s,t,o))
if("network"===t.type||e.config.statusCodes.includes(t.statusCode))return t.drop=!1,null===(l=(p=e.config).onResult)||void 0===l||l.call(p,t,o),Vr((function(){return"Replaying the entry failed, pushing back to IDB: "+JSON.stringify({url:a,timestamp:c,statusCode:d},null,2)})),Br({url:a,body:o,timestamp:c,statusCode:d,attemptCount:u+1},e.config,e.withStore)
t.drop=!0,null===(f=(h=e.config).onResult)||void 0===f||f.call(h,t,o)}}))}})).catch((function(t){e.disablePersistence=!0,t&&t.message&&Hr((function(){return"Replay entry failed: ".concat(t.message)}))}))}
this.config.useIdle?Gr(t):t()}}}]),e}(),Wr=function(){function e(){En(this,e)}return Sn(e,[{key:"onNotify",value:function(){}},{key:"push",value:function(){}},{key:"clear",value:function(){return Promise.resolve()}},{key:"peek",value:function(){return Promise.resolve([])}},{key:"peekBack",value:function(){return Promise.resolve([])}}]),e}(),zr=function(){function e(t,n){En(this,e),Cn(this,"queue",void 0),Cn(this,"beaconListeners",new Set),this.queue=e.hasSupport&&!n.disablePersistenceRetry?new Kr(t,n.compress):new Wr}return Sn(e,[{key:"pushToQueue",value:function(e){this.queue.push(e)}},{key:"notifyQueue",value:function(){this.queue.onNotify()}},{key:"clearQueue",value:function(){return this.beaconListeners.forEach((function(e){return e()})),this.queue.clear()}},{key:"peekQueue",value:function(e){return this.queue.peek(e)}},{key:"peekBackQueue",value:function(e){return this.queue.peekBack(e)}},{key:"onClear",value:function(e){this.beaconListeners.add(e)}},{key:"removeOnClear",value:function(e){this.beaconListeners.delete(e)}}]),e}()
Cn(zr,"hasSupport","undefined"!=typeof globalThis&&!!globalThis.indexedDB)
var $r=[502,504],Xr=[429,503],Qr=function(){function e(t,n,r,i){var a=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4]
En(this,e),Cn(this,"url",void 0),Cn(this,"body",void 0),Cn(this,"config",void 0),Cn(this,"persistenceConfig",void 0),Cn(this,"compress",void 0),Cn(this,"timestamp",void 0),Cn(this,"isClearQueuePending",!1),Cn(this,"onClearCallback",void 0),this.url=t,this.body=n,this.config=r,this.persistenceConfig=i,this.compress=o,this.timestamp=Date.now(),this.onClearCallback=function(){return a.isClearQueuePending=!0}}return Sn(e,[{key:"send",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this.persistenceConfig.db.onClear(this.onClearCallback)
var n=this.retryLimit
return this.retry((function(t){return Or(e.url,e.body,t,e.compress)}),n,t).finally((function(){Vr((function(){return"beacon finished"})),e.persistenceConfig.db.removeOnClear(e.onClearCallback)}))}},{key:"retryLimit",get:function(){return this.config.attemptLimit}},{key:"getAttemptCount",value:function(e){return this.retryLimit-e+1}},{key:"retry",value:function(e,t,n,r){var i=this,a=this.getAttemptCount(t)-1
return e(qr(n,this.config.headerName,a,r)).then((function(r){var a,o,s,c
if(r.drop=!1,"unknown"===r.type||"success"===r.type)i.isClearQueuePending||i.persistenceConfig.disabled||i.persistenceConfig.db.notifyQueue(),s=r
else if(Vr((function(){return"retry rejected "+JSON.stringify(r)})),i.shouldPersist(t,r))i.persistenceConfig.db.pushToQueue({url:i.url,body:i.body,headers:n,statusCode:r.statusCode,timestamp:i.timestamp,attemptCount:i.getAttemptCount(t)}),s={type:"persisted",drop:!1,statusCode:r.statusCode}
else{if(t>0&&i.isRetryableError(r)){var d,u
null===(d=(u=i.config).onIntermediateResult)||void 0===d||d.call(u,r,i.body)
var l=i.config.calculateRetryDelay(i.getAttemptCount(t),t)
return Vr((function(){return"in memory retry in ".concat(l,"ms")})),(c=l,new Promise((function(e){return setTimeout(e,c)}))).then((function(){return i.retry(e,t-1,n,r.statusCode)}))}(s=r).drop=!0}return null===(a=(o=i.config).onIntermediateResult)||void 0===a||a.call(o,s,i.body),s}))}},{key:"isRetryableError",value:function(e){return!("network"!==e.type&&!this.config.statusCodes.includes(e.statusCode))}},{key:"shouldPersist",value:function(e,t){return!(this.isClearQueuePending||this.persistenceConfig.disabled||navigator.onLine&&(0!==e||"network"!==t.type)&&("response"!==t.type||!this.persistenceConfig.statusCodes.includes(t.statusCode)))}}]),e}()
function Yr(e,t,n){var r=e.get(t)
r&&r.push(n)||e.set(t,[n])}function Jr(e,t,n){var r=e.get(t)
r&&r.splice(r.indexOf(n)>>>0,1)}var Zr,ei,ti=(Zr=new Map,ei=new Map,{on:function(e,t){Yr(Zr,e,t)},before:function(e,t){Yr(ei,e,t)},off:function(e,t){Jr(Zr,e,t)},offBefore:function(e,t){Jr(ei,e,t)},emit:function(e,t){(ei.get(e)||[]).concat(Zr.get(e)||[]).slice().map((function(e){e(t)}))},clear:function(){ei.clear(),Zr.clear()}})
if("undefined"!=typeof document&&"undefined"!=typeof window){var ni=function(e){"pagehide"!==e.type&&"hidden"!==document.visibilityState||ti.emit("internal:hide",e)}
document.addEventListener("visibilitychange",ni),window.addEventListener("pagehide",ni)}var ri=null
if("undefined"==typeof crypto||!crypto.getRandomValues){var ii=("undefined"!=typeof FastBoot?FastBoot.require:require)("crypto")
if(ii){var ai=new Uint8Array(256),oi=ai.length
ri={rng:function(){return oi>ai.length-16&&(ii.randomFillSync(ai),oi=0),ai.slice(oi,oi+=16)}}}}var si="object"===("undefined"==typeof crypto?"undefined":_n(crypto))&&"function"==typeof crypto.randomUUID?function(){return crypto.randomUUID()}:function(){return function(e){return function(e){var t=Nn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)
if(!wn(t))throw TypeError("Stringified UUID is invalid")
return t}(e)}(ci())}
function ci(){return Gn(ri,new Array(16),0)}function di(e){return vn(e).map((function(e){return String.fromCharCode(e)})).join("")}function ui(){return di(ci())}var li=/^[a-zA-Z0-9/+]+[=]+$/
function pi(e){return Pn(e)}function fi(e,t){return{pageUrn:mi(e),trackingId:t||function(e){for(var t,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=[],i=0,a=e.length,o=a%3,s=a-o;i<s;)t=e[i]<<16,t|=e[i+1]<<8,t|=e[i+2],r.push(n.charAt(t>>>18&63)),r.push(n.charAt(t>>>12&63)),r.push(n.charAt(t>>>6&63)),r.push(n.charAt(63&t)),i+=3
switch(o){case 2:t=e[i]<<16,t|=e[i+1]<<8,r.push(n.charAt(t>>>18&63)),r.push(n.charAt(t>>>12&63)),r.push(n.charAt(t>>>6&63)),r.push("=")
break
case 1:t=e[i]<<16,r.push(n.charAt(t>>>18&63)),r.push(n.charAt(t>>>12&63)),r.push("="),r.push("=")}return r.join("")}(ci())}}function hi(e,t){return"urn:li:control:".concat(e,"-").concat(t)}function mi(e){return"urn:li:page:".concat(e)}function gi(e,t){return{pageInstance:t.assign({},e.pageInstance),pageKey:e.pageKey,applicationInstance:e.applicationInstance}}function yi(e,t){return void 0!==t.allSettled?t.allSettled(e):function(e){return new Promise((function(t){var n=new Set,r=function(e){n.delete(e),0===n.size&&t()}
0===e.length?t():e.map((function(e){return e.then((function(){return r(e)})).catch((function(){return r(e)}))}))}))}(e)}function vi(e){var t=[]
return e.forEach((function(e){return t.push(e)})),t}function bi(e,t,n){if("undefined"!=typeof window&&window.indexedDB){var r="sequenceNumber",i=window.indexedDB.open(r)
return new Promise((function(a,o){i.onupgradeneeded=function(){var e=i.result
e.objectStoreNames.contains(r)||e.createObjectStore(r,{autoIncrement:!0})},i.onsuccess=function(){var s=i.result,c=s.transaction(r,"readwrite"),d=c.objectStore(r),u=d.get(1)
u.onsuccess=function(){var r=u.result
if(r){if("read"===e)return a(r)
if("update"!==e)return a(null)
var i,s=Object.assign({},r),c=!1,l=null!==(i=s.sequenceNumber)&&void 0!==i?i:0
if(void 0!==t&&t>l&&(s.sequenceNumber=t,c=!0),n&&Object.keys(n).forEach((function(e){var t,r=null!==(t=s[e])&&void 0!==t?t:0,i=n[e]
i>r&&(s[e]=i,c=!0)})),c){var p=d.put(s,1)
p.onsuccess=function(){return a(null)},p.onerror=function(){o(p.error)}}}else{var f={sequenceNumber:0}
n&&Object.keys(n).forEach((function(e){f[e]=0}))
var h=d.add(f)
h.onsuccess=function(){return a(0)},h.onerror=function(){o(h.error)}}},u.onerror=function(){return s.close(),o(new Error("Error: get sequence number from indexedDB ".concat(String(u.error))))},c.oncomplete=function(){return s.close()}},i.onerror=function(){return a(null)}}))}return Promise.resolve(null)}function Ti(){return"undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1||!Ar()||"undefined"==typeof Promise}function _i(e,t){ti.emit("internal:error",{tags:["core-web-tracking:".concat(e)],reason:t instanceof Error?t:new Error("".concat(e,": ").concat(t))})}function Ei(){if("undefined"==typeof Promise||"undefined"==typeof navigator)return!1
var e=navigator.userAgent.indexOf("Chrome")>-1,t=navigator.cookieEnabled,n=navigator.storage
return e&&kr()&&t&&n}var xi=function(){function e(t){En(this,e),Cn(this,"host",void 0),this.host=t}return Sn(e,[{key:"checkAndEnablePersistentRetry",value:function(e,t){if("function"==typeof(null==e?void 0:e.shouldAnonymizeMemberId)&&!this.host.retryBeacon){var n=this.getRetryTreatment()
this.host.retryConfig&&function(e,t,n,r,i){"control"!==r&&e.retryConfig&&Ei()&&navigator.storage.estimate().then((function(a){if(!((a.quota||0)-(a.usage||0)>52428800))return function(e){var t=window.indexedDB.deleteDatabase("beacons")
return new Promise((function(e,n){t.onsuccess=function(){return e()},t.onerror=function(){return n(t.error)}}))}()
var o,s,c=null!==(o=e.retryConfig.inMemory)&&void 0!==o?o:{attemptLimit:4,statusCodes:[502,504]},d=null!==(s=e.retryConfig.persist)&&void 0!==s?s:{attemptLimit:3,statusCodes:[429,503],maxNumber:1e3,batchEvictionNumber:300,throttleWait:3e5},u={compress:n,inMemoryRetry:{onIntermediateResult:null==i?void 0:i.onIntermediateResult,attemptLimit:c.attemptLimit,statusCodes:c.statusCodes,headerName:"x-li-retry-context",calculateRetryDelay:function(e){return function(e){return 1e3*Math.pow(2,e)}(e)}},disablePersistenceRetry:e.retryConfig.disablePersistence,persistenceRetry:{onBeforeRetry:null==i?void 0:i.onBeforeRetry,onResult:null==i?void 0:i.onResult,idbName:"beacons",attemptLimit:d.attemptLimit,statusCodes:d.statusCodes,maxNumber:d.maxNumber,batchEvictionNumber:d.batchEvictionNumber,throttleWait:d.throttleWait,useIdle:!0,measureIDB:{createStartMark:"idb_open_start",createSuccessMeasure:"idb_open_success_phase",createFailMeasure:"idb_open_fail_phase"}}},l=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Boolean(t.compress),r=Object.assign({attemptLimit:0,statusCodes:$r,calculateRetryDelay:function(e,t){return 2e3*t}},t.inMemoryRetry)
if(t.retryDB)e=t.retryDB
else{var i=Object.assign({idbName:"beacon-transporter",attemptLimit:3,statusCodes:Xr,maxNumber:1e3,batchEvictionNumber:300,throttleWait:3e5},t.persistenceRetry)
i.headerName=i.headerName||r.headerName,e=new zr(i,{compress:t.compress,disablePersistenceRetry:t.disablePersistenceRetry})}return{beacon:function(i,a,o){var s
return Ar()?new Qr(i,a,r,{db:e,disabled:Boolean(t.disablePersistenceRetry),statusCodes:(null===(s=t.persistenceRetry)||void 0===s?void 0:s.statusCodes)||Xr},n).send(o):Promise.resolve({type:"unknown",drop:!0})},database:e}}(u),p=l.beacon,f=l.database
return e.retryBeacon={shouldRetry:!0,beacon:p,database:f},"enabled"===r?(e.retryBeacon.shouldRetry=!1,!u.disablePersistenceRetry&&t.shouldAnonymizeMemberId()?f.peekQueue(1).then((function(e){if(Array.isArray(e)&&e[0]){var t=JSON.parse(e[0].body)
if(Array.isArray(t)&&t.some((function(e){return!e.eventInfo.shouldAnonymizeMemberId})))return f.clearQueue()}}),(function(){return f.clearQueue()})).then((function(){e.retryBeacon.shouldRetry=!0})).catch((function(e){_i("retry:idb",e)})):(e.retryBeacon.shouldRetry=!0,Promise.resolve())):void 0})).catch((function(e){_i("retry:setup",e)}))}(this.host,e,this.shouldCompressPayload(),n,t)}}},{key:"clearPersistedEventsOnLogout",value:function(){var e=this.host.retryBeacon
if(e&&e.shouldRetry)return e.shouldRetry=!1,e.database.clearQueue().catch((function(e){_i("retry:logout",e)}))}},{key:"sendPayload",value:function(e,t,n,r){var i,a=this.getRetryTreatment()
kr()&&"control"!==a&&null!==(i=this.host.retryBeacon)&&void 0!==i&&i.shouldRetry?this.sendPayloadWithRetry(e,t,n):this.sendPayloadFireForget(e,t,n,r)}},{key:"sendPayloadWithRetry",value:function(e,t,n){(!Array.isArray(t)||t.length>0)&&this.host.retryBeacon.beacon(e,JSON.stringify(t),n).catch((function(e){_i("retry:beacon",e)}))}},{key:"sendPayloadFireForget",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;(!Array.isArray(t)||t.length>0)&&(Ti()?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}
if("undefined"!=typeof window&&void 0!==window.XMLHttpRequest){var r=new XMLHttpRequest
if(r.open("POST",e,!0),r.withCredentials=!0,n.headers)for(var i=0,a=Object.keys(n.headers);i<a.length;i++){var o=a[i]
r.setRequestHeader(o,n.headers[o])}r.send(t)}}(e,JSON.stringify(t),{headers:n}):Or(e,JSON.stringify(t),n,this.shouldCompressPayload()).then((function(e){null==r||r.onResult(e,t)}),(function(){})))}},{key:"getRetryTreatment",value:function(){var e,t,n
if(!this.host.retryConfig)return"control"
var r=this.host.retryConfig.lixKey
return r?null!==(e=null===(t=(n=this.host).__getLixTreatment)||void 0===t?void 0:t.call(n,r))&&void 0!==e?e:"control":"enabled"}},{key:"shouldCompressPayload",value:function(){return!0!==this.host.disableCompression}},{key:"isBrowserPersistentRetryEnabled",value:function(){var e,t
return"control"!==this.getRetryTreatment()&&null!==(e=null===(t=this.host.retryBeacon)||void 0===t?void 0:t.shouldRetry)&&void 0!==e&&e&&Ei()&&"undefined"!=typeof globalThis&&!!globalThis.indexedDB}}]),e}(),Si="undefined"!=typeof window&&"undefined"!=typeof document,Ci=/JSESSIONID="?([^";]+)"?/,Ai="",ki=0
function Ii(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cacheLifeSpan,n=void 0===t?1e4:t,r=e.regex,i=void 0===r?Ci:r
if(!Ai||Date.now()-ki>n){var a=Si&&document.cookie.match(i)
Ai=a&&a[1]||"",ki=Date.now()}return Ai}var Ri=function(){function e(t){En(this,e),Cn(this,"networkTransporter",void 0),Cn(this,"inactive",void 0),Cn(this,"mpName",void 0),Cn(this,"endpoint",void 0),Cn(this,"debug",void 0),this.networkTransporter=new xi(t),this.mpName=t.appId,this.inactive=t.inactive
var n=function(e){var t,n=!1
switch(e){case"https://www.linkedin.com/li/track":t=Mi
break
case"https://www.linkedin-ei.com/li/track/validate":default:n=!0,t=wi
break
case"https://www.linkedin-ei.com/li/track":t=wi}return{endpoint:t,debug:n}}(t.endpoint)
this.endpoint=n.endpoint,this.debug=n.debug}return Sn(e,[{key:"fireFragment",value:function(e){var t
if(!this.inactive){var n={"content-type":"application/json; charset=UTF-8","x-li-track":JSON.stringify({mpName:this.mpName}),"csrf-token":Ii(),"x-restli-protocol-version":"2.0.0"},r=[],i=null!==(t=null==e?void 0:e.stats)&&void 0!==t?t:{},a=i.failures,o=i.previousInstanceEventStats.reduce((function(e,t){return e.push.apply(e,vn(t.failures)),e}),[]);[].concat(vn(a),vn(o)).forEach((function(e){var t=e.reason,n=e.rawError,i=e.eventTopic,a=e.header,o=e.requestHeader
r.push({reason:t,rawError:n,failedTopicName:i,header:a,requestHeader:o})}))
var s={clientTrackingFailures:r,debug:this.debug}
this.networkTransporter.sendPayload(this.endpoint,s,n)}}}]),e}(),wi="https://www.linkedin-ei.com/trackingMonitoring/?action=reportClientFailures",Mi="https://www.linkedin.com/trackingMonitoring/?action=reportClientFailures"
function Oi(e){return"string"==typeof e}function Ni(e){return Oi(e)?e:e.topicName||e.eventName}function Pi(e){return Oi(e)?e:e.eventName}var Ui,Di,Li=function(){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
En(this,e),Cn(this,"host",void 0),Cn(this,"cmoTransporter",void 0),Cn(this,"clientMonitoringInstanceId",ui()),Cn(this,"currentContext",{pageKey:"unknown",pageInstance:fi("unknown")}),Cn(this,"appState",{}),Cn(this,"estimatedFragmentSize",0),Cn(this,"fragmentSizeLimit",void 0),Cn(this,"activeFragmentEvent",void 0),Cn(this,"debounceTimer",void 0),this.host=t,this.cmoTransporter=r.cmoTransporter||new Ri(t),this.fragmentSizeLimit=(null===(n=t.clientMonitoringConfig)||void 0===n?void 0:n.fragmentSizeLimit)||10240,this.activeFragmentEvent=Bi(this.clientMonitoringInstanceId,0,0,!1,this.getEventHeaders())}return Sn(e,[{key:"getCurrentInstanceId",value:function(){return this.clientMonitoringInstanceId}},{key:"scheduleDebouncedFiring",value:function(){var e,t,n=this
void 0!==this.debounceTimer&&(clearTimeout(this.debounceTimer),this.debounceTimer=void 0),this.fragmentIsFull()&&this.fireFragmentEventIfFull(!0),this.debounceTimer=setTimeout((function(){n.fireFragmentEventIfFull()}),null!==(e=null===(t=this.host.batching)||void 0===t?void 0:t.debounceTime)&&void 0!==e?e:1)}},{key:"logEventGenerated",value:function(e){this.scheduleDebouncedFiring()
var t=this.activeFragmentEvent.stats,n=this.activeFragmentEvent.firstEventNumber+t.eventsGenerated
return t.eventTopics.push(e),t.eventsGenerated++,this.estimatedFragmentSize+=e.length,n}},{key:"logEventReadyToSend",value:function(e){this.activeFragmentEvent.stats.eventsReadyToSend+=e}},{key:"logEventSent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCurrentInstanceId()
t===this.getCurrentInstanceId()?this.activeFragmentEvent.stats.eventsSent+=e:this.findPreviousInstanceStat(t,(function(t){t.eventsSent+=e}))}},{key:"logNetworkResponseCode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCurrentInstanceId(),n=this.activeFragmentEvent.stats.networkResponseStats
t!==this.getCurrentInstanceId()&&this.findPreviousInstanceStat(t,(function(e){n=e.networkResponseStats})),e>=200&&e<300?n.eventsWith2XXResponse++:400===e?n.eventsWith400Response++:408===e?n.eventsWith408Response++:429===e?n.eventsWith429Response++:e>400&&e<500?n.eventsWith4XXResponse++:500===e?n.eventsWith500Response++:502===e?n.eventsWith502Response++:503===e?n.eventsWith503Response++:504===e?n.eventsWith504Response++:e>500&&e<600&&n.eventsWith5XXResponse++}},{key:"findPreviousInstanceStat",value:function(e,t){var n,r=yn(this.activeFragmentEvent.stats.previousInstanceEventStats)
try{for(r.s();!(n=r.n()).done;){var i=n.value
if(i.instanceId===e)return void t(i)}}catch(e){r.e(e)}finally{r.f()}var a=this.getEventHeaders(),o=a.header,s=a.requestHeader,c={header:Object.assign(o,{memberId:-1}),requestHeader:s,instanceId:e,eventsSent:0,eventTopics:[],networkResponseStats:{eventsWith2XXResponse:0,eventsWith400Response:0,eventsWith408Response:0,eventsWith429Response:0,eventsWith4XXResponse:0,eventsWith500Response:0,eventsWith502Response:0,eventsWith503Response:0,eventsWith504Response:0,eventsWith5XXResponse:0},failures:[]}
t(c),this.activeFragmentEvent.stats.previousInstanceEventStats.push(c)}},{key:"logFailedEvent",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getCurrentInstanceId(),a=this.getEventHeaders(),o=a.header,s=a.requestHeader,c={header:Object.assign(o,{memberId:-1}),requestHeader:s,instanceId:i,instanceEventNumber:r,reason:e,rawError:n,eventName:Pi(t),eventTopic:Ni(t)}
this.estimatedFragmentSize+=JSON.stringify(c).length,i===this.getCurrentInstanceId()?this.activeFragmentEvent.stats.failures.push(c):this.findPreviousInstanceStat(i,(function(e){e.failures.push(c)})),this.fireFragmentEventIfFull()}},{key:"flush",value:function(){this.activeFragmentEvent.isLastFragment=!0,this.fireFragmentEventIfFull(!0)}},{key:"fragmentIsFull",value:function(){return this.activeFragmentEvent.stats.eventsGenerated>=100||this.estimatedFragmentSize>=this.fragmentSizeLimit}},{key:"fireFragmentEventIfFull",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this.fragmentIsFull()){this.debounceTimer=void 0
var e=this.getEventHeaders(),t=e.header,n=e.requestHeader,r=this.activeFragmentEvent
r.header=t,r.requestHeader=n,this.cmoTransporter.fireFragment(r),this.estimatedFragmentSize=0,this.activeFragmentEvent=Bi(this.clientMonitoringInstanceId,r.fragmentNumber+1,r.firstEventNumber+r.stats.eventsGenerated,!1,e)}}},{key:"setCurrentContext",value:function(e){this.currentContext=e}},{key:"updateAppState",value:function(e){this.host.api.assign(this.appState,e)}},{key:"getEventHeaders",value:function(){var e=void 0
this.appState.clientApplicationInstance&&((e=this.appState.clientApplicationInstance).trackingId=ji(e.trackingId))
var t=this.currentContext.pageInstance
return t.trackingId=ji(t.trackingId),{requestHeader:{interfaceLocale:this.host.locale,pageKey:this.currentContext.pageKey,path:this.host.api.location.pathname+this.host.api.location.search,referer:this.host.api.document.referrer},header:{applicationViewerUrn:this.appState.applicationViewerUrn,clientApplicationInstance:e,pageInstance:t,time:Date.now(),version:this.host.appVersion,server:"",service:"",guid:ui(),memberId:0}}}}]),e}()
function Fi(e){return Ui||(Ui=new Li(e)),{getCurrentInstanceId:function(){return Ui.getCurrentInstanceId()},logEventGenerated:function(e){return Ui.logEventGenerated(e)},logEventReadyToSend:function(e){Ui.logEventReadyToSend(e)},logEventSent:function(e){Ui.logEventSent(e)},logPersistedEventSent:function(e,t){Ui.logEventSent(t,e)},logNetworkResponseCode:function(e){Ui.logNetworkResponseCode(e)},logPersistedNetworkResponseCode:function(e,t){var n
null===(n=Ui)||void 0===n||n.logNetworkResponseCode(t,e)},logFailedEvent:function(e,t,n,r){Ui.logFailedEvent(e,t,n,r)},logPersistedFailedEvent:function(e,t,n,r,i){Ui.logFailedEvent(t,n,r,i,e)},flush:function(){Ui.flush()},destroy:function(){Ui=void 0},isDestroyed:function(){return void 0===Ui},setCurrentContext:function(e){Ui.setCurrentContext(e)},updateAppState:function(e){Ui.updateAppState(e)}}}function Bi(e,t,n,r,i){return{fragmentNumber:t,firstEventNumber:n,isLastFragment:r,stats:{instanceId:e,eventsGenerated:0,eventsReadyToSend:0,eventsSent:0,networkResponseStats:{eventsWith2XXResponse:0,eventsWith400Response:0,eventsWith408Response:0,eventsWith429Response:0,eventsWith4XXResponse:0,eventsWith500Response:0,eventsWith502Response:0,eventsWith503Response:0,eventsWith504Response:0,eventsWith5XXResponse:0},eventTopics:[],failures:[],previousInstanceEventStats:[]},requestHeader:i.requestHeader,header:i.header}}function ji(e){return Array.isArray(e)?di(e):16===e.length?e:function(e){return"string"==typeof e&&!!e.match(li)}(e)?atob(e):di(pi(e))}!function(e){e.NONE="NONE",e.UNKNOWN_EXECUTION_ERROR="UNKNOWN_EXECUTION_ERROR",e.MISSING_REQUIRED_PROPERTIES="MISSING_REQUIRED_PROPERITES",e.STORAGE_WRITE_FAILURE="STORAGE_WRITE_FAILURE",e.RETRIES_EXCEEDED="RETRIES_EXCEEDED",e.EVENT_EVICTED_FROM_STORAGE="EVENT_EVICTED_FROM_STORAGE",e.STORAGE_UNAVAILABLE="STORAGE_UNAVAILABLE",e.SERIALIZATION_FAILURE="SERIALIZATION_FAILURE"}(Di||(Di={}))
var qi,Vi,Hi,Gi=["PageViewEvent","SponsoredImpressionEvent","JobViewEvent"],Ki="PageViewEvent",Wi=function(){function e(t){var n=this
En(this,e),Cn(this,"host",void 0),Cn(this,"queue",void 0),Cn(this,"preContextQueue",void 0),Cn(this,"debounceTimer",void 0),Cn(this,"unloadHandlers",void 0),Cn(this,"maxQueueSize",void 0),Cn(this,"flushDebounceTime",void 0),Cn(this,"trackingEventListeners",[]),Cn(this,"onHideHandler",(function(){n.forceFlush()})),Cn(this,"networkTransporter",void 0),Cn(this,"clientMonitoringConn",void 0),Cn(this,"clientGlobalSequenceNumberCounter",void 0),Cn(this,"clientTopicLocalSequenceNumberCountersMap",{}),Cn(this,"isTimerRunning",void 0),Cn(this,"enableSequenceNumberLix",void 0),this.host=t,this.queue=[],this.preContextQueue=[],this.unloadHandlers=[]
var r=t.batching
this.maxQueueSize=r&&r.maxSize||1,this.flushDebounceTime=r&&r.debounceTime||0,ti.on("internal:hide",this.onHideHandler),this.networkTransporter=new xi(t),this.isLixEnabled("pemberly.tracking.monitoring")&&t.clientMonitoringConfig&&!t.inactive&&(this.clientMonitoringConn=Fi(t)),this.enableSequenceNumberLix=this.isLixEnabled("tracking.data-loss-web.sequence-number"),this.enableSequenceNumberLix&&(this.getSequenceNumberFromIDB(),this.updateSequenceNumberOnExit(),this.isTimerRunning=!1)}return Sn(e,[{key:"checkAndEnablePersistentRetry",value:function(e){var t,n=(t=this.clientMonitoringConn,{onIntermediateResult:function(e,n){var r
if(t&&!t.isDestroyed())try{if(r=JSON.parse(n),!Array.isArray(r)||0===r.length)return
e.statusCode&&t.logNetworkResponseCode(e.statusCode),!0===e.drop&&r.forEach((function(n){var r,i=n.eventInfo.eventName,a=n.eventInfo.topicName||i,o="rawError"in e?e.rawError:"null",s=["type: ".concat(e.type),"statusCode: ".concat(e.statusCode||"null"),"drop: ".concat(String(e.drop)),"rawError: ".concat(o)].join(", ")
t.logFailedEvent(Di.UNKNOWN_EXECUTION_ERROR,{eventName:i,topicName:a},s,null!==(r=n.eventBody.header.clientMonitoringInstanceEventNumber)&&void 0!==r?r:-1)}))}catch(e){}},onBeforeRetry:function(e){var n
if(t&&!t.isDestroyed())try{if(n=JSON.parse(e),!Array.isArray(n)||0===n.length||!n[0].eventBody.header.clientMonitoringInstanceId)return
var r=n[0].eventBody.header.clientMonitoringInstanceId,i=n.length
t.logPersistedEventSent(r,i)}catch(e){}},onResult:function(e,n){var r
if(t)try{if(r=JSON.parse(n),!Array.isArray(r)||0===r.length||!r[0].eventBody.header.clientMonitoringInstanceId)return
var i=r[0].eventBody.header.clientMonitoringInstanceId
e.statusCode&&t.logPersistedNetworkResponseCode(i,e.statusCode),!0===e.drop&&r.forEach((function(n){var r=n.eventInfo.eventName,a=n.eventInfo.topicName||r,o="rawError"in e?e.rawError:"null",s=["type: ".concat(e.type),"statusCode: ".concat(e.statusCode||"null"),"drop: ".concat(String(e.drop)),"rawError: ".concat(o)].join(", ")
t.logPersistedFailedEvent(i,Di.UNKNOWN_EXECUTION_ERROR,{eventName:r,topicName:a},s,n.eventBody.header.clientMonitoringInstanceEventNumber)}))}catch(e){}}})
this.networkTransporter.checkAndEnablePersistentRetry(e,n)}},{key:"clearPersistedEventsOnLogout",value:function(){return this.networkTransporter.clearPersistedEventsOnLogout()}},{key:"on",value:function(e){this.trackingEventListeners.push(e)}},{key:"fireEvent",value:function(e){var t=function(e){return e.meta.time=Date.now(),e}(e)
this.clientMonitoringConn&&(t.meta.clientMonitoringInstanceId=this.clientMonitoringConn.getCurrentInstanceId(),t.meta.clientMonitoringInstanceEventNumber=this.clientMonitoringConn.logEventGenerated(Ni(e.id)))
var n=this.host,r=n.api.Promise,i=n.batching
if(function(e){return!!e.meta.context}(t)){var a,o=this.prepareCompleteEnvelopeQueue(t)
null===(a=this.clientMonitoringConn)||void 0===a||a.logEventReadyToSend(1)
var s=Ni(o.id)
if(this.isLixEnabled("pemberly.tracking.generic-event-immediate-fire")&&("GenericActionEvent"===s||"GenericImpressionEvent"===s)){var c=[o]
return this.sendPayload(c),r.resolve(!0)}return this.queue.push(o),i?(this.batchFire(),r.resolve(!0)):(this.flush(!0),r.resolve(!0))}return this.preContextQueue.push(t),r.resolve(!0)}},{key:"callOnDestroy",value:function(e){this.unloadHandlers.push(e)}},{key:"destroy",value:function(){this.unloadHandlers.forEach((function(e){return e()})),this.forceFlush(),this.trackingEventListeners=[],this.clientMonitoringConn=void 0,ti.off("internal:hide",this.onHideHandler)}},{key:"forceFlush",value:function(e){var t=this
this.populatePreContextQueue({pageInstance:fi("unknown"),pageKey:"unknown"}).forEach((function(n){t.isLixEnabled("pemberly.tracking.even-batch")&&Array.isArray(e)?e.push(n):t.queue.push(n)})),this.isLixEnabled("pemberly.tracking.even-batch")&&Array.isArray(e)&&e.length>0?this.sendPayload(e):this.flush(!0)}},{key:"isLixEnabled",value:function(e){var t,n
return"enabled"===(null===(t=(n=this.host).__getLixTreatment)||void 0===t?void 0:t.call(n,e))}},{key:"getSequenceNumberFromIDB",value:function(){var e=this
bi("read").then((function(t){var n
e.clientGlobalSequenceNumberCounter=null!==(n=null==t?void 0:t.sequenceNumber)&&void 0!==n?n:0,Gi.forEach((function(n){var r
e.clientTopicLocalSequenceNumberCountersMap[n]=null!==(r=null==t?void 0:t[n])&&void 0!==r?r:0}))})).catch((function(e){_i("sequence-number:idb-read",e)}))}},{key:"updateSequenceNumberToIDB",value:function(){bi("update",this.clientGlobalSequenceNumberCounter,this.clientTopicLocalSequenceNumberCountersMap).catch((function(e){_i("sequence-number:idb-update",e)}))}},{key:"updateSequenceNumberOnExit",value:function(){var e=this
"undefined"!=typeof window&&"undefined"!=typeof document&&window.addEventListener("beforeunload",(function t(){e.updateSequenceNumberToIDB(),window.removeEventListener("beforeunload",t)}))}},{key:"prepareCompleteEnvelopeQueue",value:function(e){var t=this,n=e.meta.context=gi(e.meta.context,this.host.api)
return"function"==typeof e.body&&(e.body=e.body(n)),this.preContextQueue.length>0&&this.populatePreContextQueue(n).forEach((function(e){return t.queue.push(e)})),e}},{key:"envelop",value:function(e,t,n){var r=this.host,i=r.appId,a=r.api,o={eventBody:t,eventInfo:"string"==typeof e?{appId:i,eventName:e,topicName:e}:a.assign({appId:i},e)}
return n.length>0&&this.host.api.assign(o,{clientBreadcrumbs:n}),o}},{key:"getBreadcrumbs",value:function(e){return e.clientBreadcrumbs||[]}},{key:"getGenericEventBody",value:function(e){var t,n=this.host,r=n.appVersion,i=n.locale,a=n.api,o=a.location,s=a.document,c=a.assign,d=e.meta.context,u=d.pageKey,l=d.pageInstance,p=function(e){return"string"==typeof e?e===Ki:e.eventName===Ki}(e.id)&&(null===(t=e.body.requestHeader)||void 0===t?void 0:t.pageKey)||u,f=null
"string"!=typeof i&&null!==this.host.locale||(f=i)
var h={interfaceLocale:f,pageKey:p,path:o.pathname+o.search,referer:s.referrer,isFlushOnCloseBrowserTabEnabled:!Ti()&&(kr()||"undefined"!=typeof navigator&&"sendBeacon"in navigator),isBrowserPersistentRetryEnabled:this.networkTransporter.isBrowserPersistentRetryEnabled()},m={pageInstance:l,time:e.meta.time,version:r,server:"",service:"",guid:ui(),memberId:0}
"number"==typeof this.clientGlobalSequenceNumberCounter&&c(m,{clientGlobalSequenceNumber:this.clientGlobalSequenceNumberCounter})
var g=Ni(e.id)
if(Gi.includes(g)){var y=this.clientTopicLocalSequenceNumberCountersMap[g]
"number"==typeof y&&c(m,{clientTopicLocalSequenceNumber:y})}var v={header:c(m,e.meta.header||{}),requestHeader:c(h,e.meta.requestHeader||{})},b=e.meta.clientMonitoringInstanceId,T=e.meta.clientMonitoringInstanceEventNumber
return b&&c(v.header,{clientMonitoringInstanceId:b,clientMonitoringInstanceEventNumber:T}),c(e.body,v)}},{key:"populatePreContextQueue",value:function(e){var t,n=this.preContextQueue
return this.preContextQueue=[],null===(t=this.clientMonitoringConn)||void 0===t||t.logEventReadyToSend(n.length),n.map((function(t){return t.meta.context=e,"function"==typeof t.body&&(t.body=t.body(e)),t}))}},{key:"trigger",value:function(e,t){this.trackingEventListeners.forEach((function(n){return n(e,t)}))}},{key:"requestFlush",value:function(e,t){var n=this
e((function(){n.forceFlush(t)}),{timeout:1e4})}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=this.host.api.requestIdleCallback
e||!n?this.sendPayload():Array.isArray(t)&&t.length>0?this.requestFlush(n,t):this.requestFlush(n)}},{key:"batchFire",value:function(){var e=this
if(this.queue.length>this.maxQueueSize)if(this.isLixEnabled("pemberly.tracking.even-batch")){var t=this.queue
this.queue=[],this.flush(!1,t)}else this.flush()
else this.debounceTimer&&clearTimeout(this.debounceTimer),this.isLixEnabled("pemberly.tracking.even-batch")?this.debounceTimer=setTimeout((function(){return e.flush(!0)}),this.flushDebounceTime):this.debounceTimer=setTimeout((function(){return e.flush()}),this.flushDebounceTime)}},{key:"sendPayload",value:function(e){var t,n=this
if(Array.isArray(e)?t=e:(t=this.queue,this.queue=[]),0!==t.length){this.enableSequenceNumberLix&&"undefined"!=typeof window&&!1===this.isTimerRunning&&(this.isTimerRunning=!0,setInterval((function(){n.updateSequenceNumberToIDB()}),5e3))
var r,i,a=[],o=[]
t.forEach((function(e){var t=n.getGenericEventBody(e),r=n.getBreadcrumbs(e),i=n.envelop(e.id,t,r)
n.trigger(i,e.meta)
var s=i.eventInfo.eventName
if("LixTreatmentsEvent"===s||"JavaScriptErrorEvent"===s?a.push(i):o.push(i),n.enableSequenceNumberLix){"number"==typeof n.clientGlobalSequenceNumberCounter&&n.clientGlobalSequenceNumberCounter++
var c=Ni(e.id)
Gi.includes(c)&&"number"==typeof n.clientTopicLocalSequenceNumberCountersMap[c]&&n.clientTopicLocalSequenceNumberCountersMap[c]++}})),this.host.inactive||(this.clientMonitoringConn&&(this.clientMonitoringConn.logEventSent(a.length+o.length),i=this.clientMonitoringConn,r={onResult:function(e,t){i&&!i.isDestroyed()&&(e.statusCode&&i.logNetworkResponseCode(e.statusCode),!0===e.drop&&t.forEach((function(t){var n=t.eventInfo.eventName,r=t.eventInfo.topicName||n,a="rawError"in e?e.rawError:"null",o=["type: ".concat(e.type),"statusCode: ".concat(e.statusCode||"null"),"drop: ".concat(String(e.drop)),"rawError: ".concat(a)].join(", ")
null==i||i.logFailedEvent(Di.UNKNOWN_EXECUTION_ERROR,{eventName:n,topicName:r},o,t.eventBody.header.clientMonitoringInstanceEventNumber||-1)})))}}),this.networkTransporter.sendPayloadFireForget(this.host.endpoint,a,void 0,r),this.networkTransporter.sendPayload(this.host.endpoint,o,void 0,r))}}}]),e}(),zi=function(){function e(t,n){En(this,e),this.clientBreadcrumbType=t,this.id=n}return Sn(e,[{key:"builder",get:function(){return function(){var e={},t=new Proxy({},{get:function(n,r){return"build"===r?function(){return e}:function(n){return e[r.toString()]=n,t}}})
return t}().id(this.id).clientBreadcrumbType(this.clientBreadcrumbType)}}],[{key:"toPointer",value:function(e){return{id:e.id,type:e.clientBreadcrumbType}}}]),e}()
function $i(e){if(!e)return{}
var t=e.trk,n=!1,r=e.licu&&decodeURIComponent(e.licu)
e.external_control&&(r="urn:li:externalControl:".concat(decodeURIComponent(e.external_control)),n=!0)
var i,a=e.lipi&&function(e){var t=decodeURIComponent(e).split(";")
if(t.length>1)return{pageUrn:t[0],trackingId:t[1]}}(e.lipi)
if(a?i={pageInstance:a,pageKey:t}:t&&(i={pageKey:t}),e.external_page&&e.external_page_instance){var o=decodeURIComponent(e.external_page)
i={pageInstance:{pageUrn:"urn:li:externalPage:".concat(o),trackingId:e.external_page_instance},pageKey:o},n=!0}var s=e.external_app&&e.external_app_instance?{applicationUrn:"urn:li:externalApplication:".concat(decodeURIComponent(e.external_app)),trackingId:e.external_app_instance,version:""}:void 0
return s&&((i=i||{}).applicationInstance=s),{fromExternalApp:n||!!s,previousApplicationInstance:s,previousContext:i,previousControlId:e.lici&&decodeURIComponent(e.lici),previousControlUrn:r}}function Xi(e){return"retryConfig"in e.host}!function(e){e.UNKNOWN="UNKNOWN",e.ME_NOTIFICATION="ME_NOTIFICATION",e.ME_NOTIFICATION_ACTION="ME_NOTIFICATION_ACTION"}(qi||(qi={})),Sn((function e(t,n){var r,i
if(En(this,e),Cn(this,"transporter",void 0),Cn(this,"delegate",void 0),Cn(this,"currentContext",void 0),Cn(this,"appState",void 0),Cn(this,"previousAppContext",void 0),Cn(this,"customTransporters",void 0),Cn(this,"clientMonitoringConn",void 0),this.transporter=t,this.delegate=n,this.appState={},this.customTransporters={},n&&n.customTransporterHosts)for(var a in n.customTransporterHosts)if(Object.prototype.hasOwnProperty.call(n.customTransporterHosts,a)){var o=this.transporter.host.api.assign({},this.transporter.host)
this.customTransporters[a]=new Wi(this.transporter.host.api.assign(o,n.customTransporterHosts[a]))}"enabled"===(null===(r=(i=t.host).__getLixTreatment)||void 0===r?void 0:r.call(i,"pemberly.tracking.monitoring"))&&t.host.clientMonitoringConfig&&!t.host.inactive&&"location"in t.host.api&&(this.clientMonitoringConn=Fi(t.host))}),[{key:"host",get:function(){return this.transporter.host}},{key:"checkAndEnablePersistentRetry",value:function(){Xi(this.transporter)&&this.transporter.checkAndEnablePersistentRetry(this.delegate)}},{key:"flushAndClearPersistedEventsOnLogout",value:function(){this.forceFlush()
var e=Xi(this.transporter)?this.transporter.clearPersistedEventsOnLogout():null
return null!=e?e:this.host.api.Promise.resolve()}},{key:"getCurrentContext",value:function(){if(this.currentContext)return gi(this.currentContext,this.host.api)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.navMetaFromSeed(e,$i(t))
if(this.setCurrentContext(r.to),!n.suppressEventsFiring)return this.fireNavEvents(r)}},{key:"setCurrentContext",value:function(e){var t
this.currentContext=gi(e,this.host.api),null===(t=this.clientMonitoringConn)||void 0===t||t.setCurrentContext(gi(e,this.host.api))}},{key:"updateAppState",value:function(e){var t
this.host.api.assign(this.appState,e),null===(t=this.clientMonitoringConn)||void 0===t||t.updateAppState(e)}},{key:"fireCIE",value:function(e,t,n,r,i){return this.fireEvent("ControlInteractionEvent",(function(n){var a=hi(n.pageKey,e),o={controlTrackingId:r,controlUrn:a,interactionType:t}
return i&&i(a),o}),{context:n})}},{key:"fireEvent",value:function(e,t,n,r){if(!t){var i=Ni(e),a=void 0===t?"undefined":null===t?"null":_n(t),o='Firing tracking event "'.concat(i,'" with invalid body, you fired "').concat(a,'"')
if(this.clientMonitoringConn){var s=this.clientMonitoringConn.logEventGenerated(i)
this.clientMonitoringConn.logFailedEvent(Di.MISSING_REQUIRED_PROPERTIES,e,o,s)}throw new Error(o)}var c=r||[]
if(c.length>0){var d=c.map((function(e){return zi.toPointer(e)}))
this.host.api.assign(t,{clientBreadcrumbPointers:d})}var u=c.length>0?this.generateEnvelopeWithBreadcrumbs(e,t,n,c):this.generateEnvelope(e,t,n)
return this.fireEnvelope(u)}},{key:"generateEnvelopeWithBreadcrumbs",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=this.generateEnvelope(e,t,n)
return r.length>0?this.addBreadcrumbsToEnvelope(i,r):i}},{key:"addBreadcrumbsToEnvelope",value:function(e,t){var n=t.map((function(e){var t=e
return delete t.clientBreadcrumbType,t}))
return this.host.api.assign(e,{clientBreadcrumbs:n}),e}},{key:"fireEnvelope",value:function(e){var t,n
if(null!==(t=this.delegate)&&void 0!==t&&null!==(n=t.shouldAnonymizeMemberId)&&void 0!==n&&n.call(t))if(Oi(e.id)){var r=e.id
e.id={eventName:r,topicName:r,shouldAnonymizeMemberId:!0}}else e.id.shouldAnonymizeMemberId=!0
var i=this.delegate&&this.delegate.preTransporter?this.delegate.preTransporter(e):e
if(i){var a=i.meta.transporterKey,o=a?this.customTransporters[a]:this.transporter
if(!o&&a){var s=Ni(i.id),c="Could not find custom transporter: ".concat(a)
if(this.clientMonitoringConn){var d=this.clientMonitoringConn.logEventGenerated(s)
this.clientMonitoringConn.logFailedEvent(Di.UNKNOWN_EXECUTION_ERROR,i.id,c,d)}throw new Error(c)}return o.fireEvent(i)}return this.host.api.Promise.resolve(!0)}},{key:"generatePageInstance",value:function(e,t){return fi(e,t)}},{key:"firePVE",value:function(e,t,n){return this._firePVE(e,t,n)}},{key:"_firePVE",value:function(e,t,n){var r={pageType:"full",totalTime:0,trackingCode:this.getTrackingCode(),trackingInfo:{}},i=this.host.api.assign(r,t),a=this.generateEnvelope("PageViewEvent",i,{context:n})
return a.meta.requestHeader.pageKey=e,this.fireEnvelope(a)}},{key:"destroy",value:function(){for(var e in this.transporter.destroy(),this.customTransporters)this.customTransporters[e].destroy()
this.clientMonitoringConn&&(this.clientMonitoringConn.flush(),this.clientMonitoringConn.destroy(),this.clientMonitoringConn=void 0),ti.clear()}},{key:"forceFlush",value:function(){for(var e in this.transporter.forceFlush(),this.customTransporters)this.customTransporters[e].forceFlush()}},{key:"generateControlUrn",value:function(e,t){return hi((t||this.currentContext||{pageKey:"unknown"}).pageKey,e)}},{key:"fireRawCIE",value:function(e,t,n,r){var i={controlTrackingId:r,controlUrn:e,interactionType:t}
return{beacon:this.fireEvent("ControlInteractionEvent",i,{context:n}),controlUrn:e}}},{key:"generateNavigationEvent",value:function(e){var t=e.triggerId,n=e.triggerUrn,r=e.from
return{previousPageInstance:r&&r.pageInstance,triggerControlTrackingId:t,triggerControlUrn:n}}},{key:"getTrackingCode",value:function(){return this.previousAppContext&&this.previousAppContext.pageKey}},{key:"navMetaFromSeed",value:function(e,t){var n="NavigationEvent"
this.previousAppContext=t.previousContext
var r=t.fromExternalApp?{eventName:n,topicName:"InboundNavigationEvent"}:n
return{from:t.previousContext,navEventId:r,to:{applicationInstance:t.applicationInstance,pageInstance:this.generatePageInstance(e,t.pageTrackingId),pageKey:e},triggerId:t.previousControlId,triggerUrn:t.previousControlUrn}}},{key:"fireNavEvents",value:function(e){var t=this.generateNavigationEvent(e),n=e.to,r=e.from,i=e.navEventId,a=this.generateEnvelope(i,t)
a.meta.requestHeader.pageKey=n.pageKey
var o=r&&r.applicationInstance
return o&&(a.meta.header.clientApplicationInstance=o),this.host.api.Promise.all([this._firePVE(n.pageKey),this.fireEnvelope(a)])}},{key:"generateEnvelope",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={directive:n.directive,transporterKey:n.transporterKey,context:n.context||this.currentContext&&gi(this.currentContext,this.host.api),requestHeader:this.host.api.assign({trackingCode:this.getTrackingCode()},n.requestHeader||{}),header:this.host.api.assign({applicationViewerUrn:this.appState.applicationViewerUrn,clientApplicationInstance:this.appState.clientApplicationInstance},n.header||{})}
return{body:"function"==typeof t?t:function(){return t},id:e,meta:r}}}]),Sn((function e(t,n){var r,i=this
En(this,e),Cn(this,"core",void 0),Cn(this,"protocol",void 0),Cn(this,"throttleKeySet",new Set),Cn(this,"config",void 0),Cn(this,"reportTransporterError",(function(e){e.reason instanceof Error||(e.reason=new Error(e.reason||"An error occurred in the transporter")),i.reportError(e.reason,e.tags.concat(["info"])).catch((function(){}))})),this.core=t
var a=this.core.host.api.location.protocol
this.protocol=a.substring(0,a.length-1),this.config={throttleTime:null!==(r=null==n?void 0:n.throttleTime)&&void 0!==r?r:100},ti.on("internal:error",this.reportTransporterError)}),[{key:"reportError",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.callTreeId,o=void 0===a?"":a,s=i.responseHeaders,c=void 0===s?{}:s,d=e.message,u=e.name,l=e.stack,p=void 0===l?"":l,f=e.fileName,h=void 0===f?"":f,m=e.lineNumber,g=void 0===m?0:m,y=e.columnNumber,v=void 0===y?0:y,b=this.core.host,T=b.appId,_=b.appVersion,E=b.service,x=b.serviceInstance,S=b.treeID,C=void 0===S?"":S,A=b.api,k=A.Promise,I=A.location,R=I.host,w=I.pathname,M=I.search,O=I.hash,N=void 0===O?"":O
if(c){t={}
var P=new Map
Object.keys(c).forEach((function(e){P.set(e.toLowerCase(),c[e])})),t.callTreeId=P.get("x-li-uuid"),t.microsoftEdgeReference=P.get("x-msedge-ref"),t.pointOfPresenceId=P.get("x-li-pop"),t.fabric=P.get("x-li-fabric")}var U=function(){return n.core.fireEvent("JavaScriptErrorEvent",(function(e){return{appId:T,e:{c:v,l:g,m:d,s:p,t:u,u:h},h:N,l:n.protocol,o:R,p:w,pageKey:e.pageKey,q:M,service:E,serviceInstance:x,serviceVersion:_,t:r,trackingID:e.pageInstance.trackingId,treeID:C,callTreeId:o,responseTraceHeaders:t}}))}
if(this.config.throttleTime<0)return U()
var D=function(e){return e.split("").reduce((function(e,t){return(e<<5)-e+t.charCodeAt(0)|0}),0)}(u+d+p+r.join("")+o)
return this.throttleKeySet.has(D)?k.resolve(!1):(this.throttleKeySet.add(D),setTimeout((function(){return n.throttleKeySet.delete(D)}),this.config.throttleTime),U())}},{key:"flush",value:function(){this.core.forceFlush()}},{key:"destroy",value:function(){this.core.destroy(),ti.off("internal:error",this.reportTransporterError)}}]),function(e){e.RealUserMonitoringEvent="RealUserMonitoringEvent",e.FeaturePerformanceMeasurementEvent="FeaturePerformanceMeasurementEvent",e.ClientPerfMetricsEvent="ClientPerfMetricsEvent",e.WEB_UI_FRAMEWORK="web-ui-framework",e.APP_ID="app-id",e.APP_VERSION="app-version",e.IS_SINGLE_PAGE_APP="is-single-page-app",e.IS_APP_RENDER_FAILED="is-app-render-failed",e.APP_RENDER_MODE="app-render-mode",e.USER_TIMING_MARK_ENABLED="user-timing-mark-enabled",e.USER_TIMING_MEASURE_ENABLED="user-timing-measure-enabled",e.BEACON_SOURCE="beacon-source",e.BEACON_TIMEOUT="beacon-timeout",e.ENABLE_RS_TIMING="enable-rs-timing",e.ENABLE_CDN_TRACKING="enable-cdn-tracking",e.ASYNC_PLUGINS_TIMEOUT="async-plugins-timeout",e.ENABLE_MEMORY_MEASUREMENT="enable-memory-measurement",e.PAGE_KEY_PREFIX="pageKeyPrefix"}(Vi||(Vi={})),function(e){e.PageLoadStartEvent="PageLoadStartEvent",e.PageLoadEndEvent="PageLoadEndEvent",e.ResourceLoadEvent="ResourceLoadEvent",e.CustomMeasureEvent="CustomMeasureEvent",e.ViewLoadEvent="ViewLoadEvent"}(Hi||(Hi={}))
var Qi,Yi,Ji,Zi,ea,ta,na=(Cn(ln={},"web-ui-framework","EMBER"),Cn(ln,"app-id","linkedin.rum.tracking"),Cn(ln,"app-version","unknown"),Cn(ln,"is-single-page-app",!0),Cn(ln,"user-timing-mark-enabled",!1),Cn(ln,"user-timing-measure-enabled",!0),Cn(ln,"beacon-source","apps"),Cn(ln,"enable-rs-timing",!0),Cn(ln,"enable-cdn-tracking",!1),Cn(ln,"async-plugins-timeout",5e3),Cn(ln,"beacon-timeout",3e4),Cn(ln,"enable-memory-measurement",!1),Cn(ln,"pageKeyPrefix",""),ln),ra=["loadEventEnd","loadEventStart","domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","domLoading","responseEnd","responseStart","requestStart","secureConnectionStart","connectEnd","connectStart","domainLookupEnd","domainLookupStart","fetchStart","redirectEnd","redirectStart","unloadEventEnd","unloadEventStart","navigationStart"],ia={redirectStart:"REDIRECT_START",redirectEnd:"REDIRECT_END",fetchStart:"FETCH_START",domainLookupStart:"DOMAIN_LOOKUP_START",domainLookupEnd:"DOMAIN_LOOKUP_END",connectStart:"CONNECT_START",connectEnd:"CONNECT_END",secureConnectionStart:"SECURE_CONNECTION_START",requestStart:"REQUEST_START",responseStart:"RESPONSE_START",responseEnd:"RESPONSE_END",workerStart:"WORKER_START"},aa={"http/0.9":"HTTP0_9","http/1.0":"HTTP1_0","http/1.1":"HTTP1_1",h2:"HTTP2"},oa="rum token passed is invalid",sa=function(){function e(){En(this,e),Cn(this,"userTimingEntries",[]),Cn(this,"longTasks",[]),Cn(this,"resourceTimingEntries",[]),Cn(this,"cdnData",void 0)}return Sn(e,[{key:"reset",value:function(){this.userTimingEntries=[],this.longTasks=[],this.resourceTimingEntries=[]}},{key:"attachTreeIds",value:function(e){this.resourceTimingEntries.forEach((function(t){var n=e.get(t.name)
n&&(t.resourceTreeId=n)}))}},{key:"getData",value:function(){return{userTimingEntries:this.userTimingEntries,longTasks:this.longTasks,resourceTimingEntries:this.resourceTimingEntries.map(da),cdnData:this.cdnData}}}]),e}(),ca=["resourceTreeId","name","entryType","startTime","duration","initiatorType","nextHopProtocol","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","transferSize","encodedBodySize","decodedBodySize","workerStart"]
function da(e){return ca.reduce((function(t,n){var r=e[n]
return void 0!==r&&(t[n]=r),t}),{})}function ua(e,t,n){for(var r=null,i=[],a=e,o=0,s=function(){var e=ya(function(e){var t=e.getAttribute("id")
return t&&ea.idName(t)?{name:"#"+Ia(t,{isIdentifier:!0}),penalty:0}:null}(a))||ya.apply(void 0,vn(function(e){return Array.from(e.attributes).filter((function(e){return ea.attr(e.name,e.value)})).map((function(e){return{name:"["+Ia(e.name,{isIdentifier:!0})+'="'+Ia(e.value)+'"]',penalty:.5}}))}(a)))||ya.apply(void 0,vn(function(e){return Array.from(e.classList).filter(ea.className).map((function(e){return{name:"."+Ia(e,{isIdentifier:!0}),penalty:1}}))}(a)))||ya(function(e){var t=e.tagName.toLowerCase()
return ea.tagName(t)?{name:t,penalty:2}:null}(a))||[{name:"*",penalty:3}],s=function(e){var t=e.parentNode
if(!t)return null
var n=t.firstChild
if(!n)return null
for(var r=0;n&&(n.nodeType===Node.ELEMENT_NODE&&r++,n!==e);)n=n.nextSibling
return r}(a)
if(t===Zi.All)s&&(e=e.concat(e.filter(ga).map((function(e){return ma(e,s)}))))
else if(t===Zi.Two)e=e.slice(0,1),s&&(e=e.concat(e.filter(ga).map((function(e){return ma(e,s)}))))
else if(t===Zi.One){var c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
if(null!=n){var r,i,a=[],o=!0,s=!1
try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),1!==a.length);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e)||bn(e,1)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e=e.slice(0,1))[0]
s&&ga(c)&&(e=[ma(c,s)])}var d,u=yn(e)
try{for(u.s();!(d=u.n()).done;)d.value.level=o}catch(e){u.e(e)}finally{u.f()}if(i.push(e),i.length>=ea.seedMinLength&&(r=la(i,n)))return"break"
a=a.parentElement,o++};a&&a!==ea.root.parentElement&&"break"!==s(););return r||(r=la(i,n)),r}function la(e,t){var n=Ta(ba(e))
if(n.length>ea.threshold)return t?t():null
var r,i=yn(n)
try{for(i.s();!(r=i.n()).done;){var a=r.value
if(ha(a))return a}}catch(e){i.e(e)}finally{i.f()}return null}function pa(e){for(var t=e[0],n=t.name,r=1;r<e.length;r++){var i=e[r].level||0
n=t.level===i-1?"".concat(e[r].name," > ").concat(n):"".concat(e[r].name," ").concat(n),t=e[r]}return n}function fa(e){return e.map((function(e){return e.penalty})).reduce((function(e,t){return e+t}),0)}function ha(e){switch(ta.querySelectorAll(pa(e)).length){case 0:throw new Error("Can't select any node with this selector: ".concat(pa(e)))
case 1:return!0
default:return!1}}function ma(e,t){return{name:e.name+":nth-child(".concat(t,")"),penalty:e.penalty+1}}function ga(e){return"html"!==e.name&&!e.name.startsWith("#")}function ya(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
var r=t.filter(va)
return r.length>0?r:null}function va(e){return null!=e}function ba(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]
if(e.length>0){var n,r=[],i=yn(e[0])
try{for(i.s();!(n=i.n()).done;){var a=n.value
r=r.concat(ba(e.slice(1,e.length),t.concat(a)))}}catch(e){i.e(e)}finally{i.f()}return r}return[t]}function Ta(e){return Array.from(e).sort((function(e,t){return fa(e)-fa(t)}))}function _a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{counter:0,visited:new Map},r=[]
if(e.length>2&&e.length>ea.optimizedMinLength)for(var i=1;i<e.length-1;i++){if(n.counter>ea.maxNumberOfTries)return r
n.counter+=1
var a=vn(e)
a.splice(i,1)
var o=pa(a)
if(n.visited.has(o))return r
ha(a)&&Ea(a,t)&&(r.push(a),n.visited.set(o,!0),r=r.concat(_a(a,t,n)))}return r}function Ea(e,t){return ta.querySelector(pa(e))===t}!function(e){e.HTTP0_9="HTTP0_9",e.HTTP1_0="HTTP1_0",e.HTTP1_1="HTTP1_1",e.HTTP2="HTTP2",e.UNKNOWN="UNKNOWN"}(Qi||(Qi={})),function(e){e.REDIRECT_START="REDIRECT_START",e.REDIRECT_END="REDIRECT_END",e.FETCH_START="FETCH_START",e.DOMAIN_LOOKUP_START="DOMAIN_LOOKUP_START",e.DOMAIN_LOOKUP_END="DOMAIN_LOOKUP_END",e.CONNECT_START="CONNECT_START",e.CONNECT_END="CONNECT_END",e.SECURE_CONNECTION_START="SECURE_CONNECTION_START",e.REQUEST_START="REQUEST_START",e.RESPONSE_START="RESPONSE_START",e.RESPONSE_END="RESPONSE_END",e.WORKER_START="WORKER_START"}(Yi||(Yi={})),function(e){e.redirectStart="redirectStart",e.redirectEnd="redirectEnd",e.fetchStart="fetchStart",e.domainLookupStart="domainLookupStart",e.domainLookupEnd="domainLookupEnd",e.connectStart="connectStart",e.connectEnd="connectEnd",e.secureConnectionStart="secureConnectionStart",e.requestStart="requestStart",e.responseStart="responseStart",e.responseEnd="responseEnd",e.workerStart="workerStart"}(Ji||(Ji={})),function(e){e[e.All=0]="All",e[e.Two=1]="Two",e[e.One=2]="One"}(Zi||(Zi={}))
var xa,Sa=/[ -,\.\/:-@\[-\^`\{-~]/,Ca=/[ -,\.\/:-@\[\]\^`\{-~]/,Aa=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,ka={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1}
function Ia(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign(Object.assign({},ka),t)
"single"!=n.quotes&&"double"!=n.quotes&&(n.quotes="single")
for(var r="double"==n.quotes?'"':"'",i=n.isIdentifier,a=e.charAt(0),o="",s=0,c=e.length;s<c;){var d=e.charAt(s++),u=d.charCodeAt(0),l=void 0
if(u<32||u>126){if(u>=55296&&u<=56319&&s<c){var p=e.charCodeAt(s++)
56320==(64512&p)?u=((1023&u)<<10)+(1023&p)+65536:s--}l="\\"+u.toString(16).toUpperCase()+" "}else l=n.escapeEverything?Sa.test(d)?"\\"+d:"\\"+u.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(d)?"\\"+u.toString(16).toUpperCase()+" ":"\\"==d||!i&&('"'==d&&r==d||"'"==d&&r==d)||i&&Ca.test(d)?"\\"+d:d
o+=l}return i&&(/^-[-\d]/.test(o)?o="\\-"+o.slice(1):/\d/.test(a)&&(o="\\3"+a+" "+o.slice(1))),o=o.replace(Aa,(function(e,t,n){return t&&t.length%2?e:(t||"")+n})),!i&&n.wrap?r+o+r:o}function Ra(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
if(e&&"function"==typeof e.now&&(e.timeOrigin||e.timing)){var n,r=e.now()
return n=!e.timing&&t?Math.floor(e.timeOrigin):e.timing.navigationStart,Math.round(r+n)}return Date.now()}function wa(e){var t=e||performance
return Math.round(t.now())}function Ma(e){if(!e)return"null"
if(e.nodeType===Node.ELEMENT_NODE)try{return function(e,t){if(e.nodeType!==Node.ELEMENT_NODE)throw new Error("Can't generate CSS selector for non-element node type.")
if("html"===e.tagName.toLowerCase())return"html"
var n={root:document.body,idName:function(e){return!0},className:function(e){return!0},tagName:function(e){return!0},attr:function(e,t){return!1},seedMinLength:1,optimizedMinLength:2,threshold:1e3,maxNumberOfTries:1e4}
ea=Object.assign(Object.assign({},n),{idName:function(e){return 0!==e.indexOf("ember")}}),ta=function(e,t){return e.nodeType===Node.DOCUMENT_NODE?e:e===t.root?e.ownerDocument:e}(ea.root,n)
var r=ua(e,Zi.All,(function(){return ua(e,Zi.Two,(function(){return ua(e,Zi.One)}))}))
if(r){var i=Ta(_a(r,e))
return i.length>0&&(r=i[0]),pa(r)}throw new Error("Selector was not found.")}(e)}catch(e){return"serialization_error"}var t=Ma(e.parentElement||void 0)
return"".concat(t," > nodeType(").concat(e.nodeType,")")}function Oa(e,t,n,r){var i=[]
return e&&"function"==typeof e.getEntriesByType&&(t["user-timing-measure-enabled"]&&e.getEntriesByType("measure").forEach((function(e){var t=e.name,n=e.startTime,a=e.duration
i.push({entryType:"MEASURE",name:t,startTime:n,duration:a}),null==r||r({measurementName:t,measurementType:"MEASURE",measureProgressStates:[{measureProgressName:t,timestamp:n,duration:a}]})})),t["user-timing-mark-enabled"]&&e.getEntriesByType("mark").forEach((function(e){var t=e.name,n=e.startTime,a=e.duration
i.push({entryType:"MARK",name:t,startTime:n,duration:a}),null==r||r({measurementName:t,measurementType:"MARK",measureProgressStates:[{measureProgressName:t,timestamp:n}]})})),n&&(e.clearMeasures(),e.clearMarks())),i}function Na(e){var t=[]
return e.forEach((function(e){return t.push(e)})),t}var Pa=function(){function e(t){En(this,e),Cn(this,"hostApis",void 0),Cn(this,"hostnameProperties",void 0),Cn(this,"usedHostnames",void 0),Cn(this,"abortController",void 0),Cn(this,"pendingPromises",void 0),this.hostApis=t
var n=t.AbortController
this.hostnameProperties={},this.usedHostnames=new Set,this.abortController=new n,this.pendingPromises=new Set}return Sn(e,[{key:"clearUsedHostnames",value:function(){this.usedHostnames=new Set}},{key:"getPresentData",value:function(){var e=this
return vi(this.usedHostnames).map((function(t){return e.hostnameProperties[t]||{hostname:t,provider:"",ipVersion:"",httpVersion:""}}))}},{key:"getDataWhenReady",value:function(e){var t=this,n=this.hostApis,r=n.AbortController,i=n.Promise,a=yi(vi(this.pendingPromises),i),o=setTimeout((function(){t.abortController.abort(),t.abortController=new r}),e)
return a.then((function(){return clearTimeout(o),t.getPresentData()}))}},{key:"inspectEntryForCdnData",value:function(e){var t=this
if(!(e.name.indexOf(".licdn.")<0)){var n,r,i=this.hostApis.assign,a=(n=e.name,r=this.hostApis.document,(xa=xa||r.createElement("a")).href=n,xa.hostname)
if(this.usedHostnames.add(a),!this.hostnameProperties[a]&&!this.isResourcePossiblyFromCache(e)){var o=this.fetchCdnFromUrl(e.name).then((function(e){var n=i({hostname:a},e)
return t.hostnameProperties[a]||(t.hostnameProperties[a]=n),t.pendingPromises.delete(o),n}))
this.pendingPromises.add(o)}}}},{key:"fetchCdnFromUrl",value:function(e){return(0,this.hostApis.fetch)(e,{method:"HEAD",signal:this.abortController.signal}).then((function(e){return{provider:e.headers.get("X-CDN")||"",ipVersion:e.headers.get("X-CDN-CLIENT-IP-VERSION")||"",httpVersion:e.headers.get("X-CDN-Proto")||""}}))}},{key:"isResourcePossiblyFromCache",value:function(e){return void 0!==e.transferSize?0===e.transferSize:e.domainLookupStart===e.domainLookupEnd&&e.connectEnd===e.connectStart&&0===e.secureConnectionStart}}]),e}(),Ua=function(){function e(t,n,r,i,a,o,s){En(this,e),Cn(this,"hostApis",void 0),Cn(this,"statics",void 0),Cn(this,"options",void 0),Cn(this,"allowTimingOrigin",void 0),Cn(this,"fireCustomMeasureEvent",void 0),Cn(this,"fireResourceLoadEvent",void 0),Cn(this,"isTracerLixEnabled",void 0),Cn(this,"collectResourceTimings",void 0),Cn(this,"collectCdnData",void 0),Cn(this,"perfObserver",void 0),Cn(this,"renderTimings",new Map),Cn(this,"urlToTreeId",new Map),Cn(this,"cdnDataProvider",void 0),Cn(this,"observables",new sa),this.hostApis=t,this.statics=n,this.options=r,this.allowTimingOrigin=i,this.fireCustomMeasureEvent=a,this.fireResourceLoadEvent=o,this.isTracerLixEnabled=s,this.collectResourceTimings=r["enable-rs-timing"],this.collectCdnData=r["enable-cdn-tracking"],this.collectCdnData&&(this.cdnDataProvider=new Pa(t))}return Sn(e,[{key:"recordTreeId",value:function(e,t){this.collectResourceTimings&&this.urlToTreeId.set(function(e,t){return(xa=xa||t.createElement("a")).href=e,xa.href}(t,this.hostApis.document),e)}},{key:"recordRenderStart",value:function(e,t){this.renderTimings.has(e)||this.renderTimings.set(e,{renderName:t,viewId:e,renderStart:Ra(this.hostApis.performance,this.allowTimingOrigin)})}},{key:"recordRenderEnd",value:function(e,t,n){var r=this.renderTimings.get(e)
if(r&&(r.renderEnd=r.renderEnd||Ra(this.hostApis.performance,this.allowTimingOrigin),t))return n?this.collectViewLoadEventData(r,n):void _i("ViewLoadEvent","pageLoadId does not exist")}},{key:"collectViewLoadEventData",value:function(e,t){var n=e.renderName,r=e.renderEnd,i=void 0===r?-1:r,a=e.renderStart,o=void 0===a?-1:a,s=[]
return s.push({viewProgressType:"RENDER_START",timestamp:o}),s.push({viewProgressType:"RENDER_END",timestamp:i}),{parentPageLoadId:t,viewHierarchy:[n],viewProgressStates:s}}},{key:"startObserving",value:function(){var e=this.hostApis,t=e.PerformanceObserver,n=e.performance
this.stopObserving(),t?this.setupPerformanceObserver(t,n.timeOrigin):this.collectResourceTimings&&this.emulateResourceTimingObserver(n),this.collectResourceTimings&&this.processNewResourceTimings()}},{key:"stopObserving",value:function(){var e
null===(e=this.perfObserver)||void 0===e||e.disconnect(),this.reset()}},{key:"collect",value:function(e){var t=this,n=e.isInitial,r=e.immediate,i=this.collectSynchronousData(n)
if(r)return i
var a=this.collectAsynchronousData()
return"then"in a?a.then((function(e){return(0,t.hostApis.assign)(i,e),i})):i}},{key:"collectPageLoadStartData",value:function(e){var t=e.isInitial,n=e.rumKey,r=Object.create(null)
r.pageKey=n,r.pageLoadType=t?"INITIAL_LOAD":"SUBSEQUENT_LOAD",r.networkInformationMetrics=this.snapshot.networkInformationMetrics
var i=this.statics,a=i.webUIFramework,o=i.timeSource,s=i.isSinglePageApp,c=i.appRenderMode,d=i.isAppRenderFailed,u=i.isFromServiceWorker,l=i.treeId
return r.treeId=l,r.browserPageLoadStartContext={webUIFramework:a,timeSource:o,isSinglePageApp:s,appRenderMode:c,isAppRenderFailed:d,isFromServiceWorker:u},r}},{key:"collectPageLoadEndData",value:function(e){var t=Object.create(null),n=Object.create(null)
t.cdnData=[],t.browserPageLoadEndContext={},t.navigationTiming=Object.create(null)
var r=e.isInitial,i=e.immediate,a=this.hostApis.assign
if(r){var o=La(this.hostApis.performance),s=o.htmlMetrics,c=o.redirectCount,d=o.navigationType,u=o.workerStart
s&&(t.browserPageLoadEndContext.htmlMetrics=Object.create(null),a(t.browserPageLoadEndContext.htmlMetrics,s)),Object.prototype.hasOwnProperty.call(o,"redirectCount")&&(n.redirectCount=c),Object.prototype.hasOwnProperty.call(o,"navigationType")&&(n.navigationType=d),n.workerStart=null!=u?u:0,ra.forEach((function(e){Object.prototype.hasOwnProperty.call(o,e)&&(n[e]=o[e])})),a(t.navigationTiming,n)}if(!i){var l=this.collectAsynchronousData()
if("then"in l)return l.then((function(e){return a(t.cdnData,e.cdnData),t}))}var p=this.collectAsynchronousData(!0)
return a(t.cdnData,p.cdnData),t}},{key:"collectResourceLoadEvent",value:function(e,t){var n=e.name,r=e.transferSize,i=e.initiatorType,a=e.nextHopProtocol,o=e.encodedBodySize,s=e.decodedBodySize,c={}
c.resourceKey=n,c.isNetwork=!!r&&0!==r,c.loadType=i||"unknown",c.timeOrigin=t
var d={},u=this.urlToTreeId.get(n)
u&&(d.resourceTreeId=u)
var l=aa[a]
d.nextHopProtocol=null!=l?l:"UNKNOWN",d.transferSize=r,d.encodedBodySize=o,d.decodedBodySize=s,c.resourceNetworkContext=d
var p=[]
return Object.keys(ia).forEach((function(t){var n
t in Ji&&void 0!==e[t]&&p.push({resourceProgressType:ia[t],duration:null!==(n=e[t])&&void 0!==n?n:-1})})),c.resourceProgressStates=p,c}},{key:"reset",value:function(){var e
this.observables.reset(),null===(e=this.cdnDataProvider)||void 0===e||e.clearUsedHostnames()}},{key:"collectSynchronousData",value:function(e){var t=this.hostApis,n=t.assign,r=t.PerformanceObserver,i=Object.create(null)
return this.statics.pageLoadMode=e?"INITIAL":"PARTIAL",r||(this.observables.userTimingEntries=Oa(this.hostApis.performance,this.options,!0,this.fireCustomMeasureEvent),this.collectResourceTimings&&this.processNewResourceTimings()),this.observables.attachTreeIds(this.urlToTreeId),this.urlToTreeId.clear(),n(i,this.observables.getData(),this.snapshot,this.statics),e&&n(i,La(this.hostApis.performance)),n(i,this.collectAsynchronousData(!0)),i}},{key:"collectAsynchronousData",value:function(e){var t=this,n={cdnData:[],usedCDN:this.extractUsedCDN([])}
if(e){if(this.collectCdnData){var r=this.cdnDataProvider.getPresentData()
n.cdnData=r,n.usedCDN=this.extractUsedCDN(r)}return n}var i=[]
return this.collectCdnData&&i.push(this.cdnDataProvider.getDataWhenReady(this.options["async-plugins-timeout"]).then((function(e){n.cdnData=e,n.usedCDN=t.extractUsedCDN(e)}))),i.length>0?yi(i,Promise).then((function(){return n})):n}},{key:"setupPerformanceObserver",value:function(e,t){var n=this
this.perfObserver=new e((function(e){e.getEntries().forEach((function(e){var r=e.entryType,i=e.name,a=e.startTime,o=e.duration
"resource"===r?n.processSingleResourceTiming(e,t):"mark"===r?(n.observables.userTimingEntries.push({entryType:"MARK",name:i,startTime:a,duration:o}),n.fireCustomMeasureEvent({measurementName:i,measurementType:"MARK",measureProgressStates:[{measureProgressName:i,timestamp:a}]})):"measure"===r?(n.observables.userTimingEntries.push({entryType:"MEASURE",name:i,startTime:a,duration:o}),n.fireCustomMeasureEvent({measurementName:i,measurementType:"MEASURE",measureProgressStates:[{measureProgressName:i,timestamp:a,duration:o}]})):"longtask"===r&&(n.observables.longTasks.push({duration:o,name:i,startTime:a}),n.fireCustomMeasureEvent({measurementName:i,measurementType:"LONG_TASK",measureProgressStates:[{measureProgressName:i,timestamp:a,duration:o}]}))}))})),this.observables.userTimingEntries=Oa(this.hostApis.performance,this.options,!1,this.fireCustomMeasureEvent)
var r=["longtask"];(this.collectResourceTimings||this.collectCdnData)&&r.push("resource"),this.options["user-timing-mark-enabled"]&&r.push("mark"),this.options["user-timing-measure-enabled"]&&r.push("measure"),this.perfObserver.observe({entryTypes:r})}},{key:"emulateResourceTimingObserver",value:function(e){var t=this
e&&"function"==typeof e.setResourceTimingBufferSize&&"function"==typeof e.onresourcetimingbufferfull&&(e.setResourceTimingBufferSize(100),e.onresourcetimingbufferfull=function(){return t.processNewResourceTimings()})}},{key:"processNewResourceTimings",value:function(){var e=this,t=this.hostApis.performance
"function"==typeof t.getEntriesByType&&"function"==typeof t.clearResourceTimings&&(t.getEntriesByType("resource").forEach((function(n){return e.processSingleResourceTiming(n,t.timeOrigin)})),t.clearResourceTimings())}},{key:"processSingleResourceTiming",value:function(e,t){if(this.collectResourceTimings){this.observables.resourceTimingEntries.push(e)
var n=-1!==e.name.indexOf("/li/track")
if(this.isTracerLixEnabled&&!n){var r=this.collectResourceLoadEvent(e,t)
this.fireResourceLoadEvent(r)}}this.collectCdnData&&this.cdnDataProvider.inspectEntryForCdnData(e)}},{key:"extractUsedCDN",value:function(e){var t=e.filter((function(e){return e.hostname.indexOf("static")>=0})),n=t.length>0?t[0]:{hostname:"",provider:"",httpVersion:"",ipVersion:""}
return{static_domain:n.provider,http_version:n.httpVersion,ip_version:n.ipVersion}}},{key:"snapshot",get:function(){var e={detailedRenderTimingEntries:Na(this.renderTimings),networkInformationMetrics:Da(this.hostApis.connection)}
return this.renderTimings.clear(),e}}]),e}()
function Da(e){return e?{connectionType:e.type&&e.type.toUpperCase()||"UNKNOWN",effectiveType:function(e){switch(e){case"2g":return"TWO_G"
case"3g":return"THREE_G"
case"4g":return"FOUR_G"
default:return"SLOW_2G"}}(e.effectiveType),roundTripTime:e.rtt||-1,downlinkBandwidth:e.downlink||-1,downlinkMaxBandwidth:void 0===e.downlinkMax?-1:e.downlinkMax===1/0?0:e.downlinkMax}:void 0}function La(e){if(!e)return{navigationTimingApi:!1}
var t=Object.create({})
if("function"==typeof e.getEntriesByType){var n=e.getEntriesByType("navigation")[0]
n&&(["fetchStart","responseEnd","decodedBodySize","encodedBodySize","transferSize"].every((function(e){return"number"==typeof n[e]}))&&(t.htmlMetrics={htmlFetchStart:n.fetchStart,htmlResponseEnd:n.responseEnd,htmlDecodedBodySize:n.decodedBodySize,htmlEncodedBodySize:n.encodedBodySize,htmlTransferSize:n.transferSize}),t.workerStart=n.workerStart)}var r=e.timing,i=e.navigation
return r&&i?(t.navigationTimingApi=!0,ra.forEach((function(e){e in r&&(t[e]=r[e])})),t.navigationType=i.type,t.redirectCount=i.redirectCount):t.navigationTimingApi=!1,t}var Fa=function(){function e(t,n,r){En(this,e),Cn(this,"featureName",void 0),Cn(this,"trackingCore",void 0),Cn(this,"rumConfig",void 0),Cn(this,"observing",!1),Cn(this,"basePageTreeId",void 0),Cn(this,"startPageInstance",void 0),Cn(this,"startMemory",void 0),Cn(this,"reportTimeouts",[]),this.featureName=t,this.trackingCore=n,this.rumConfig=r}return Sn(e,[{key:"startObserving",value:function(){var t,n=this,r=this.getMemory()
r&&!this.observing&&(this.basePageTreeId=this.trackingCore.host.treeID||"",this.startPageInstance=(null===(t=this.trackingCore.getCurrentContext())||void 0===t?void 0:t.pageInstance)||fi("unknown"),this.startMemory=r,this.reportTimeouts=e.checkpoints.map((function(e){return setTimeout((function(){return n.reportMemory(e)}),60*e*1e3)})))}},{key:"stopObserving",value:function(){this.reportTimeouts.forEach((function(e){return clearTimeout(e)})),this.observing=!1}},{key:"reportMemory",value:function(e){var t={name:this.featureName,basePageTreeId:this.basePageTreeId,startTime:wa(this.trackingCore.host.api.performance),duration:0,startPageInstance:this.startPageInstance,marks:this.createMemoryMarks("-".concat(e,"min")),spans:[]}
this.trackingCore.fireEvent({appId:this.rumConfig["app-id"],eventName:"FeaturePerformanceMeasurementEvent"},t)}},{key:"createMemoryMarks",value:function(e){var t=this.getMemory(),n=["jsHeapSizeLimit","totalJSHeapSize","usedJSHeapSize"].map((function(n){return{name:n+e,startTime:t[n]}})),r=t.usedJSHeapSize-this.startMemory.usedJSHeapSize
return n.push({name:(r<0?"usedJSHeapSizeDecrease":"usedJSHeapSizeIncrease")+e,startTime:Math.abs(r)},{name:"utilization"+e,startTime:Math.round(t.usedJSHeapSize/t.totalJSHeapSize*100)}),n}},{key:"getMemory",value:function(){return this.trackingCore.host.api.performance.memory}}]),e}()
Cn(Fa,"checkpoints",[1,3,10,30,90,180,300])
var Ba,ja,qa,Va,Ha,Ga=Sn((function e(t,n,r){En(this,e),Cn(this,"webUIFramework",void 0),Cn(this,"timeSource",void 0),Cn(this,"isSinglePageApp",void 0),Cn(this,"appRenderMode",void 0),Cn(this,"isAppRenderFailed",void 0),Cn(this,"pageLoadMode","INITIAL"),Cn(this,"isSSL",void 0),Cn(this,"treeId",void 0),Cn(this,"isFromServiceWorker",void 0),this.webUIFramework=n["web-ui-framework"],this.timeSource=n["beacon-source"],this.isSinglePageApp=n["is-single-page-app"],this.appRenderMode=t["app-render-mode"],this.isAppRenderFailed=t["is-app-render-failed"],this.isSSL="https:"===r.api.location.protocol?1:0,this.treeId=r.treeID,this.isFromServiceWorker=r.isFromServiceWorker})),Ka=function(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},Wa=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return
var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}))
return n.observe({type:e,buffered:!0}),n}}catch(e){}},za=function(e,t){var n=function n(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))}
addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},$a=function(e){addEventListener("pageshow",(function(t){t.persisted&&e(t)}),!0)},Xa=function(e,t,n){var r
return function(i){t.value>=0&&(i||n)&&(t.delta=t.value-(r||0),(t.delta||void 0===r)&&(r=t.value,e(t)))}},Qa=-1,Ya=function(){return"hidden"===document.visibilityState?0:1/0},Ja=function(){za((function(e){var t=e.timeStamp
Qa=t}),!0)},Za=function(){return Qa<0&&(Qa=Ya(),Ja(),$a((function(){setTimeout((function(){Qa=Ya(),Ja()}),0)}))),{get firstHiddenTime(){return Qa}}},eo=!1,to=-1,no=function(e,t){eo||(function(e,t){var n,r=Za(),i=Ka("FCP"),a=function(e){"first-contentful-paint"===e.name&&(s&&s.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=e.startTime,i.entries.push(e),n(!0)))},o=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],s=o?null:Wa("paint",a);(o||s)&&(n=Xa(e,i,t),o&&a(o),$a((function(r){i=Ka("FCP"),n=Xa(e,i,t),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-r.timeStamp,n(!0)}))}))})))}((function(e){to=e.value})),eo=!0)
var n,r=function(t){to>-1&&e(t)},i=Ka("CLS",0),a=0,o=[],s=function(e){if(!e.hadRecentInput){var t=o[0],r=o[o.length-1]
a&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(a+=e.value,o.push(e)):(a=e.value,o=[e]),a>i.value&&(i.value=a,i.entries=o,n())}},c=Wa("layout-shift",s)
c&&(n=Xa(r,i,t),za((function(){c.takeRecords().map(s),n(!0)})),$a((function(){a=0,to=-1,i=Ka("CLS",0),n=Xa(r,i,t)})))},ro={passive:!0,capture:!0},io=new Date,ao=function(e,t){Ba||(Ba=t,ja=e,qa=new Date,co(removeEventListener),oo())},oo=function(){if(ja>=0&&ja<qa-io){var e={entryType:"first-input",name:Ba.type,target:Ba.target,cancelable:Ba.cancelable,startTime:Ba.timeStamp,processingStart:Ba.timeStamp+ja}
Va.forEach((function(t){t(e)})),Va=[]}},so=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp
"pointerdown"==e.type?function(e,t){var n=function(){ao(e,t),i()},r=function(){i()},i=function(){removeEventListener("pointerup",n,ro),removeEventListener("pointercancel",r,ro)}
addEventListener("pointerup",n,ro),addEventListener("pointercancel",r,ro)}(t,e):ao(t,e)}},co=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,so,ro)}))},uo=function(e,t){var n,r=Za(),i=Ka("FID"),a=function(e){e.startTime<r.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),n(!0))},o=Wa("first-input",a)
n=Xa(e,i,t),o&&za((function(){o.takeRecords().map(a),o.disconnect()}),!0),o&&$a((function(){var r
i=Ka("FID"),n=Xa(e,i,t),Va=[],ja=-1,Ba=null,co(addEventListener),r=a,Va.push(r),oo()}))},lo={},po=function(e,t){var n,r=Za(),i=Ka("LCP"),a=function(e){var t=e.startTime
t<r.firstHiddenTime&&(i.value=t,i.entries.push(e)),n()},o=Wa("largest-contentful-paint",a)
if(o){n=Xa(e,i,t)
var s=function(){lo[i.id]||(o.takeRecords().map(a),o.disconnect(),lo[i.id]=!0,n(!0))};["keydown","click"].forEach((function(e){addEventListener(e,s,{once:!0,capture:!0})})),za(s,!0),$a((function(r){i=Ka("LCP"),n=Xa(e,i,t),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-r.timeStamp,lo[i.id]=!0,n(!0)}))}))}))}},fo=["LCP","FID","CLS"],ho={LCP:"LargestContentfulPaint",FID:"FirstInputDelay",CLS:"CumulativeLayoutShift"},mo={},go=function(){var e
if(!Si)return""
var t=window.performance,n=void 0
if("function"==typeof(null==t?void 0:t.getEntriesByType)){var r,i=null===(r=window.performance)||void 0===r?void 0:r.getEntriesByType("navigation");(null==i?void 0:i.length)>0&&(n=i[0])}return(null===(e=n)||void 0===e?void 0:e.name)||window.location.href}(),yo=!1,vo=new Set,bo={LCP:"largest-contentful-paint",FID:"first-input",CLS:"layout-shift"}
function To(){var e=!0===window.__test__resetWebVitalsState
if(!yo||e){e&&(vo=new Set),fo.forEach(_o)
var t=Symbol()
Ha=t,[po,uo,no].forEach((function(e){return e(Eo.bind(null,t),!0)})),[po,uo,no].forEach((function(e){return e(xo.bind(null,t))})),yo=!0}}function _o(e){mo[e]={name:e,value:-1,updateHistory:[]}
var t=bo[e]
"undefined"!=typeof PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&"string"==typeof t&&PerformanceObserver.supportedEntryTypes.indexOf(t)>-1||(mo[e].value=-2)}function Eo(e,t){if(e===Ha){var n=mo[t.name],r=wa()
n&&(n.updateHistory.push({time:r,data:t}),n.value=t.value),vo.forEach((function(e){return e(t,r,!1)}))}}function xo(e,t){e===Ha&&vo.forEach((function(e){return e(t,wa(),!0)}))}var So=function(){function e(t,n){var r=this
En(this,e),Cn(this,"basePageTreeId",void 0),Cn(this,"basePageKey",void 0),Cn(this,"observing",!1),Cn(this,"appContextMap",new Map),Cn(this,"rumConfig",void 0),Cn(this,"trackingCore",void 0),Cn(this,"onMetricUpdate",(function(e,t,n){var i
r.observing&&(n?r.reportMetric(e.name):r.appContextMap.set(t,{time:t,url:location.href,pageKey:null===(i=r.trackingCore.getCurrentContext())||void 0===i?void 0:i.pageKey}))})),this.trackingCore=t,this.rumConfig=n}return Sn(e,[{key:"startObserving",value:function(){var e,t,n=this
To(),this.observing||(this.observing=!0,this.basePageTreeId=this.trackingCore.host.treeID||"_unknown",this.basePageKey=(null===(e=this.trackingCore.getCurrentContext())||void 0===e?void 0:e.pageKey)||"_unknown",fo.forEach((function(e){var t;-2===(null===(t=mo[e])||void 0===t?void 0:t.value)&&n.reportMetric(e)})),t=this.onMetricUpdate,vo.add(t))}},{key:"stopObserving",value:function(){var e
this.observing=!1,e=this.onMetricUpdate,vo.delete(e)}},{key:"reportMetric",value:function(e){var t=mo[e],n={name:ho[e]||e}
"CLS"===e?n.doubleValue=t.value:n.longValue=Math.round(t.value)
var r=mo[e]
if(r){var i=function(e,t,n,r,i){var a={basePageTreeId:e,basePageKey:t,basePageUrl:go},o=null
switch(n.name){case"LCP":o=function(e,t){var n
if(0===e.updateHistory.length)return null
var r=e.updateHistory[e.updateHistory.length-1],i=r.data.entries,a=i[i.length-1],o={pageKey:(null===(n=t.get(r.time))||void 0===n?void 0:n.pageKey)||"_unknown",element:Ma(a.element),renderTime:Math.round(a.renderTime),loadTime:Math.round(a.loadTime),size:Math.round(a.size)}
return a.url&&(o.url=a.url),o}(n,r)
break
case"FID":o=function(e,t){var n
if(0===e.updateHistory.length)return null
var r=e.updateHistory[e.updateHistory.length-1],i=r.data.entries,a=i[i.length-1]
return{pageKey:(null===(n=t.get(r.time))||void 0===n?void 0:n.pageKey)||"_unknown",processingStart:Math.round(a.processingStart),processingEnd:Math.round(a.processingEnd),target:Ma(a.target)}}(n,r)
break
case"CLS":o=function(e,t){if(0===e.updateHistory.length)return null
var n=e.updateHistory.map((function(e){return e.data.entries})).flat()
if(0===n.length)return null
var r=n.reduce((function(e,t){return e&&e.value>t.value?e:t})),i=e.updateHistory.find((function(e){return e.data.entries.includes(r)})),a=null
r&&r.sources&&r.sources.length&&(a=r.sources.reduce((function(e,t){return e.node&&e.previousRect.width*e.previousRect.height>t.previousRect.width*t.previousRect.height?e:t})))
var o,s=t.get(i.time)
return a&&s?{shiftCount:n.length,"largestShift.value":r.value,"largestShift.hadRecentInput":r.hadRecentInput,"largestShift.largestSource.node":Ma(null===(o=a)||void 0===o?void 0:o.node),"largestShift.pageKey":s.pageKey||"_unknown","largestShift.url":s.url,"largestShift.startTime":Math.round(r.startTime)}:null}(n,r)}if(o){var s={}
return i(s,a,o),s}return a}(this.basePageTreeId,this.basePageKey,r,this.appContextMap,this.trackingCore.host.api.assign)
n.metadata=function(e){var t={}
return Object.keys(e).forEach((function(n){var r=e[n]
t[n]="string"==typeof r?r:JSON.stringify(r)})),t}(i)}var a={scope:{scopeType:"APPLICATION_INSTANCE",scopeKey:this.basePageTreeId},metrics:[n]}
this.trackingCore.fireEvent({appId:this.rumConfig["app-id"],eventName:"ClientPerfMetricsEvent"},a)}}]),e}()
Sn((function e(t,n,r){var i,a
En(this,e),Cn(this,"core",void 0),Cn(this,"config",void 0),Cn(this,"collector",void 0),Cn(this,"boomerangStart",-1),Cn(this,"webVitalsObserver",void 0),Cn(this,"appMemoryObserver",void 0),Cn(this,"pageMemoryObserver",void 0),Cn(this,"liveTokens",new Set),Cn(this,"stateWM",new WeakMap),Cn(this,"activeToken",void 0),Cn(this,"isInitial",void 0),Cn(this,"shouldTrackCustomMeasureEvent",void 0),Cn(this,"pageLoadId",void 0),Cn(this,"initialResourcesEvents",[]),Cn(this,"initialCustomMeasureEvents",[]),Cn(this,"beforeHideHandlerBound",this.beforeHideHandler.bind(this)),Cn(this,"fireCustomMeasureEventBound",this.fireCustomMeasureEvent.bind(this)),Cn(this,"fireResourceLoadEventBound",this.fireResourceLoadEvent.bind(this)),this.core=r,this.config=function(e,t){for(var n in e)void 0!==t[n]&&(e[n]=t[n])
return e}(r.host.api.assign({},na),n)
var o="enabled"===(null===(i=(a=this.core.host).__getLixTreatment)||void 0===i?void 0:i.call(a,"pemberly.tracking.time-origin-epoch-time"))
this.collector=new Ua(r.host.api,new Ga(t,this.config,r.host),this.config,o,this.fireCustomMeasureEventBound,this.fireResourceLoadEventBound,this.isTracerLixEnabled),this.collector.startObserving(),ti.before("internal:hide",this.beforeHideHandlerBound)}),[{key:"isTracerLixEnabled",get:function(){var e,t
return"enabled"===(null===(e=(t=this.core.host).__getLixTreatment)||void 0===e?void 0:e.call(t,"pemberly.tracking.generic-tracers"))}},{key:"pingCDN",value:function(){}},{key:"recordTreeId",value:function(e,t){e&&this.collector.recordTreeId(e,t)}},{key:"recordRenderStart",value:function(e,t){this.collector.recordRenderStart(e,t||e)}},{key:"recordRenderEnd",value:function(e){var t=this.collector.recordRenderEnd(e,this.isTracerLixEnabled,this.pageLoadId)
t&&this.isTracerLixEnabled&&this.core.fireEvent({appId:this.config["app-id"],eventName:"ViewLoadEvent"},t)}},{key:"start",value:function(){var e,t
this.activeToken&&this.abort(this.activeToken),this.flushEndedSessions(),this.isInitial=void 0===this.isInitial,this.isInitial||this.collector.reset()
var n,r=Object.create(null),i="enabled"===(null===(e=(t=this.core.host).__getLixTreatment)||void 0===e?void 0:e.call(t,"pemberly.tracking.time-origin-epoch-time"))
return this.activeToken=r,this.liveTokens.add(r),this.stateWM.set(r,{isInitial:this.isInitial,startTime:Ra(this.core.host.api.performance,i)}),this.config["enable-memory-measurement"]&&(null===(n=this.pageMemoryObserver)||void 0===n||n.stopObserving(),this.pageMemoryObserver=new Fa("page-memory",this.core,this.config),this.pageMemoryObserver.startObserving(),void 0===this.appMemoryObserver&&(this.appMemoryObserver=new Fa("application-memory",this.core,this.config),this.appMemoryObserver.startObserving())),r}},{key:"observeWebVitals",value:function(){void 0===this.webVitalsObserver&&(this.webVitalsObserver=new So(this.core,this.config),this.webVitalsObserver.startObserving())}},{key:"end",value:function(e){var t,n,r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0
if(e&&this.activeToken&&this.activeToken===e){var o=this.stateWM.get(e),s="enabled"===(null===(t=(n=this.core.host).__getLixTreatment)||void 0===t?void 0:t.call(n,"pemberly.tracking.time-origin-epoch-time")),c=Ra(this.core.host.api.performance,s)
o.endProps={renderCompleteTime:c,isImpactedByHiddenWindow:i,rumKey:a}
var d=this.activeToken
o.fireRumEventTimeout=setTimeout((function(){if(r.isTracerLixEnabled){var e=r.collector.collectPageLoadEndData({isInitial:o.isInitial})
"then"in e?e.then((function(e){r.firePageLoadEndEvent(e,d)})):r.firePageLoadEndEvent(e,d)}var t=r.collector.collect({isInitial:o.isInitial})
"then"in t?t.then((function(e){r.fireRumEvent(e,d)})):r.fireRumEvent(t,d)}),this.config["beacon-timeout"]),this.activeToken=void 0}else _i("rum-end",oa)}},{key:"firePageLoadStartEvent",value:function(e,t){if(e&&this.activeToken&&this.activeToken===e){this.shouldTrackCustomMeasureEvent=!0
var n=this.stateWM.get(e)
this.pageLoadId=ui()
var r=this.collector.collectPageLoadStartData({isInitial:n.isInitial,rumKey:t})
r.pageLoadId=this.pageLoadId,this.core.fireEvent({appId:this.config["app-id"],eventName:"PageLoadStartEvent"},r)}else _i("PageLoadStartEvent",oa)}},{key:"destroy",value:function(){var e,t,n
ti.offBefore("internal:hide",this.beforeHideHandlerBound),this.activeToken&&this.abort(this.activeToken),this.flushEndedSessions(),this.collector.stopObserving(),null===(e=this.webVitalsObserver)||void 0===e||e.stopObserving(),null===(t=this.appMemoryObserver)||void 0===t||t.stopObserving(),null===(n=this.pageMemoryObserver)||void 0===n||n.stopObserving(),this.core.destroy()}},{key:"abort",value:function(e){var t
if(!e||this.activeToken!==e)throw new Error("RUM abort: rum token passed is invalid")
if(null!==(t=this.stateWM.get(e))&&void 0!==t&&t.endProps)throw new Error("RUM abort: Can't abort a session that was already ended")
this.activeToken=void 0,this.stateWM.delete(e),this.liveTokens.delete(e)}},{key:"flushEndedSessions",value:function(){var e=this
this.liveTokens.forEach((function(t){var n=e.stateWM.get(t)
if(n.endProps){if(e.isTracerLixEnabled){var r=e.collector.collectPageLoadEndData({isInitial:n.isInitial,immediate:!0})
e.firePageLoadEndEvent(r,t)}var i=e.collector.collect({isInitial:n.isInitial,immediate:!0})
e.fireRumEvent(i,t)}}))}},{key:"firePageLoadEndEvent",value:function(e,t){if(this.stateWM.get(t)){var n=this.core.host.api.assign,r=this.stateWM.get(t),i=r.startTime,a=r.endProps
if(a){var o=a.renderCompleteTime,s=a.isImpactedByHiddenWindow,c=a.rumKey
if(e.pageLoadId=this.pageLoadId,e.browserPageLoadEndContext&&(e.browserPageLoadEndContext.isImpactedByHiddenWindow=s),e.navigationTiming){var d,u=null===(d=e.navigationTiming)||void 0===d?void 0:d.navigationStart,l=this.boomerangStart=u||this.boomerangStart,p=u||i,f=o-p
e.navigationTiming.boomerangStart=l,e.navigationTiming.timeDone=f,e.navigationTiming.navigationStart=p,void 0===e.navigationTiming.workerStart&&(e.navigationTiming.workerStart=0)}this.core.fireEvent({appId:this.config["app-id"],eventName:"PageLoadEndEvent"},(function(t){return n({pageKey:c||t.pageKey},e)})),this.shouldTrackCustomMeasureEvent=!1}else this.abort(t)}}},{key:"fireCustomMeasureEvent",value:function(e){var t=this
if(this.isTracerLixEnabled&&this.shouldTrackCustomMeasureEvent){if(!this.pageLoadId)return void this.initialCustomMeasureEvents.push(e)
this.initialCustomMeasureEvents.length>0&&(this.initialCustomMeasureEvents.forEach((function(e){e.parentPageLoadId=t.pageLoadId,t.core.fireEvent({appId:t.config["app-id"],eventName:"CustomMeasureEvent"},e)})),this.initialCustomMeasureEvents=[]),e.parentPageLoadId=this.pageLoadId,this.core.fireEvent({appId:this.config["app-id"],eventName:"CustomMeasureEvent"},e)}}},{key:"fireResourceLoadEvent",value:function(e){var t=this
if(this.isTracerLixEnabled){if(!this.pageLoadId)return void this.initialResourcesEvents.push(e)
this.initialResourcesEvents.length>0&&(this.initialResourcesEvents.forEach((function(e){e.parentPageLoadId=t.pageLoadId,t.core.fireEvent({appId:t.config["app-id"],eventName:"ResourceLoadEvent"},e)})),this.initialResourcesEvents=[]),e.parentPageLoadId=this.pageLoadId,this.core.fireEvent({appId:this.config["app-id"],eventName:"ResourceLoadEvent"},e)}}},{key:"fireRumEvent",value:function(e,t){if(this.stateWM.get(t)){var n=this.core.host.api.assign,r=this.stateWM.get(t),i=r.startTime,a=r.endProps
if(a){var o=a.renderCompleteTime,s=a.isImpactedByHiddenWindow,c=a.rumKey,d=this.boomerangStart=e.navigationStart||this.boomerangStart,u=e.navigationStart||i,l=o-u,p=this.config["app-version"]
this.core.fireEvent({appId:this.config["app-id"],eventName:"RealUserMonitoringEvent"},(function(t){return n({pageKey:c||t.pageKey,isImpactedByHiddenWindow:s,appVersion:p,timeDone:l,navigationStart:u,boomerangStart:d,renderCompleteTime:o},e)})),r.fireRumEventTimeout&&clearTimeout(r.fireRumEventTimeout),this.liveTokens.delete(t),this.stateWM.delete(t)}else this.abort(t)}}},{key:"beforeHideHandler",value:function(){this.flushEndedSessions()}}])
var Co="undefined"!=typeof window&&"undefined"!=typeof performance,Ao="undefined"!=typeof location&&-1!==location.search.indexOf("_LI_MEASURE_DEBUG")
Sn((function e(t,n){En(this,e),Cn(this,"trackingCore",void 0),Cn(this,"endPageInstance",void 0),Cn(this,"startPageInstance",void 0),Cn(this,"featureIdentifier",void 0),Cn(this,"marks",[]),Cn(this,"spans",[]),Cn(this,"spanStarts",new Map),Cn(this,"started",!1),Cn(this,"ended",!1),Cn(this,"featureKey",void 0),Cn(this,"productName",void 0),Cn(this,"flushOnEnd",void 0),Cn(this,"basePageTreeId",void 0),Cn(this,"debounceFlush",void 0),Cn(this,"disableAutoFlush",void 0),Cn(this,"isCanceled",!1),Cn(this,"isClosed",!1),this.trackingCore=t
var r=n.featureKey,i=n.productName,a=n.flushDebounceMilliseconds,o=n.flushOnEnd
this.featureKey=r,this.productName=i,this.flushOnEnd=o
var s=i?"::".concat(i):""
this.featureIdentifier="".concat(r).concat(s)
var c=void 0!==a?a:3e3
c>0&&(this.debounceFlush=function(e,t,n){var r,i,a
void 0===t&&(t=50),void 0===n&&(n={})
var o=null!=(r=n.isImmediate)&&r,s=null!=(i=n.callback)&&i,c=n.maxWait,d=Date.now(),u=[]
function l(){if(void 0!==c){var e=Date.now()-d
if(e+t>=c)return c-e}return t}var p=function(){var t=[].slice.call(arguments),n=this
return new Promise((function(r,i){var c=o&&void 0===a
if(void 0!==a&&clearTimeout(a),a=setTimeout((function(){if(a=void 0,d=Date.now(),!o){var r=e.apply(n,t)
s&&s(r),u.forEach((function(e){return(0,e.resolve)(r)})),u=[]}}),l()),c){var p=e.apply(n,t)
return s&&s(p),r(p)}u.push({resolve:r,reject:i})}))}
return p.cancel=function(e){void 0!==a&&clearTimeout(a),u.forEach((function(t){return(0,t.reject)(e)})),u=[]},p}(this.flush.bind(this),c)),this.disableAutoFlush=c<0}),[{key:"start",value:function(e){var t
if(Co){if(this.started)throw new Error("Same PerfMeasurement (".concat(this.featureIdentifier,") cannot be started twice"))
this.startPageInstance=e||(null===(t=this.trackingCore.getCurrentContext())||void 0===t?void 0:t.pageInstance),this.spanStart("load"),this.started=!0}}},{key:"end",value:function(e){var t
if(!this.isClosed){if(this.isClosed=!0,this.isCanceled)throw new Error('[rum measurement] cannot end a canceled measurement "'.concat(this.featureIdentifier,'"'))
if(Co){if(this.ended)throw new Error("Same PerfMeasurement (".concat(this.featureIdentifier,") should not be ended twice"))
this.endPageInstance=e||(null===(t=this.trackingCore.getCurrentContext())||void 0===t?void 0:t.pageInstance),this.spanEnd("load"),this.ended=!0,this.flushOnEnd&&this.flush()}}}},{key:"mark",value:function(e){Co&&(this.marks.push({name:e,startTime:wa()}),Ao&&(performance.mark("LI:".concat(this.featureIdentifier,"-mark-").concat(e)),performance.measure("LI:".concat(this.featureIdentifier,"-mark-").concat(e),"LI:".concat(this.featureIdentifier,"-start"),"LI:".concat(this.featureIdentifier,"-mark-").concat(e))),this.handleNewData())}},{key:"spanStart",value:function(e){Co&&(this.spanStarts.set(e,wa()),Ao&&performance.mark("LI:".concat(this.featureIdentifier,"-span-").concat(e,"-start")))}},{key:"spanEnd",value:function(e,t){if(Co&&this.spanStarts.has(e)){var n=this.spanStarts.get(e),r=t||e
this.spans.push({name:r,startTime:n,duration:wa()-n}),Ao&&(performance.mark("LI:".concat(this.featureIdentifier,"-span-").concat(e,"-end")),performance.measure("LI:".concat(this.featureIdentifier,"-span-").concat(t||e),"LI:".concat(this.featureIdentifier,"-span-").concat(e,"-start"),"LI:".concat(this.featureIdentifier,"-span-").concat(e,"-end"))),this.handleNewData()}}},{key:"addSpan",value:function(e){this.spans.push(e),this.handleNewData()}},{key:"setBasePageTreeId",value:function(e){this.basePageTreeId=e}},{key:"getTimestamp",value:function(){return wa()}},{key:"flush",value:function(){0===this.marks.length&&0===this.spans.length||(this.fireEvent(),this.marks=[],this.spans=[],this.debounceFlush&&this.debounceFlush.cancel())}},{key:"handleNewData",value:function(){this.debounceFlush?this.debounceFlush().catch((function(e){})):this.disableAutoFlush||this.flush()}},{key:"fireEvent",value:function(){var e=this,t=this.endPageInstance&&{header:{pageInstance:this.endPageInstance}}
this.trackingCore.fireEvent("FeaturePerformanceMeasurementEvent",(function(t){var n=e.startPageInstance||t.pageInstance||fi("unknown"),r={name:e.featureKey,startTime:-1,duration:-1,startPageInstance:n,marks:e.marks,spans:e.spans}
return e.productName&&(r.productName=e.productName),e.basePageTreeId&&(r.basePageTreeId=e.basePageTreeId),r}),t)}},{key:"cancel",value:function(){this.isCanceled=!0}},{key:"check",value:function(){if(Co){if(this.isCanceled)throw new Error('[rum measurement] "'.concat(this.featureIdentifier,'" has been canceled'))
if(!this.isClosed)throw new Error('[rum measurement] "'.concat(this.featureIdentifier,'" is still open'))}}}])
const ko="fields",Io=/^(\/[^?]+)\??(.*)$/
function Ro(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""
const t=Io.exec(e)
if(t){const[,e="",n=""]=t
return{path:e,queryString:n}}return{path:"",queryString:""}}const wo=/[,()':]/g,Mo=/[,()':]/
function Oo(e){const t=JSON.parse(JSON.stringify(e))
return function(e,t){if(Array.isArray(e)||"object"!=typeof e||null===e)throw new Error("You must pass an object to the paramEncode function. Use arrayParamEncode.")}(t),Object.keys(t).map((e=>e===ko?`${ko}=${t[ko]}`:`${Po(e)}=${No(t[e],!1)}`)).join("&")}function No(e,t){return Array.isArray(e)?function(e,t){const n=new Array(e.length)
for(let r=0;r<e.length;r++)n[r]=No(e[r],t)
return`List(${n.join(",")})`}(e,t):function(e){return"object"==typeof e&&null!==e}(e)?function(e,t){return`(${Object.keys(e).map((n=>`${Po(n,t)}:${No(e[n],t)}`)).join(",")})`}(e,t):Po(e,t)}function Po(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
return""===e?"''":t&&"string"==typeof e&&Mo.test(e)?e.replace(wo,escape):t?e:encodeURIComponent(e).replace(wo,escape)}Object.freeze({S_100_CONTINUE:100,S_101_SWITCHING_PROTOCOLS:101,S_200_OK:200,S_201_CREATED:201,S_202_ACCEPTED:202,S_203_NON_AUTHORITATIVE_INFORMATION:203,S_204_NO_CONTENT:204,S_205_RESET_CONTENT:205,S_206_PARTIAL_CONTENT:206,S_207_MULTI_STATUS:207,S_300_MULTIPLE_CHOICES:300,S_301_MOVED_PERMANENTLY:301,S_302_FOUND:302,S_303_SEE_OTHER:303,S_304_NOT_MODIFIED:304,S_305_USE_PROXY:305,S_307_TEMPORARY_REDIRECT:307,S_400_BAD_REQUEST:400,S_401_UNAUTHORIZED:401,S_402_PAYMENT_REQUIRED:402,S_403_FORBIDDEN:403,S_404_NOT_FOUND:404,S_405_METHOD_NOT_ALLOWED:405,S_406_NOT_ACCEPTABLE:406,S_407_PROXY_AUTHENTICATION_REQUIRED:407,S_408_REQUEST_TIMEOUT:408,S_409_CONFLICT:409,S_410_GONE:410,S_411_LENGTH_REQUIRED:411,S_412_PRECONDITION_FAILED:412,S_413_REQUEST_ENTITY_TOO_LARGE:413,S_414_REQUEST_URI_TOO_LONG:414,S_415_UNSUPPORTED_MEDIA_TYPE:415,S_416_REQUESTED_RANGE_NOT_SATISFIABLE:416,S_417_EXPECTATION_FAILED:417,S_422_UNPROCESSABLE_ENTITY:422,S_423_LOCKED:423,S_424_FAILED_DEPENDENCY:424,S_428_PRECONDITION_REQUIRED:428,S_429_TOO_MANY_REQUESTS:429,S_500_INTERNAL_SERVER_ERROR:500,S_501_NOT_IMPLEMENTED:501,S_502_BAD_GATEWAY:502,S_503_SERVICE_UNAVAILABLE:503,S_504_GATEWAY_TIMEOUT:504,S_505_HTTP_VERSION_NOT_SUPPORTED:505})
const Uo="application/x-www-form-urlencoded",Do="POST",Lo=8e3
function Fo(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=("graphql"===e?Bo:jo)(t,n)
return Object.keys(r).length?"".concat(i,"?").concat(Oo(r)):i}var Bo=function(e,t){var n=Vo(e.path),r=Vo(e.host),i=e.graphQLPrefix?Vo(e.graphQLPrefix):""
return"".concat(r).concat(n).concat(i).concat(t)},jo=function(e,t){var n=Vo(e.path),r=Vo(e.host),i=qo(e.restliPrefix,t)
return"".concat(r).concat(n).concat(i)},qo=function(e,t){return e?"".concat(e).concat(t.substring(0,1).toUpperCase()).concat(t.substring(1)):t},Vo=function(e){var t=e.endsWith("/")?"":"/"
return"".concat(e).concat(t)},Ho=function(e){return e.map((function(e){return function(e){return encodeURIComponent(e).replace(/\(/g,"%28").replace(/\)/g,"%29")}(e)})).join(",")},Go=new Map
function Ko(e){var t=Object.freeze({$debug:J({kind:e.kind},"query"===e.kind?{queryId:e.id,querySource:e.source}:{})})
return Go.set(t,e),t}var Wo=new Map,zo=function(e){if(!e.name||"query"!==e.kind)return e
var t=$o(e.name)
return t?J(J({},e),{},{id:t}):e},$o=function(e){return Wo.get(e)},Xo=Ko({kind:"query",id:"messengerConversations.ec20d615b99f18f7489617a00360e62c",typeName:"com.linkedin.a48779e96d56416b455684d54ca0a605",name:"find-conversations-by-category",source:'query findConversationsByCategory($category: String!, $count: Int, $lastUpdatedBefore: Long, $mailboxUrn: String!, $nextCursor: String) @recipeType(name: "com.linkedin.a48779e96d56416b455684d54ca0a605") {\n  messengerConversationsByCategory(\n    category: $category\n    count: $count\n    lastUpdatedBefore: $lastUpdatedBefore\n    mailboxUrn: $mailboxUrn\n    nextCursor: $nextCursor\n  ) @recipeType(name: "com.linkedin.a73b8d5735721f1ec465168cdaa142b9") {\n    elements @recipeType(name: "com.linkedin.e1658c761fec94488fdd088b9fdb9a69") {\n      ...Conversation\n      messages(count: 1, sortOrder: DESCENDING) @required @recipeType(name: "com.linkedin.438d87be109cbb09469835a99d6b6f2f") {\n        elements @allOrNothing @recipeType(name: "com.linkedin.c68c6da406b1fe9e72b3696e90742b5f") {\n          ...MessagePartialParticipant\n        }\n        _recipeType\n        _type\n      }\n    }\n    metadata @recipeType(name: "com.linkedin.5476b6f6131b92f9257f7c830d64c187") {\n      nextCursor\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.a6a436fa6f17407bd8c8147f46fcff28") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.ac430a4df660e223b7f4f7c373a4ccf0") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.97f0379fa4ba5468e14cbd5c68053810") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.3b08767bb20a5c78102fa8a9fe50fdd1") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.451ff444eb8982d2fbbfe5b156046452") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.e54582439de47f7669a170ea5a53d2e1") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.a82ff00edd015184a01711bba9d208bc") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.096e9846aa6fdd7640e1d48cbf951703") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.b288716f8064dfd0ee726fe59dbac2cf") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.1803df07940f4da07e985ad47a485455") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.cd14dd378cce5c41ae247b3718808a8d") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.61c5d9bc9b7540235f8f9f68f7695fe0") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.32cdb2401630b4ea1db1049f0dce279f") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.5b729f0d82ced97a1897195b00832a9f") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.70998a19dcae8fa5e43630a55ef0d4e6") {\n      firstName @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n        ...AttributedText\n      }\n      lastName @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n        ...AttributedText\n      }\n      headline @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n        ...AttributedText\n      }\n      profilePicture @recipeType(name: "com.linkedin.44ed3bb9ce20ace95c362517868c950d") {\n        ...VectorImage\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.b5b44a2405d5ad0bf6c7bac0a15264d6") {\n      name @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n        ...AttributedText\n      }\n      tagline @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n        ...AttributedText\n      }\n      logo @recipeType(name: "com.linkedin.44ed3bb9ce20ace95c362517868c950d") {\n        ...VectorImage\n      }\n      industryName @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n        ...AttributedText\n      }\n      following\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.0d08b58967a4c3b72b7d82f27c087076") {\n      name @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n        ...AttributedText\n      }\n      image @recipeType(name: "com.linkedin.44ed3bb9ce20ace95c362517868c950d") {\n        ...VectorImage\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment CreativeAdsReportingInfo on messenger_CreativeAdsReportingInfo {\n  contentSource\n  sponsoredAccountUrn\n  sponsoredCreativeUrn\n  _recipeType\n  _type\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsContent on messenger_ConversationAdsContent {\n  adUnit @recipeType(name: "com.linkedin.44ed3bb9ce20ace95c362517868c950d") {\n    ...VectorImage\n  }\n  advertiserLabel\n  advertiserLegalText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n  }\n  clickTrackingUrl\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.8eb25da4c068096c9747394f0b9c6284") {\n    ...CreativeAdsReportingInfo\n  }\n  linkedInLegalText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n  }\n  sponsoredConversationTrackingId\n  sponsoredTracking @recipeType(name: "com.linkedin.3651c975dd1476734086735ba5da8a22") {\n    ...SponsoredMetadata\n  }\n  _recipeType\n  _type\n}\n\nfragment Conversation on messenger_Conversation {\n  entityUrn\n  backendUrn\n  read\n  createdAt\n  lastActivityAt\n  lastReadAt\n  title\n  headlineText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n  }\n  shortHeadlineText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n  }\n  notificationStatus\n  categories\n  unreadCount\n  conversationUrl\n  hostConversationActions\n  conversationTypeText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n  }\n  state\n  groupChat\n  incompleteRetriableData\n  creator @recipeType(name: "com.linkedin.58c76c96823fed925ab4d67f45c41515") {\n    ...Participant\n  }\n  disabledFeatures @recipeType(name: "com.linkedin.988fdd52ee12553570a449e3687e2c00") {\n    disabledFeature\n    reasonText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  contentMetadata {\n    conversationAdContent @recipeType(name: "com.linkedin.c250ee3ee7ca72ac5d57f4772687ee8e") {\n      ...ConversationAdsContent\n    }\n  }\n  conversationParticipants @recipeType(name: "com.linkedin.58c76c96823fed925ab4d67f45c41515") {\n    ...Participant\n  }\n  _recipeType\n  _type\n}\n\nfragment ReactionSummary on messenger_ReactionSummary {\n  count\n  emoji\n  firstReactedAt\n  viewerReacted\n  _recipeType\n  _type\n}\n\nfragment MessageBaseWithoutConversation on messenger_Message {\n  entityUrn\n  backendConversationUrn\n  backendUrn\n  subject\n  body @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n  }\n  footer @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n  }\n  incompleteRetriableData\n  inlineWarning @recipeType(name: "com.linkedin.d9b5547d27737812851fe3d107da5441") {\n    obfuscatedMessageWarning @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n      ...AttributedText\n    }\n    inlineWarningPrompt @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  originToken\n  deliveredAt\n  messageBodyRenderFormat\n  renderContentFallbackText\n  reactionSummaries @recipeType(name: "com.linkedin.95c4ea34721e0046181b339f52ff27d6") {\n    ...ReactionSummary\n  }\n  _recipeType\n  _type\n}\n\nfragment MessageBase on messenger_Message {\n  ...MessageBaseWithoutConversation\n  conversation @recipeType(name: "com.linkedin.e1658c761fec94488fdd088b9fdb9a69") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment AudioMetadata on messenger_AudioMetadata {\n  duration\n  url\n  _recipeType\n  _type\n}\n\nfragment AwayMessage on messenger_AwayMessage {\n  footerText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n  }\n  text @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n  }\n  _recipeType\n  _type\n}\n\nfragment ExternalMedia on messenger_ExternalMedia {\n  entityUrn\n  title\n  media @recipeType(name: "com.linkedin.578efc3dc45f6204ef3609e978da6634") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  previewMedia @recipeType(name: "com.linkedin.578efc3dc45f6204ef3609e978da6634") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment FileAttachment on messenger_FileAttachment {\n  assetUrn\n  byteSize\n  mediaType\n  name\n  url\n  _recipeType\n  _type\n}\n\nfragment MessageAdRenderContent on messenger_MessageAdRenderContent {\n  advertiserLabel\n  bodyTracking\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.8eb25da4c068096c9747394f0b9c6284") {\n    contentSource\n    sponsoredAccountUrn\n    sponsoredCreativeUrn\n    _recipeType\n    _type\n  }\n  legalText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n  }\n  legalTextTracking\n  openTracking\n  sponsoredCampaignUrn\n  sponsoredTracking @recipeType(name: "com.linkedin.3651c975dd1476734086735ba5da8a22") {\n    ...SponsoredMetadata\n  }\n  status\n  subContent @recipeType(name: "com.linkedin.79d9e8e17548ee6b78cc6d0478534d47") {\n    action\n    actionText\n    actionTracking\n    callToActionLabel\n    leadGenFormOpenTracking\n    leadGenFormUrn\n    leadTrackingCode\n    leadTrackingParams\n    tscpUrl\n    adUnit @recipeType(name: "com.linkedin.e55b3cc50623802541bbf563e2d8c443") {\n      adUnit @recipeType(name: "com.linkedin.44ed3bb9ce20ace95c362517868c950d") {\n        ...VectorImage\n      }\n      adUnitTracking\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoPlayMetadata on videocontent_VideoPlayMetadata {\n  entityUrn\n  adaptiveStreams @recipeType(name: "com.linkedin.d98709a73534a771dc64d8d7199330e2") {\n    initialBitRate\n    masterPlaylists @recipeType(name: "com.linkedin.7f1121931194e998bc1b4ea0891ad2ae") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    mediaType\n    protocol\n    _recipeType\n    _type\n  }\n  aspectRatio\n  duration\n  liveStreamCreatedAt\n  liveStreamEndedAt\n  media\n  nextMedia\n  prevMedia\n  progressiveStreams @recipeType(name: "com.linkedin.899d1fe17e53465a1e2e1a7f068c1a3d") {\n    bitRate\n    height\n    mediaType\n    mimeType\n    size\n    streamingLocations @recipeType(name: "com.linkedin.7f1121931194e998bc1b4ea0891ad2ae") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    width\n    _recipeType\n    _type\n  }\n  provider\n  thumbnail @recipeType(name: "com.linkedin.44ed3bb9ce20ace95c362517868c950d") {\n    ...VectorImage\n  }\n  trackingId\n  transcripts @recipeType(name: "com.linkedin.d98a5df6b459eabc86916de3efe99dbf") {\n    captionFile\n    captionFormat\n    isAutogenerated\n    lines @recipeType(name: "com.linkedin.b711d5a6aa4c17e305bce381e7ad2a5b") {\n      caption\n      lineEndAt\n      lineStartAt\n      _recipeType\n      _type\n    }\n    locale @recipeType(name: "com.linkedin.3072aa9dcc423d530b618db09e53699d") {\n      country\n      extensions @recipeType(name: "com.linkedin.3dc125cbeda1099d08ef46eac53186c3") {\n        t\n        u\n        x\n        _recipeType\n        _type\n      }\n      language\n      script\n      variant\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoMeeting on messenger_VideoMeeting {\n  videoMeeting @recipeType(name: "com.linkedin.c439cde8ef7577d0a58e7b24066b7d7c") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  earliestStartAt\n  expiresAt\n  timeRange @recipeType(name: "com.linkedin.26cea42d83a8b4074bf987dfa8ce4bc5") {\n    end\n    start\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsMessageContent on messenger_ConversationAdsMessageContent {\n  sponsoredMessageContentUrn\n  sponsoredMessageTrackingId\n  sponsoredMessageOptions @recipeType(name: "com.linkedin.dc82aa5700dc2891aecbc7085b5228c9") {\n    clickAction {\n      externalWebsiteClickAction @recipeType(name: "com.linkedin.9a890742b7fd44d278739c890bf26e89") {\n        redirectUrl\n        _recipeType\n        _type\n      }\n      leadGenClickAction @recipeType(name: "com.linkedin.143e2938d676cb3276a8844859ad8e08") {\n        leadGenFormUrn\n        leadTrackingCode\n        leadTrackingParams\n        _recipeType\n        _type\n      }\n    }\n    optionText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n      ...AttributedText\n    }\n    tscpUrl\n    sponsoredMessageOption @recipeType(name: "com.linkedin.1c0d4217e953cefc22684bde72a8cb7f") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment MessagePartialParticipant on messenger_Message {\n  ...MessageBase\n  sender @recipeType(name: "com.linkedin.58c76c96823fed925ab4d67f45c41515") {\n    entityUrn\n    hostIdentityUrn\n    _recipeType\n    _type\n  }\n  renderContent {\n    audio @recipeType(name: "com.linkedin.819f17cb2f8e20624cbc4c482c64a921") {\n      ...AudioMetadata\n    }\n    awayMessage @recipeType(name: "com.linkedin.a9b778a895a630807e8656edb8c2fb10") {\n      ...AwayMessage\n    }\n    externalMedia @recipeType(name: "com.linkedin.96ea1277e90b082f2dce2f65fb92ffba") {\n      ...ExternalMedia\n    }\n    file @recipeType(name: "com.linkedin.50f39033128726441a0f42ef8d648cf0") {\n      ...FileAttachment\n    }\n    messageAdRenderContent @recipeType(name: "com.linkedin.587e08a3254a75acc7be84a6e830cd2b") {\n      ...MessageAdRenderContent\n    }\n    vectorImage @recipeType(name: "com.linkedin.44ed3bb9ce20ace95c362517868c950d") {\n      ...VectorImage\n    }\n    video @recipeType(name: "com.linkedin.33c8051984340fcd44e052471e633f01") {\n      ...VideoPlayMetadata\n    }\n    videoMeeting @recipeType(name: "com.linkedin.3ecd326f413c05157f0a38fbeb56d49e") {\n      ...VideoMeeting\n    }\n    hostUrnData @recipeType(name: "com.linkedin.3b13ed81acf43af83b1817fe6d68aaf9") {\n      hostUrn\n      type\n      _recipeType\n      _type\n    }\n    conversationAdsMessageContent @recipeType(name: "com.linkedin.548b5ed0017e3048ef0c60dc48baa9ef") {\n      ...ConversationAdsMessageContent\n    }\n    forwardedMessageContent @recipeType(name: "com.linkedin.510056f05feb00a00754f3b54aa85c95") {\n      originalSender @recipeType(name: "com.linkedin.58c76c96823fed925ab4d67f45c41515") {\n        ...Participant\n      }\n      originalSendAt\n      forwardedBody @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n        ...AttributedText\n      }\n      footerText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n    unavailableContent @recipeType(name: "com.linkedin.5ccbf8282e32ab852c44950ff8bf5664") {\n      contentType\n      unavailableReason @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}',variablesTypes:{properties:{category:{type:"String",isRequired:!0,kind:"Scalar"},count:{type:"Int",isRequired:!1,kind:"Scalar"},lastUpdatedBefore:{type:"Long",isRequired:!1,kind:"Scalar"},mailboxUrn:{type:"String",isRequired:!0,kind:"Scalar"},nextCursor:{type:"String",isRequired:!1,kind:"Scalar"}},types:{}}}),Qo=Ko({kind:"query",id:"messengerConversations.15ae3ec61e63cd34ff32e1b2e80dc9db",typeName:"com.linkedin.637753efb2e5d51c7275035cac9b4c5f",name:"find-conversations-by-recipients",source:'query findConversationsByRecipients($mailboxUrn: String!, $recipients: [String!]!) @recipeType(name: "com.linkedin.637753efb2e5d51c7275035cac9b4c5f") {\n  messengerConversationsByRecipients(\n    mailboxUrn: $mailboxUrn\n    recipients: $recipients\n  ) @recipeType(name: "com.linkedin.033878da33550a1f330eeaf7883b4321") {\n    elements @recipeType(name: "com.linkedin.128c009a69cdd7bfb2f134cbbbf9a397") {\n      ...Conversation\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.09228bb8171dd68774500c2d789b2542") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.15a83ff1c890b31b7a7fe3fc611b5f9a") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.46edbc17c83db73c1c168d5609d6fbb0") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.4ae7587cf42013da5e540c5d2de5624e") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.2566589f404a86abf02bda63a6500393") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.27e8caede551ddc11ea0bd2c48f3c5e1") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.21ee657d4ac32c1c1e5bf777b131830f") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.2899f08083867b774e4b7dd3be10abc1") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.cec8212252a33cad2a25dd92772f6098") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.4698b01fbc53cf61a11e56134775ca3f") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.810a970e1d444ed8fa907f901db408a7") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.dd46d970fdfe85b48a86cb201f6b59cf") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.43630e8f64f9af0ec9d63605915b0ae2") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.4b385e971ec0515ee23f2fc1e93f80dc") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.c95fcb34903375c2bf082dc19e08afe9") {\n      firstName @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n        ...AttributedText\n      }\n      lastName @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n        ...AttributedText\n      }\n      headline @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n        ...AttributedText\n      }\n      profilePicture @recipeType(name: "com.linkedin.12fbed95295806f914db1a049012110f") {\n        ...VectorImage\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.3587bb32347eaf7d2483e00bc0846d9c") {\n      name @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n        ...AttributedText\n      }\n      tagline @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n        ...AttributedText\n      }\n      logo @recipeType(name: "com.linkedin.12fbed95295806f914db1a049012110f") {\n        ...VectorImage\n      }\n      industryName @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n        ...AttributedText\n      }\n      following\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.35a65043a89d9556f36e9efbffee7c1e") {\n      name @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n        ...AttributedText\n      }\n      image @recipeType(name: "com.linkedin.12fbed95295806f914db1a049012110f") {\n        ...VectorImage\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment CreativeAdsReportingInfo on messenger_CreativeAdsReportingInfo {\n  contentSource\n  sponsoredAccountUrn\n  sponsoredCreativeUrn\n  _recipeType\n  _type\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsContent on messenger_ConversationAdsContent {\n  adUnit @recipeType(name: "com.linkedin.12fbed95295806f914db1a049012110f") {\n    ...VectorImage\n  }\n  advertiserLabel\n  advertiserLegalText @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n    ...AttributedText\n  }\n  clickTrackingUrl\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.f95e439de1f94fa96a08b86fb8c7c66a") {\n    ...CreativeAdsReportingInfo\n  }\n  linkedInLegalText @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n    ...AttributedText\n  }\n  sponsoredConversationTrackingId\n  sponsoredTracking @recipeType(name: "com.linkedin.3d99942c97deb43cf5874499c62d5a76") {\n    ...SponsoredMetadata\n  }\n  _recipeType\n  _type\n}\n\nfragment Conversation on messenger_Conversation {\n  entityUrn\n  backendUrn\n  read\n  createdAt\n  lastActivityAt\n  lastReadAt\n  title\n  headlineText @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n    ...AttributedText\n  }\n  shortHeadlineText @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n    ...AttributedText\n  }\n  notificationStatus\n  categories\n  unreadCount\n  conversationUrl\n  hostConversationActions\n  conversationTypeText @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n    ...AttributedText\n  }\n  state\n  groupChat\n  incompleteRetriableData\n  creator @recipeType(name: "com.linkedin.0d9eace028f0468a2d108c3ac54bd009") {\n    ...Participant\n  }\n  disabledFeatures @recipeType(name: "com.linkedin.f4eb28d3f7844665dacc4e816eec852c") {\n    disabledFeature\n    reasonText @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  contentMetadata {\n    conversationAdContent @recipeType(name: "com.linkedin.6af9bce1de695d637397a582319c5307") {\n      ...ConversationAdsContent\n    }\n  }\n  conversationParticipants @recipeType(name: "com.linkedin.0d9eace028f0468a2d108c3ac54bd009") {\n    ...Participant\n  }\n  _recipeType\n  _type\n}',variablesTypes:{properties:{mailboxUrn:{type:"String",isRequired:!0,kind:"Scalar"},recipients:{isRequired:!0,kind:"Array",type:"Array",innerType:{type:"String",isRequired:!0,kind:"Scalar"}}},types:{}}}),Yo=Ko({kind:"query",id:"messengerConversations.dac8c7f1824a84031125226192309c91",typeName:"com.linkedin.c3d42ec0291728dbe7f3aced6f0826e5",name:"find-conversations-by-search-criteria",source:'query FindConversationsBySearchCriteria($categories: [String!] = [], $count: Int = 10, $firstDegreeConnections: Boolean = false, $keywords: String, $mailboxUrn: String!, $nextCursor: String, $read: Boolean) @recipeType(name: "com.linkedin.c3d42ec0291728dbe7f3aced6f0826e5") {\n  messengerConversationsBySearchCriteria(\n    categories: $categories\n    count: $count\n    firstDegreeConnections: $firstDegreeConnections\n    keywords: $keywords\n    mailboxUrn: $mailboxUrn\n    nextCursor: $nextCursor\n    read: $read\n  ) @recipeType(name: "com.linkedin.cc7c78e409f93d88a171f825fe0d8629") {\n    elements @recipeType(name: "com.linkedin.aed049a49fceb4311a08d530a54727f7") {\n      ...Conversation\n      messages(count: 1, sortOrder: DESCENDING) @required @recipeType(name: "com.linkedin.243a0da9c776132286f7d390f6cd67dc") {\n        elements @allOrNothing @recipeType(name: "com.linkedin.4cf8e0578b3ab8a8bdd8d9b3cdeacee0") {\n          ...MessagePartialParticipant\n        }\n        _recipeType\n        _type\n      }\n    }\n    metadata @recipeType(name: "com.linkedin.d417d4710ab69db0cead999706012b23") {\n      ...ConversationCursorMetadata\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.b58763f17b3066a28387e37a39070c38") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.08f13fbb111fdeb2de77234c8cc37927") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.862090c7fd1ecbc9353fc1bda6dafe92") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.d98ea502796de9a46275f270c8da7f92") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.6c8b66070f8773c96509d828d6a05b3d") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.16ff88323bde36839fd76346af9bb305") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.e1faf92a024971783219dffe58936c03") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.d11382dc4567d2ebbfc16f9dda45511a") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.5d6c23f69f74b7ed5b72bdf8a42c0a58") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.917e2697debe114e1f6635c8d7d6a2fb") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.2cc1a5484d8589a0fdba7567eb060176") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.9f815bc6015528a062b691e80cb58f95") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.e8c76e7c50b11b0640d6aae1556dc643") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.7355651748f3690a24ab45ef61385b0f") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.6ec40d2da20c6b9d8f73c6648057b47f") {\n      firstName @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n        ...AttributedText\n      }\n      lastName @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n        ...AttributedText\n      }\n      headline @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n        ...AttributedText\n      }\n      profilePicture @recipeType(name: "com.linkedin.e3d271c5c175a42a23a8e62222c2a872") {\n        ...VectorImage\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.7eb2879d374ff89be8b91f2f4c181bd7") {\n      name @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n        ...AttributedText\n      }\n      tagline @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n        ...AttributedText\n      }\n      logo @recipeType(name: "com.linkedin.e3d271c5c175a42a23a8e62222c2a872") {\n        ...VectorImage\n      }\n      industryName @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n        ...AttributedText\n      }\n      following\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.6356b6f0ad0155ca2bfaa5cb91a815ba") {\n      name @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n        ...AttributedText\n      }\n      image @recipeType(name: "com.linkedin.e3d271c5c175a42a23a8e62222c2a872") {\n        ...VectorImage\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment CreativeAdsReportingInfo on messenger_CreativeAdsReportingInfo {\n  contentSource\n  sponsoredAccountUrn\n  sponsoredCreativeUrn\n  _recipeType\n  _type\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsContent on messenger_ConversationAdsContent {\n  adUnit @recipeType(name: "com.linkedin.e3d271c5c175a42a23a8e62222c2a872") {\n    ...VectorImage\n  }\n  advertiserLabel\n  advertiserLegalText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n  }\n  clickTrackingUrl\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.de423c0e668a2e3937ba0767defe646f") {\n    ...CreativeAdsReportingInfo\n  }\n  linkedInLegalText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n  }\n  sponsoredConversationTrackingId\n  sponsoredTracking @recipeType(name: "com.linkedin.151f71de764f34ef43820f56d5d914c2") {\n    ...SponsoredMetadata\n  }\n  _recipeType\n  _type\n}\n\nfragment Conversation on messenger_Conversation {\n  entityUrn\n  backendUrn\n  read\n  createdAt\n  lastActivityAt\n  lastReadAt\n  title\n  headlineText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n  }\n  shortHeadlineText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n  }\n  notificationStatus\n  categories\n  unreadCount\n  conversationUrl\n  hostConversationActions\n  conversationTypeText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n  }\n  state\n  groupChat\n  incompleteRetriableData\n  creator @recipeType(name: "com.linkedin.b576b99ebabe7b19d6a7c65dba01db86") {\n    ...Participant\n  }\n  disabledFeatures @recipeType(name: "com.linkedin.02bd52c0e1880e99ba50011654b56308") {\n    disabledFeature\n    reasonText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  contentMetadata {\n    conversationAdContent @recipeType(name: "com.linkedin.c949d9daf5e17ad5c66d1fdbabd4b52c") {\n      ...ConversationAdsContent\n    }\n  }\n  conversationParticipants @recipeType(name: "com.linkedin.b576b99ebabe7b19d6a7c65dba01db86") {\n    ...Participant\n  }\n  _recipeType\n  _type\n}\n\nfragment ReactionSummary on messenger_ReactionSummary {\n  count\n  emoji\n  firstReactedAt\n  viewerReacted\n  _recipeType\n  _type\n}\n\nfragment MessageBaseWithoutConversation on messenger_Message {\n  entityUrn\n  backendConversationUrn\n  backendUrn\n  subject\n  body @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n  }\n  footer @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n  }\n  incompleteRetriableData\n  inlineWarning @recipeType(name: "com.linkedin.fdf2f6e4651fa98389fd0c9940ee943c") {\n    obfuscatedMessageWarning @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n      ...AttributedText\n    }\n    inlineWarningPrompt @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  originToken\n  deliveredAt\n  messageBodyRenderFormat\n  renderContentFallbackText\n  reactionSummaries @recipeType(name: "com.linkedin.d5645f344392d647ea5a068fbe7e9a8c") {\n    ...ReactionSummary\n  }\n  _recipeType\n  _type\n}\n\nfragment MessageBase on messenger_Message {\n  ...MessageBaseWithoutConversation\n  conversation @recipeType(name: "com.linkedin.aed049a49fceb4311a08d530a54727f7") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment AudioMetadata on messenger_AudioMetadata {\n  duration\n  url\n  _recipeType\n  _type\n}\n\nfragment AwayMessage on messenger_AwayMessage {\n  footerText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n  }\n  text @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n  }\n  _recipeType\n  _type\n}\n\nfragment ExternalMedia on messenger_ExternalMedia {\n  entityUrn\n  title\n  media @recipeType(name: "com.linkedin.5fcffd1a9bc36206175265e0c15e6608") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  previewMedia @recipeType(name: "com.linkedin.5fcffd1a9bc36206175265e0c15e6608") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment FileAttachment on messenger_FileAttachment {\n  assetUrn\n  byteSize\n  mediaType\n  name\n  url\n  _recipeType\n  _type\n}\n\nfragment MessageAdRenderContent on messenger_MessageAdRenderContent {\n  advertiserLabel\n  bodyTracking\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.de423c0e668a2e3937ba0767defe646f") {\n    contentSource\n    sponsoredAccountUrn\n    sponsoredCreativeUrn\n    _recipeType\n    _type\n  }\n  legalText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n  }\n  legalTextTracking\n  openTracking\n  sponsoredCampaignUrn\n  sponsoredTracking @recipeType(name: "com.linkedin.151f71de764f34ef43820f56d5d914c2") {\n    ...SponsoredMetadata\n  }\n  status\n  subContent @recipeType(name: "com.linkedin.c76480b983b274e78981740fe67f2d61") {\n    action\n    actionText\n    actionTracking\n    callToActionLabel\n    leadGenFormOpenTracking\n    leadGenFormUrn\n    leadTrackingCode\n    leadTrackingParams\n    tscpUrl\n    adUnit @recipeType(name: "com.linkedin.8b2f75e37b9adaf3c2c529083186e490") {\n      adUnit @recipeType(name: "com.linkedin.e3d271c5c175a42a23a8e62222c2a872") {\n        ...VectorImage\n      }\n      adUnitTracking\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoPlayMetadata on videocontent_VideoPlayMetadata {\n  entityUrn\n  adaptiveStreams @recipeType(name: "com.linkedin.fcaf3274a0ceed650fe8b3d032a594c2") {\n    initialBitRate\n    masterPlaylists @recipeType(name: "com.linkedin.c0ec60b6b839e03ef93f96dd5e6e3038") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    mediaType\n    protocol\n    _recipeType\n    _type\n  }\n  aspectRatio\n  duration\n  liveStreamCreatedAt\n  liveStreamEndedAt\n  media\n  nextMedia\n  prevMedia\n  progressiveStreams @recipeType(name: "com.linkedin.7a5111f59bd313e7ec3f07ec7cfe8b72") {\n    bitRate\n    height\n    mediaType\n    mimeType\n    size\n    streamingLocations @recipeType(name: "com.linkedin.c0ec60b6b839e03ef93f96dd5e6e3038") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    width\n    _recipeType\n    _type\n  }\n  provider\n  thumbnail @recipeType(name: "com.linkedin.e3d271c5c175a42a23a8e62222c2a872") {\n    ...VectorImage\n  }\n  trackingId\n  transcripts @recipeType(name: "com.linkedin.7b79ea430f20fe0031d3a55c1f6fcfd3") {\n    captionFile\n    captionFormat\n    isAutogenerated\n    lines @recipeType(name: "com.linkedin.fc3d6e611bc00fff78fc0a87cbee0d6e") {\n      caption\n      lineEndAt\n      lineStartAt\n      _recipeType\n      _type\n    }\n    locale @recipeType(name: "com.linkedin.14d0bacca404231a31fa6599bf59ecf8") {\n      country\n      extensions @recipeType(name: "com.linkedin.4133b57aa880beea36b47cd8248b1274") {\n        t\n        u\n        x\n        _recipeType\n        _type\n      }\n      language\n      script\n      variant\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoMeeting on messenger_VideoMeeting {\n  videoMeeting @recipeType(name: "com.linkedin.19b6719cdc80996d2bd13d3c90717d3e") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  earliestStartAt\n  expiresAt\n  timeRange @recipeType(name: "com.linkedin.e441dc571e210362b62dc5158ea85540") {\n    end\n    start\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsMessageContent on messenger_ConversationAdsMessageContent {\n  sponsoredMessageContentUrn\n  sponsoredMessageTrackingId\n  sponsoredMessageOptions @recipeType(name: "com.linkedin.7598f75c888707bf85007beadaa3c717") {\n    clickAction {\n      externalWebsiteClickAction @recipeType(name: "com.linkedin.0ab0b312b8ed94f551dcbd5d8fb0f4ac") {\n        redirectUrl\n        _recipeType\n        _type\n      }\n      leadGenClickAction @recipeType(name: "com.linkedin.7d5c0ada85235084e6d54a96a7adf2e8") {\n        leadGenFormUrn\n        leadTrackingCode\n        leadTrackingParams\n        _recipeType\n        _type\n      }\n    }\n    optionText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n      ...AttributedText\n    }\n    tscpUrl\n    sponsoredMessageOption @recipeType(name: "com.linkedin.2e92f14674f98dd400e059afc5b71c89") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment MessagePartialParticipant on messenger_Message {\n  ...MessageBase\n  sender @recipeType(name: "com.linkedin.b576b99ebabe7b19d6a7c65dba01db86") {\n    entityUrn\n    hostIdentityUrn\n    _recipeType\n    _type\n  }\n  renderContent {\n    audio @recipeType(name: "com.linkedin.1b6fbcf645e16c5c4bfead9c35f020f6") {\n      ...AudioMetadata\n    }\n    awayMessage @recipeType(name: "com.linkedin.0355c17b95f4491a9d25b187afeacb00") {\n      ...AwayMessage\n    }\n    externalMedia @recipeType(name: "com.linkedin.0bff71d4415b526879d04cf6f7582cce") {\n      ...ExternalMedia\n    }\n    file @recipeType(name: "com.linkedin.b1e3a6cae32bb821942c4420f6694aec") {\n      ...FileAttachment\n    }\n    messageAdRenderContent @recipeType(name: "com.linkedin.1b2e71e5057a05272f25767bb394d51c") {\n      ...MessageAdRenderContent\n    }\n    vectorImage @recipeType(name: "com.linkedin.e3d271c5c175a42a23a8e62222c2a872") {\n      ...VectorImage\n    }\n    video @recipeType(name: "com.linkedin.03ffb0b0d60241bf1c6b321b355e957c") {\n      ...VideoPlayMetadata\n    }\n    videoMeeting @recipeType(name: "com.linkedin.326307ca4cc134468e08972ed67f0fbe") {\n      ...VideoMeeting\n    }\n    hostUrnData @recipeType(name: "com.linkedin.e984e34f93945ed185e28a7ca8c6f89a") {\n      hostUrn\n      type\n      _recipeType\n      _type\n    }\n    conversationAdsMessageContent @recipeType(name: "com.linkedin.cd88c1dbed4b27fce064f42a0dc68b83") {\n      ...ConversationAdsMessageContent\n    }\n    forwardedMessageContent @recipeType(name: "com.linkedin.d241d4c2afd64b8349aecb99d247045a") {\n      originalSender @recipeType(name: "com.linkedin.b576b99ebabe7b19d6a7c65dba01db86") {\n        ...Participant\n      }\n      originalSendAt\n      forwardedBody @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n        ...AttributedText\n      }\n      footerText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n    unavailableContent @recipeType(name: "com.linkedin.8b8fd1a57edd805e27e79a41c8ea3399") {\n      contentType\n      unavailableReason @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment ConversationCursorMetadata on messenger_ConversationCursorMetadata {\n  nextCursor\n  rawSearchId\n  trackingIds @recipeType(name: "com.linkedin.60b3f53535cc832f751f7b6c4900542f") {\n    hitEntityUrn\n    trackingId\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}',variablesTypes:{properties:{categories:{isRequired:!1,kind:"Array",type:"Array",innerType:{type:"String",isRequired:!0,kind:"Scalar"}},count:{type:"Int",isRequired:!1,kind:"Scalar"},firstDegreeConnections:{type:"Boolean",isRequired:!1,kind:"Scalar"},keywords:{type:"String",isRequired:!1,kind:"Scalar"},mailboxUrn:{type:"String",isRequired:!0,kind:"Scalar"},nextCursor:{type:"String",isRequired:!1,kind:"Scalar"},read:{type:"Boolean",isRequired:!1,kind:"Scalar"}},types:{}}}),Jo=Ko({kind:"query",id:"messengerConversations.1e80eb51a8b9953639aa4e35f302d2e8",typeName:"com.linkedin.47459727fe9dc4c6dd28af91d35c3bea",name:"get-conversation-by-id",source:'query messengerConversationsById($messengerConversationsId: String!, $count: Int!) @recipeType(name: "com.linkedin.47459727fe9dc4c6dd28af91d35c3bea") {\n  messengerConversationsById(messengerConversationsId: $messengerConversationsId) @recipeType(name: "com.linkedin.e24fb0136dc26353ab4f648e1902823f") {\n    ...Conversation\n    messages(count: $count, sortOrder: DESCENDING) @required @recipeType(name: "com.linkedin.21260d920db9d4ce4a3fb5b914ff484b") {\n      elements @allOrNothing @recipeType(name: "com.linkedin.c651c0905361fb348dda3baddd8def78") {\n        ...MessagePartialParticipant\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.cb0399b0cfb57151df335eba0c7a9beb") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.dcd6f20b165238cfac4ba2ff9bae619a") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.f39203ab15462f00cb5b7476b37bce3a") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.6a73b1fb7660a0f309f384f33d44d7d8") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.e9c1bd26ff54b4d1a9fc4c08cfcc8b62") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.c91f35ab4ac93fde74b875304a95183b") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.18d7a7f8bed44dd5e35ea80c2e979c4d") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.01699396fde3b5ddee6eee2c8e9c0a4c") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.14e9c56c121c5b8c0b50cce82e6fc7c5") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.615d3d1dfeac70c1d562defb1ef76239") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.5b496a0b1d1de8f86e61bc62819de9e4") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.1685f9c69f38dd22af99782629656269") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.11f0fe2ec9d279724079e6290abb0174") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.ddee62b7ab28b4e997ae9a296bddad48") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.fb6d591552493d3745fa77c0b9b04298") {\n      firstName @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n        ...AttributedText\n      }\n      lastName @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n        ...AttributedText\n      }\n      headline @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n        ...AttributedText\n      }\n      profilePicture @recipeType(name: "com.linkedin.c3916397cddd7d4516a85e51540553e4") {\n        ...VectorImage\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.2ccf3198425dfd5af50085e114a4a1d2") {\n      name @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n        ...AttributedText\n      }\n      tagline @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n        ...AttributedText\n      }\n      logo @recipeType(name: "com.linkedin.c3916397cddd7d4516a85e51540553e4") {\n        ...VectorImage\n      }\n      industryName @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n        ...AttributedText\n      }\n      following\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.3796598c7caa08b8b5f4c1dbbbd15c0c") {\n      name @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n        ...AttributedText\n      }\n      image @recipeType(name: "com.linkedin.c3916397cddd7d4516a85e51540553e4") {\n        ...VectorImage\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment CreativeAdsReportingInfo on messenger_CreativeAdsReportingInfo {\n  contentSource\n  sponsoredAccountUrn\n  sponsoredCreativeUrn\n  _recipeType\n  _type\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsContent on messenger_ConversationAdsContent {\n  adUnit @recipeType(name: "com.linkedin.c3916397cddd7d4516a85e51540553e4") {\n    ...VectorImage\n  }\n  advertiserLabel\n  advertiserLegalText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n  }\n  clickTrackingUrl\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.33513a00530f05e5410877de1ab3e8e1") {\n    ...CreativeAdsReportingInfo\n  }\n  linkedInLegalText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n  }\n  sponsoredConversationTrackingId\n  sponsoredTracking @recipeType(name: "com.linkedin.6307aa03e4da766e9192cfd7ce8353fa") {\n    ...SponsoredMetadata\n  }\n  _recipeType\n  _type\n}\n\nfragment Conversation on messenger_Conversation {\n  entityUrn\n  backendUrn\n  read\n  createdAt\n  lastActivityAt\n  lastReadAt\n  title\n  headlineText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n  }\n  shortHeadlineText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n  }\n  notificationStatus\n  categories\n  unreadCount\n  conversationUrl\n  hostConversationActions\n  conversationTypeText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n  }\n  state\n  groupChat\n  incompleteRetriableData\n  creator @recipeType(name: "com.linkedin.aab5818f3c6ab5e70b2bc52d67fe946e") {\n    ...Participant\n  }\n  disabledFeatures @recipeType(name: "com.linkedin.06d67602d00d78e95969ac52753eeb72") {\n    disabledFeature\n    reasonText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  contentMetadata {\n    conversationAdContent @recipeType(name: "com.linkedin.3c80f646550a626bf7eaecc033b459a8") {\n      ...ConversationAdsContent\n    }\n  }\n  conversationParticipants @recipeType(name: "com.linkedin.aab5818f3c6ab5e70b2bc52d67fe946e") {\n    ...Participant\n  }\n  _recipeType\n  _type\n}\n\nfragment ReactionSummary on messenger_ReactionSummary {\n  count\n  emoji\n  firstReactedAt\n  viewerReacted\n  _recipeType\n  _type\n}\n\nfragment MessageBaseWithoutConversation on messenger_Message {\n  entityUrn\n  backendConversationUrn\n  backendUrn\n  subject\n  body @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n  }\n  footer @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n  }\n  incompleteRetriableData\n  inlineWarning @recipeType(name: "com.linkedin.b9d617623216b909de7e48157cc90c6b") {\n    obfuscatedMessageWarning @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n      ...AttributedText\n    }\n    inlineWarningPrompt @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  originToken\n  deliveredAt\n  messageBodyRenderFormat\n  renderContentFallbackText\n  reactionSummaries @recipeType(name: "com.linkedin.c4cc5a6074539401c466484e0d446ed6") {\n    ...ReactionSummary\n  }\n  _recipeType\n  _type\n}\n\nfragment MessageBase on messenger_Message {\n  ...MessageBaseWithoutConversation\n  conversation @recipeType(name: "com.linkedin.e24fb0136dc26353ab4f648e1902823f") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment AudioMetadata on messenger_AudioMetadata {\n  duration\n  url\n  _recipeType\n  _type\n}\n\nfragment AwayMessage on messenger_AwayMessage {\n  footerText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n  }\n  text @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n  }\n  _recipeType\n  _type\n}\n\nfragment ExternalMedia on messenger_ExternalMedia {\n  entityUrn\n  title\n  media @recipeType(name: "com.linkedin.ac94868c85ec6dc5d93e9507f4e015c8") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  previewMedia @recipeType(name: "com.linkedin.ac94868c85ec6dc5d93e9507f4e015c8") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment FileAttachment on messenger_FileAttachment {\n  assetUrn\n  byteSize\n  mediaType\n  name\n  url\n  _recipeType\n  _type\n}\n\nfragment MessageAdRenderContent on messenger_MessageAdRenderContent {\n  advertiserLabel\n  bodyTracking\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.33513a00530f05e5410877de1ab3e8e1") {\n    contentSource\n    sponsoredAccountUrn\n    sponsoredCreativeUrn\n    _recipeType\n    _type\n  }\n  legalText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n  }\n  legalTextTracking\n  openTracking\n  sponsoredCampaignUrn\n  sponsoredTracking @recipeType(name: "com.linkedin.6307aa03e4da766e9192cfd7ce8353fa") {\n    ...SponsoredMetadata\n  }\n  status\n  subContent @recipeType(name: "com.linkedin.776464b9f5b21efa54a107762c20be41") {\n    action\n    actionText\n    actionTracking\n    callToActionLabel\n    leadGenFormOpenTracking\n    leadGenFormUrn\n    leadTrackingCode\n    leadTrackingParams\n    tscpUrl\n    adUnit @recipeType(name: "com.linkedin.50b2b86a1a9368d9dbd3cec835b33a2e") {\n      adUnit @recipeType(name: "com.linkedin.c3916397cddd7d4516a85e51540553e4") {\n        ...VectorImage\n      }\n      adUnitTracking\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoPlayMetadata on videocontent_VideoPlayMetadata {\n  entityUrn\n  adaptiveStreams @recipeType(name: "com.linkedin.2a922294194be0d4a083a08a7c0b13a7") {\n    initialBitRate\n    masterPlaylists @recipeType(name: "com.linkedin.2fb6e9538cf9a75f82ef540708047b66") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    mediaType\n    protocol\n    _recipeType\n    _type\n  }\n  aspectRatio\n  duration\n  liveStreamCreatedAt\n  liveStreamEndedAt\n  media\n  nextMedia\n  prevMedia\n  progressiveStreams @recipeType(name: "com.linkedin.eec8d2f072683bf2e6cac979f0f21027") {\n    bitRate\n    height\n    mediaType\n    mimeType\n    size\n    streamingLocations @recipeType(name: "com.linkedin.2fb6e9538cf9a75f82ef540708047b66") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    width\n    _recipeType\n    _type\n  }\n  provider\n  thumbnail @recipeType(name: "com.linkedin.c3916397cddd7d4516a85e51540553e4") {\n    ...VectorImage\n  }\n  trackingId\n  transcripts @recipeType(name: "com.linkedin.76ee4351004ccd6294ed2c4ae88812ca") {\n    captionFile\n    captionFormat\n    isAutogenerated\n    lines @recipeType(name: "com.linkedin.43cd992edd4c0486fcb43b5e8a601a03") {\n      caption\n      lineEndAt\n      lineStartAt\n      _recipeType\n      _type\n    }\n    locale @recipeType(name: "com.linkedin.d18fd8751eebb115ebdcaa1ce26b98b7") {\n      country\n      extensions @recipeType(name: "com.linkedin.450eb5bee544df534926f3d5cb165c44") {\n        t\n        u\n        x\n        _recipeType\n        _type\n      }\n      language\n      script\n      variant\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoMeeting on messenger_VideoMeeting {\n  videoMeeting @recipeType(name: "com.linkedin.2f7a949633d9dd0d22b7d4cac4f6eff9") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  earliestStartAt\n  expiresAt\n  timeRange @recipeType(name: "com.linkedin.264a252634ac15bafcee8ff3cc12d649") {\n    end\n    start\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsMessageContent on messenger_ConversationAdsMessageContent {\n  sponsoredMessageContentUrn\n  sponsoredMessageTrackingId\n  sponsoredMessageOptions @recipeType(name: "com.linkedin.b9fb5ddb75fc93b0bfcd2e4b06a8eaf2") {\n    clickAction {\n      externalWebsiteClickAction @recipeType(name: "com.linkedin.46dac2303162d415e48fa8016b034026") {\n        redirectUrl\n        _recipeType\n        _type\n      }\n      leadGenClickAction @recipeType(name: "com.linkedin.9c84646dea76aeadd3cb2a8ea3faf201") {\n        leadGenFormUrn\n        leadTrackingCode\n        leadTrackingParams\n        _recipeType\n        _type\n      }\n    }\n    optionText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n      ...AttributedText\n    }\n    tscpUrl\n    sponsoredMessageOption @recipeType(name: "com.linkedin.de9244bde84290263084b5073c529674") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment MessagePartialParticipant on messenger_Message {\n  ...MessageBase\n  sender @recipeType(name: "com.linkedin.aab5818f3c6ab5e70b2bc52d67fe946e") {\n    entityUrn\n    hostIdentityUrn\n    _recipeType\n    _type\n  }\n  renderContent {\n    audio @recipeType(name: "com.linkedin.c3faf46044ea3486f348246e8d30035a") {\n      ...AudioMetadata\n    }\n    awayMessage @recipeType(name: "com.linkedin.81272291d2752fda333844ba4e0bbf8a") {\n      ...AwayMessage\n    }\n    externalMedia @recipeType(name: "com.linkedin.2d681fcdb4624c3db9eadad5d63934a0") {\n      ...ExternalMedia\n    }\n    file @recipeType(name: "com.linkedin.b5517e23ad7b47cb72c0cf380906ade4") {\n      ...FileAttachment\n    }\n    messageAdRenderContent @recipeType(name: "com.linkedin.b2033e3b5e90ee3b391cf9536b93d3c6") {\n      ...MessageAdRenderContent\n    }\n    vectorImage @recipeType(name: "com.linkedin.c3916397cddd7d4516a85e51540553e4") {\n      ...VectorImage\n    }\n    video @recipeType(name: "com.linkedin.f6bd5263639264e7fd5b051ba08541fd") {\n      ...VideoPlayMetadata\n    }\n    videoMeeting @recipeType(name: "com.linkedin.533776559fb08d619af234005b26b343") {\n      ...VideoMeeting\n    }\n    hostUrnData @recipeType(name: "com.linkedin.1e9dc094fa5ab32d30eda58e41329430") {\n      hostUrn\n      type\n      _recipeType\n      _type\n    }\n    conversationAdsMessageContent @recipeType(name: "com.linkedin.7fef48f52b9439ce2f94bcc7d9c89538") {\n      ...ConversationAdsMessageContent\n    }\n    forwardedMessageContent @recipeType(name: "com.linkedin.2f094c70bdff85cf0c86412f359a710a") {\n      originalSender @recipeType(name: "com.linkedin.aab5818f3c6ab5e70b2bc52d67fe946e") {\n        ...Participant\n      }\n      originalSendAt\n      forwardedBody @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n        ...AttributedText\n      }\n      footerText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n    unavailableContent @recipeType(name: "com.linkedin.71d980342ddc8257fe3ac346c600ba81") {\n      contentType\n      unavailableReason @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}',variablesTypes:{properties:{messengerConversationsId:{type:"String",isRequired:!0,kind:"Scalar"},count:{type:"Int",isRequired:!0,kind:"Scalar"}},types:{}}}),Zo=Ko({kind:"query",id:"messengerMessages.f323042c2f26ef35b58f799a59bdbb3f",typeName:"com.linkedin.5ead02a2479291ebdce3f63ac66fbe93",name:"get-messages-by-conversation",source:'query messengerMessagesByConversation($conversationUrn: String!, $count: Int!, $nextCursor: String, $prevCursor: String) @recipeType(name: "com.linkedin.5ead02a2479291ebdce3f63ac66fbe93") {\n  messengerMessagesByConversation(\n    conversationUrn: $conversationUrn\n    count: $count\n    nextCursor: $nextCursor\n    prevCursor: $prevCursor\n  ) @recipeType(name: "com.linkedin.fae8765faf662cca102ede587d8e456d") {\n    elements @recipeType(name: "com.linkedin.a43c319dce4af407d65375b77123709c") {\n      ...MessageFullParticipant\n    }\n    metadata @recipeType(name: "com.linkedin.718bc5c98107bb05a6b017a76589a62b") {\n      nextCursor\n      prevCursor\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.92da8d6b385317069652fac33b0347b4") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.ffcdef84f5a777ed88fb4b45658a9e14") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.5b03af2277489fb7027a1150fd9575ff") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.303b9eb6e59a5450e0577d461cb48f40") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.575d0c1dd58a5ba293bab78a6a3ddbb1") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.230175b918f13003da6b4a753ce5a368") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.6db106eda0592bf5546c0e479e9f1654") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.d6e832aceb42049c6562501bc02e7be4") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.3986eb36516ea239d872dcfe4ad9ea0b") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.f91bd457d68eb9514d5c05b79c16a5a9") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.35023eb3e2f6f5f605cbd00edf448fcc") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.50c7f5d75aa51467c8da0e1a008a9624") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment ReactionSummary on messenger_ReactionSummary {\n  count\n  emoji\n  firstReactedAt\n  viewerReacted\n  _recipeType\n  _type\n}\n\nfragment MessageBaseWithoutConversation on messenger_Message {\n  entityUrn\n  backendConversationUrn\n  backendUrn\n  subject\n  body @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n    ...AttributedText\n  }\n  footer @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n    ...AttributedText\n  }\n  incompleteRetriableData\n  inlineWarning @recipeType(name: "com.linkedin.d4a62fceb0bfd38cde178e7adbff9d10") {\n    obfuscatedMessageWarning @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n      ...AttributedText\n    }\n    inlineWarningPrompt @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  originToken\n  deliveredAt\n  messageBodyRenderFormat\n  renderContentFallbackText\n  reactionSummaries @recipeType(name: "com.linkedin.1f1ebfba843743df30587498837a386f") {\n    ...ReactionSummary\n  }\n  _recipeType\n  _type\n}\n\nfragment MessageBase on messenger_Message {\n  ...MessageBaseWithoutConversation\n  conversation @recipeType(name: "com.linkedin.70b7922a3ce488ad14b508eb6aa52c2a") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.34c00ff1eb711be7d1cff3638d7a8a1b") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.dba12761bc6277862e052485d4d26c4a") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n  _recipeType\n  _type\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.5203d1a2bcc81b8a7119a52e40b9f6e9") {\n      firstName @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n        ...AttributedText\n      }\n      lastName @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n        ...AttributedText\n      }\n      headline @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n        ...AttributedText\n      }\n      profilePicture @recipeType(name: "com.linkedin.d230f4e5e9335e807da3d29675796d63") {\n        ...VectorImage\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.5f7040cfe52ee5a28e98a43fe8d34142") {\n      name @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n        ...AttributedText\n      }\n      tagline @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n        ...AttributedText\n      }\n      logo @recipeType(name: "com.linkedin.d230f4e5e9335e807da3d29675796d63") {\n        ...VectorImage\n      }\n      industryName @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n        ...AttributedText\n      }\n      following\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.e37d7fc189f22baa912a8939be2e3f6a") {\n      name @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n        ...AttributedText\n      }\n      image @recipeType(name: "com.linkedin.d230f4e5e9335e807da3d29675796d63") {\n        ...VectorImage\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment AudioMetadata on messenger_AudioMetadata {\n  duration\n  url\n  _recipeType\n  _type\n}\n\nfragment AwayMessage on messenger_AwayMessage {\n  footerText @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n    ...AttributedText\n  }\n  text @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n    ...AttributedText\n  }\n  _recipeType\n  _type\n}\n\nfragment ExternalMedia on messenger_ExternalMedia {\n  entityUrn\n  title\n  media @recipeType(name: "com.linkedin.6f4a28f99bc2508097b38f69f639e5f1") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  previewMedia @recipeType(name: "com.linkedin.6f4a28f99bc2508097b38f69f639e5f1") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment FileAttachment on messenger_FileAttachment {\n  assetUrn\n  byteSize\n  mediaType\n  name\n  url\n  _recipeType\n  _type\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n  _recipeType\n  _type\n}\n\nfragment MessageAdRenderContent on messenger_MessageAdRenderContent {\n  advertiserLabel\n  bodyTracking\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.e3b1d59ecc45f4592691c275d8e57eb2") {\n    contentSource\n    sponsoredAccountUrn\n    sponsoredCreativeUrn\n    _recipeType\n    _type\n  }\n  legalText @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n    ...AttributedText\n  }\n  legalTextTracking\n  openTracking\n  sponsoredCampaignUrn\n  sponsoredTracking @recipeType(name: "com.linkedin.49d0b65974a4e8d9a78e80c3964e478b") {\n    ...SponsoredMetadata\n  }\n  status\n  subContent @recipeType(name: "com.linkedin.13eda39e4476fc2ff349f6d99207c536") {\n    action\n    actionText\n    actionTracking\n    callToActionLabel\n    leadGenFormOpenTracking\n    leadGenFormUrn\n    leadTrackingCode\n    leadTrackingParams\n    tscpUrl\n    adUnit @recipeType(name: "com.linkedin.22a92192c99c325348cd20f44405a46f") {\n      adUnit @recipeType(name: "com.linkedin.d230f4e5e9335e807da3d29675796d63") {\n        ...VectorImage\n      }\n      adUnitTracking\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoPlayMetadata on videocontent_VideoPlayMetadata {\n  entityUrn\n  adaptiveStreams @recipeType(name: "com.linkedin.3a13e0e679d90c09669de8d182c25e42") {\n    initialBitRate\n    masterPlaylists @recipeType(name: "com.linkedin.456e02a149d79bd7a6b9ddaa10c87685") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    mediaType\n    protocol\n    _recipeType\n    _type\n  }\n  aspectRatio\n  duration\n  liveStreamCreatedAt\n  liveStreamEndedAt\n  media\n  nextMedia\n  prevMedia\n  progressiveStreams @recipeType(name: "com.linkedin.5e0a5f02346ad067f242429d64c3965f") {\n    bitRate\n    height\n    mediaType\n    mimeType\n    size\n    streamingLocations @recipeType(name: "com.linkedin.456e02a149d79bd7a6b9ddaa10c87685") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    width\n    _recipeType\n    _type\n  }\n  provider\n  thumbnail @recipeType(name: "com.linkedin.d230f4e5e9335e807da3d29675796d63") {\n    ...VectorImage\n  }\n  trackingId\n  transcripts @recipeType(name: "com.linkedin.33b07249a4668d2be9c5bc5f3aa1b1dd") {\n    captionFile\n    captionFormat\n    isAutogenerated\n    lines @recipeType(name: "com.linkedin.a9d5ed7dc3be35ed1f1849acb00a00c2") {\n      caption\n      lineEndAt\n      lineStartAt\n      _recipeType\n      _type\n    }\n    locale @recipeType(name: "com.linkedin.b0f1a50a37f641bc5e84959cd542588d") {\n      country\n      extensions @recipeType(name: "com.linkedin.614f84808734f4a3019637f511bfdaf1") {\n        t\n        u\n        x\n        _recipeType\n        _type\n      }\n      language\n      script\n      variant\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoMeeting on messenger_VideoMeeting {\n  videoMeeting @recipeType(name: "com.linkedin.4356ab368a2fc500442ef43619913ad5") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  earliestStartAt\n  expiresAt\n  timeRange @recipeType(name: "com.linkedin.95f7dff8470f1c4d01c93606259d3a3e") {\n    end\n    start\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsMessageContent on messenger_ConversationAdsMessageContent {\n  sponsoredMessageContentUrn\n  sponsoredMessageTrackingId\n  sponsoredMessageOptions @recipeType(name: "com.linkedin.48411f74c5d9fcc7309459278674a7c4") {\n    clickAction {\n      externalWebsiteClickAction @recipeType(name: "com.linkedin.06be6a4a9fb1d03a5bb534cdfc0fb023") {\n        redirectUrl\n        _recipeType\n        _type\n      }\n      leadGenClickAction @recipeType(name: "com.linkedin.075269c5962458383d2fd90c6386bfa2") {\n        leadGenFormUrn\n        leadTrackingCode\n        leadTrackingParams\n        _recipeType\n        _type\n      }\n    }\n    optionText @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n      ...AttributedText\n    }\n    tscpUrl\n    sponsoredMessageOption @recipeType(name: "com.linkedin.88b0b93577342865bd6ed68e405c5dbf") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment MessageFullParticipant on messenger_Message {\n  ...MessageBase\n  sender @recipeType(name: "com.linkedin.c864ba3445a21261e2b3df0b57b1fe18") {\n    ...Participant\n  }\n  renderContent {\n    audio @recipeType(name: "com.linkedin.570c8456a814d58227df110f692ca235") {\n      ...AudioMetadata\n    }\n    awayMessage @recipeType(name: "com.linkedin.74e737536ff745b60c7e7712ebf7653a") {\n      ...AwayMessage\n    }\n    externalMedia @recipeType(name: "com.linkedin.bf59c1e69c9fbc8bb621bd0360e3b108") {\n      ...ExternalMedia\n    }\n    file @recipeType(name: "com.linkedin.e5b22526f909056ce375d43240cb1c4a") {\n      ...FileAttachment\n    }\n    messageAdRenderContent @recipeType(name: "com.linkedin.6208ae69c8a9065c05d29a7da7a66247") {\n      ...MessageAdRenderContent\n    }\n    vectorImage @recipeType(name: "com.linkedin.d230f4e5e9335e807da3d29675796d63") {\n      ...VectorImage\n    }\n    video @recipeType(name: "com.linkedin.aa1bb399179f7f666b5918724dcfeab6") {\n      ...VideoPlayMetadata\n    }\n    videoMeeting @recipeType(name: "com.linkedin.26eb3e25741fe5a252a7a40fb679a26b") {\n      ...VideoMeeting\n    }\n    hostUrnData @recipeType(name: "com.linkedin.d6f9d3d15b9ce005d3332a70d65e87a4") {\n      hostUrn\n      type\n      _recipeType\n      _type\n    }\n    conversationAdsMessageContent @recipeType(name: "com.linkedin.f2b815c7a52091b01033e7da4c710f6d") {\n      ...ConversationAdsMessageContent\n    }\n    forwardedMessageContent @recipeType(name: "com.linkedin.d3eef7c9b92c2d6c582e06ddd4b101ab") {\n      originalSender @recipeType(name: "com.linkedin.c864ba3445a21261e2b3df0b57b1fe18") {\n        ...Participant\n      }\n      originalSendAt\n      forwardedBody @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n        ...AttributedText\n      }\n      footerText @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n    unavailableContent @recipeType(name: "com.linkedin.0c8cfc67f81001a4b0f982f83093fd3b") {\n      contentType\n      unavailableReason @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}',variablesTypes:{properties:{conversationUrn:{type:"String",isRequired:!0,kind:"Scalar"},count:{type:"Int",isRequired:!0,kind:"Scalar"},nextCursor:{type:"String",isRequired:!1,kind:"Scalar"},prevCursor:{type:"String",isRequired:!1,kind:"Scalar"}},types:{}}}),es=Ko({kind:"query",id:"messengerMessages.7ad56d628983ec50aaaad5c62f78bb26",typeName:"com.linkedin.f06a0d9d67201ccfd952b77289ff240e",name:"get-messages-by-timestamp",source:'query messengerMessagesByAnchorTimestamp($conversationUrn: String!, $deliveredAt: Long!, $countBefore: Int!, $countAfter: Int!) @recipeType(name: "com.linkedin.f06a0d9d67201ccfd952b77289ff240e") {\n  messengerMessagesByAnchorTimestamp(\n    conversationUrn: $conversationUrn\n    deliveredAt: $deliveredAt\n    countAfter: $countAfter\n    countBefore: $countBefore\n  ) @recipeType(name: "com.linkedin.f904502daab23faa50d8f386e7995b56") {\n    elements @recipeType(name: "com.linkedin.231285ee6af57dbbe6266161b7c6a150") {\n      ...MessageFullParticipant\n    }\n    metadata @recipeType(name: "com.linkedin.a2e0a7f4f881a95411a11b1746169343") {\n      nextCursor\n      prevCursor\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.be0e5acdecfe12dada0041f3d644cfa4") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.e545ef8a692fdb8327d2709264ebfd4c") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.cc4b819dfb194cebcca16bf20054c11f") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.ba4b30a74c5b7b374eff33e2ca40edbc") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.bb8b9f6bc8796ae251eca1334b3f092a") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.25d10cc18d63b33341d582fe22a4f5c9") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.d95b97c1b252a9dced9f0bd928cbb47c") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.9c282b4fb14f174ee0396ed27d7bc71d") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.61a744d51d12ffd69112108194fc687f") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.46db4b237275c1e711a115c0dcd987e5") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.4648a3db4eb9ec4da772a185f25f8175") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.5752fc5f1b14322b0051b8f0d8b0085d") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment ReactionSummary on messenger_ReactionSummary {\n  count\n  emoji\n  firstReactedAt\n  viewerReacted\n  _recipeType\n  _type\n}\n\nfragment MessageBaseWithoutConversation on messenger_Message {\n  entityUrn\n  backendConversationUrn\n  backendUrn\n  subject\n  body @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n    ...AttributedText\n  }\n  footer @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n    ...AttributedText\n  }\n  incompleteRetriableData\n  inlineWarning @recipeType(name: "com.linkedin.df2207b7cb43b31871f4f29c25a7bbc7") {\n    obfuscatedMessageWarning @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n      ...AttributedText\n    }\n    inlineWarningPrompt @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  originToken\n  deliveredAt\n  messageBodyRenderFormat\n  renderContentFallbackText\n  reactionSummaries @recipeType(name: "com.linkedin.d1285d9066b9c85c30f04b3704b6d0fa") {\n    ...ReactionSummary\n  }\n  _recipeType\n  _type\n}\n\nfragment MessageBase on messenger_Message {\n  ...MessageBaseWithoutConversation\n  conversation @recipeType(name: "com.linkedin.f361d0d7a48d349833f078e3e38d18b6") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.ea116566e3091e00c76f1ca2aa202d09") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.877f5193c30eeb2edcc55a86e3ab3b92") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n  _recipeType\n  _type\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.108a437e3ab0dd42a62fc3d18a5b049a") {\n      firstName @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n        ...AttributedText\n      }\n      lastName @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n        ...AttributedText\n      }\n      headline @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n        ...AttributedText\n      }\n      profilePicture @recipeType(name: "com.linkedin.7fb4f25aa4c3ab41c6bba613782b9d34") {\n        ...VectorImage\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.07953e7472a7ac99ea930ee110846b07") {\n      name @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n        ...AttributedText\n      }\n      tagline @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n        ...AttributedText\n      }\n      logo @recipeType(name: "com.linkedin.7fb4f25aa4c3ab41c6bba613782b9d34") {\n        ...VectorImage\n      }\n      industryName @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n        ...AttributedText\n      }\n      following\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.36e35a3dd73fdcc7da4179fa0753362f") {\n      name @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n        ...AttributedText\n      }\n      image @recipeType(name: "com.linkedin.7fb4f25aa4c3ab41c6bba613782b9d34") {\n        ...VectorImage\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment AudioMetadata on messenger_AudioMetadata {\n  duration\n  url\n  _recipeType\n  _type\n}\n\nfragment AwayMessage on messenger_AwayMessage {\n  footerText @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n    ...AttributedText\n  }\n  text @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n    ...AttributedText\n  }\n  _recipeType\n  _type\n}\n\nfragment ExternalMedia on messenger_ExternalMedia {\n  entityUrn\n  title\n  media @recipeType(name: "com.linkedin.ac42a972ef433129aa59887db3ca001f") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  previewMedia @recipeType(name: "com.linkedin.ac42a972ef433129aa59887db3ca001f") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment FileAttachment on messenger_FileAttachment {\n  assetUrn\n  byteSize\n  mediaType\n  name\n  url\n  _recipeType\n  _type\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n  _recipeType\n  _type\n}\n\nfragment MessageAdRenderContent on messenger_MessageAdRenderContent {\n  advertiserLabel\n  bodyTracking\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.d5730cbdb9cc811036bf0600594dc0af") {\n    contentSource\n    sponsoredAccountUrn\n    sponsoredCreativeUrn\n    _recipeType\n    _type\n  }\n  legalText @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n    ...AttributedText\n  }\n  legalTextTracking\n  openTracking\n  sponsoredCampaignUrn\n  sponsoredTracking @recipeType(name: "com.linkedin.6e0874affec37686fc1ffe18acb84427") {\n    ...SponsoredMetadata\n  }\n  status\n  subContent @recipeType(name: "com.linkedin.69f9292c0fe9f61cb473ab22f2993252") {\n    action\n    actionText\n    actionTracking\n    callToActionLabel\n    leadGenFormOpenTracking\n    leadGenFormUrn\n    leadTrackingCode\n    leadTrackingParams\n    tscpUrl\n    adUnit @recipeType(name: "com.linkedin.fe87cc8ab204f9214b9a188fe3e198fe") {\n      adUnit @recipeType(name: "com.linkedin.7fb4f25aa4c3ab41c6bba613782b9d34") {\n        ...VectorImage\n      }\n      adUnitTracking\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoPlayMetadata on videocontent_VideoPlayMetadata {\n  entityUrn\n  adaptiveStreams @recipeType(name: "com.linkedin.fb5ab118dcb596bde9317540efa3e622") {\n    initialBitRate\n    masterPlaylists @recipeType(name: "com.linkedin.3837d7d46962c583a8a33e3356713ac7") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    mediaType\n    protocol\n    _recipeType\n    _type\n  }\n  aspectRatio\n  duration\n  liveStreamCreatedAt\n  liveStreamEndedAt\n  media\n  nextMedia\n  prevMedia\n  progressiveStreams @recipeType(name: "com.linkedin.ddbefd99ac6092b48411efd2914527aa") {\n    bitRate\n    height\n    mediaType\n    mimeType\n    size\n    streamingLocations @recipeType(name: "com.linkedin.3837d7d46962c583a8a33e3356713ac7") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    width\n    _recipeType\n    _type\n  }\n  provider\n  thumbnail @recipeType(name: "com.linkedin.7fb4f25aa4c3ab41c6bba613782b9d34") {\n    ...VectorImage\n  }\n  trackingId\n  transcripts @recipeType(name: "com.linkedin.26f2d3c87b875eec7ec44ded1e473e67") {\n    captionFile\n    captionFormat\n    isAutogenerated\n    lines @recipeType(name: "com.linkedin.fc0da931c5a176942fd54e907f1582ae") {\n      caption\n      lineEndAt\n      lineStartAt\n      _recipeType\n      _type\n    }\n    locale @recipeType(name: "com.linkedin.9ec094e3def07911b4380a62c6d5abd5") {\n      country\n      extensions @recipeType(name: "com.linkedin.ca1e5e5c555d14ddcc7f52ba3f181dea") {\n        t\n        u\n        x\n        _recipeType\n        _type\n      }\n      language\n      script\n      variant\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoMeeting on messenger_VideoMeeting {\n  videoMeeting @recipeType(name: "com.linkedin.c7a42a56695951aafaa6d0705af4fcfb") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  earliestStartAt\n  expiresAt\n  timeRange @recipeType(name: "com.linkedin.5bb6c184f84002e76d9322702d47ae51") {\n    end\n    start\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsMessageContent on messenger_ConversationAdsMessageContent {\n  sponsoredMessageContentUrn\n  sponsoredMessageTrackingId\n  sponsoredMessageOptions @recipeType(name: "com.linkedin.157ed49fda9e090b1ea1e629897a7005") {\n    clickAction {\n      externalWebsiteClickAction @recipeType(name: "com.linkedin.9ef5cae49bcbd97d39774fc27a998d63") {\n        redirectUrl\n        _recipeType\n        _type\n      }\n      leadGenClickAction @recipeType(name: "com.linkedin.4757bf27c029dc4b9e9b890dae934909") {\n        leadGenFormUrn\n        leadTrackingCode\n        leadTrackingParams\n        _recipeType\n        _type\n      }\n    }\n    optionText @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n      ...AttributedText\n    }\n    tscpUrl\n    sponsoredMessageOption @recipeType(name: "com.linkedin.c2d4c83a959dcb4b759f9037b54a0388") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment MessageFullParticipant on messenger_Message {\n  ...MessageBase\n  sender @recipeType(name: "com.linkedin.587bcc596204b389c9305679283b14f7") {\n    ...Participant\n  }\n  renderContent {\n    audio @recipeType(name: "com.linkedin.9d014ff494a179168acc7dbdcaac714d") {\n      ...AudioMetadata\n    }\n    awayMessage @recipeType(name: "com.linkedin.87c9a9cd416518b3ae3ec7fa913beda9") {\n      ...AwayMessage\n    }\n    externalMedia @recipeType(name: "com.linkedin.ab643b2a910f8d01515e3de05ea3ed58") {\n      ...ExternalMedia\n    }\n    file @recipeType(name: "com.linkedin.7aa5683921913aade8fa5c4519baa702") {\n      ...FileAttachment\n    }\n    messageAdRenderContent @recipeType(name: "com.linkedin.fe6a30e3187263cbe5e35ddaefad8057") {\n      ...MessageAdRenderContent\n    }\n    vectorImage @recipeType(name: "com.linkedin.7fb4f25aa4c3ab41c6bba613782b9d34") {\n      ...VectorImage\n    }\n    video @recipeType(name: "com.linkedin.7925b565d0d566800b8922aea3867f4a") {\n      ...VideoPlayMetadata\n    }\n    videoMeeting @recipeType(name: "com.linkedin.60105a4be7268dcb47c025ca8d8a2ed7") {\n      ...VideoMeeting\n    }\n    hostUrnData @recipeType(name: "com.linkedin.b0d4ad02fc936b49872f65040e8bc08d") {\n      hostUrn\n      type\n      _recipeType\n      _type\n    }\n    conversationAdsMessageContent @recipeType(name: "com.linkedin.639ce822a6f22d98acc6ad69cac31ba7") {\n      ...ConversationAdsMessageContent\n    }\n    forwardedMessageContent @recipeType(name: "com.linkedin.9b5797921a5dfc2f612edaaeaca81f76") {\n      originalSender @recipeType(name: "com.linkedin.587bcc596204b389c9305679283b14f7") {\n        ...Participant\n      }\n      originalSendAt\n      forwardedBody @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n        ...AttributedText\n      }\n      footerText @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n    unavailableContent @recipeType(name: "com.linkedin.293e14ac29718d79e1c6e417d8f78cb2") {\n      contentType\n      unavailableReason @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}',variablesTypes:{properties:{conversationUrn:{type:"String",isRequired:!0,kind:"Scalar"},deliveredAt:{type:"Long",isRequired:!0,kind:"Scalar"},countBefore:{type:"Int",isRequired:!0,kind:"Scalar"},countAfter:{type:"Int",isRequired:!0,kind:"Scalar"}},types:{}}}),ts=Ko({kind:"query",id:"messengerConversations.59fb5921b805987618eb19b426375d1d",typeName:"com.linkedin.2a7f21c8d98d18e3a6c802f0dd8d222d",name:"get-conversations-by-ids",source:'query getConversationsByIds($conversationIds: [String!]!) @recipeType(name: "com.linkedin.2a7f21c8d98d18e3a6c802f0dd8d222d") {\n  messengerConversationsByIds(messengerConversationsIds: $conversationIds) @recipeType(name: "com.linkedin.ea0ca8ae0158145afa86564919192206") {\n    ...Conversation\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.a5c2366e94678fa4e07fb9d0071575b4") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.e2c105c22c33e11df69a87b97fe9e6c9") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.39b36fe069d9848219c9cc8da60cf830") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.cd08a6957071c175673f38f8940c9900") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.032ed558567b54b1e4b608f3efbbf6da") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.963451af762cd092f1fd92fb99464320") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.a3bd3f5867b1277cb58b73e20ddbae88") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.1fd95451f0a7fb0e33f983671ba1418a") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.c8734b47faca5bddba8a78b7760aaadd") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.22650e98f182951259aa94c93545a09a") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.031579b3719a1e2effe3cacb8f5fce81") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.f7c85a4de7cde9c8bf03f5130b170fa2") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.7dbe4cb9011f7a05f44b7bb7b7698ba8") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.3d51fe0e0f8aecebb80748069fc288ab") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.f1e3d6ded8aa9a59e30c6c0255837530") {\n      firstName @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n        ...AttributedText\n      }\n      lastName @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n        ...AttributedText\n      }\n      headline @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n        ...AttributedText\n      }\n      profilePicture @recipeType(name: "com.linkedin.d1856ac08224ed7648057a35f7eba906") {\n        ...VectorImage\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.1af67415b1fcedf1c55abbf24ce37c94") {\n      name @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n        ...AttributedText\n      }\n      tagline @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n        ...AttributedText\n      }\n      logo @recipeType(name: "com.linkedin.d1856ac08224ed7648057a35f7eba906") {\n        ...VectorImage\n      }\n      industryName @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n        ...AttributedText\n      }\n      following\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.e03936aaee4f7145b8623f8b0882ee06") {\n      name @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n        ...AttributedText\n      }\n      image @recipeType(name: "com.linkedin.d1856ac08224ed7648057a35f7eba906") {\n        ...VectorImage\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment CreativeAdsReportingInfo on messenger_CreativeAdsReportingInfo {\n  contentSource\n  sponsoredAccountUrn\n  sponsoredCreativeUrn\n  _recipeType\n  _type\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsContent on messenger_ConversationAdsContent {\n  adUnit @recipeType(name: "com.linkedin.d1856ac08224ed7648057a35f7eba906") {\n    ...VectorImage\n  }\n  advertiserLabel\n  advertiserLegalText @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n    ...AttributedText\n  }\n  clickTrackingUrl\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.6c239bf7949c35b1ca0559ccbb29215c") {\n    ...CreativeAdsReportingInfo\n  }\n  linkedInLegalText @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n    ...AttributedText\n  }\n  sponsoredConversationTrackingId\n  sponsoredTracking @recipeType(name: "com.linkedin.65fe1b0695991a83fe42e5c54b26a7e6") {\n    ...SponsoredMetadata\n  }\n  _recipeType\n  _type\n}\n\nfragment Conversation on messenger_Conversation {\n  entityUrn\n  backendUrn\n  read\n  createdAt\n  lastActivityAt\n  lastReadAt\n  title\n  headlineText @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n    ...AttributedText\n  }\n  shortHeadlineText @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n    ...AttributedText\n  }\n  notificationStatus\n  categories\n  unreadCount\n  conversationUrl\n  hostConversationActions\n  conversationTypeText @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n    ...AttributedText\n  }\n  state\n  groupChat\n  incompleteRetriableData\n  creator @recipeType(name: "com.linkedin.e48ff5b94807782a785860f6062bfaab") {\n    ...Participant\n  }\n  disabledFeatures @recipeType(name: "com.linkedin.25a5e21bab98c96b35b8397913f07722") {\n    disabledFeature\n    reasonText @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  contentMetadata {\n    conversationAdContent @recipeType(name: "com.linkedin.0c5a19f04be34234ac632fdfb2397ef9") {\n      ...ConversationAdsContent\n    }\n  }\n  conversationParticipants @recipeType(name: "com.linkedin.e48ff5b94807782a785860f6062bfaab") {\n    ...Participant\n  }\n  _recipeType\n  _type\n}',variablesTypes:{properties:{conversationIds:{isRequired:!0,kind:"Array",type:"Array",innerType:{type:"String",isRequired:!0,kind:"Scalar"}}},types:{}}}),ns=Ko({kind:"query",id:"messengerMessages.7a5058893d8094e5d3924e7df23daad5",typeName:"com.linkedin.9103982cbb84a6713a12118e18d0aede",name:"get-messages",source:'query GetMessages($messengerMessagesIds: [String!]!) @recipeType(name: "com.linkedin.9103982cbb84a6713a12118e18d0aede") {\n  messengerMessagesByIds(messengerMessagesIds: $messengerMessagesIds) @recipeType(name: "com.linkedin.24fec6c115dc2376d7f1259d2d4e9b60") {\n    ...MessageFullParticipant\n  }\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.b88991ca28b25d8fbe90d418eba9110d") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.abdfbe52a4031b28166c3434611b3908") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.c27915a130c0fd1b1a5a8d92384a424d") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.dbd9eeaf4309b1d845a453711f6f3385") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.43a1351caefb875a9b4f2111718268d6") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.bdb371497789d407130716b1aa498e45") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.79f78613aee3c8bf5f147311cc98f57b") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.c4bbc598411f10bea1cc94b708c34532") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.7544a42045552f65c45bb5e461f752b2") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.fd67fdf5c1fd1f257e7bab4322e0474e") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.a85837fd52ced308ca0434207f87e7b6") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.787332bee7aa54108b8d9bd35398d6b4") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment ReactionSummary on messenger_ReactionSummary {\n  count\n  emoji\n  firstReactedAt\n  viewerReacted\n  _recipeType\n  _type\n}\n\nfragment MessageBaseWithoutConversation on messenger_Message {\n  entityUrn\n  backendConversationUrn\n  backendUrn\n  subject\n  body @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n    ...AttributedText\n  }\n  footer @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n    ...AttributedText\n  }\n  incompleteRetriableData\n  inlineWarning @recipeType(name: "com.linkedin.744649eff5248732b730f40038f2af5b") {\n    obfuscatedMessageWarning @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n      ...AttributedText\n    }\n    inlineWarningPrompt @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  originToken\n  deliveredAt\n  messageBodyRenderFormat\n  renderContentFallbackText\n  reactionSummaries @recipeType(name: "com.linkedin.a279bbdaace9f55cc8c3c3d181e06e3c") {\n    ...ReactionSummary\n  }\n  _recipeType\n  _type\n}\n\nfragment MessageBase on messenger_Message {\n  ...MessageBaseWithoutConversation\n  conversation @recipeType(name: "com.linkedin.f91b7b7db4b46407d8d459f62827ef8b") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.9b7062a00c73f1c760a9bf281197eb1d") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.d697276641563f1c03e6516f96e4bab7") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n  _recipeType\n  _type\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.cbeee87e5a8212d1b1d407b54643db8e") {\n      firstName @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n        ...AttributedText\n      }\n      lastName @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n        ...AttributedText\n      }\n      headline @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n        ...AttributedText\n      }\n      profilePicture @recipeType(name: "com.linkedin.30c6fff7ec68b00e4382a144677963cd") {\n        ...VectorImage\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.7ca82510df09ed627e68dbd920b650db") {\n      name @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n        ...AttributedText\n      }\n      tagline @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n        ...AttributedText\n      }\n      logo @recipeType(name: "com.linkedin.30c6fff7ec68b00e4382a144677963cd") {\n        ...VectorImage\n      }\n      industryName @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n        ...AttributedText\n      }\n      following\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.c5394f561e6e8c892529190b9b9352b3") {\n      name @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n        ...AttributedText\n      }\n      image @recipeType(name: "com.linkedin.30c6fff7ec68b00e4382a144677963cd") {\n        ...VectorImage\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment AudioMetadata on messenger_AudioMetadata {\n  duration\n  url\n  _recipeType\n  _type\n}\n\nfragment AwayMessage on messenger_AwayMessage {\n  footerText @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n    ...AttributedText\n  }\n  text @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n    ...AttributedText\n  }\n  _recipeType\n  _type\n}\n\nfragment ExternalMedia on messenger_ExternalMedia {\n  entityUrn\n  title\n  media @recipeType(name: "com.linkedin.7c0808c980cdf5aa49825105ce942786") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  previewMedia @recipeType(name: "com.linkedin.7c0808c980cdf5aa49825105ce942786") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment FileAttachment on messenger_FileAttachment {\n  assetUrn\n  byteSize\n  mediaType\n  name\n  url\n  _recipeType\n  _type\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n  _recipeType\n  _type\n}\n\nfragment MessageAdRenderContent on messenger_MessageAdRenderContent {\n  advertiserLabel\n  bodyTracking\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.39f3cb692930844ac0e47f433443e3b9") {\n    contentSource\n    sponsoredAccountUrn\n    sponsoredCreativeUrn\n    _recipeType\n    _type\n  }\n  legalText @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n    ...AttributedText\n  }\n  legalTextTracking\n  openTracking\n  sponsoredCampaignUrn\n  sponsoredTracking @recipeType(name: "com.linkedin.1f95d7e097ee45caf1e35991a4f7afcc") {\n    ...SponsoredMetadata\n  }\n  status\n  subContent @recipeType(name: "com.linkedin.0488301023ad3caf5355df0255a1bd97") {\n    action\n    actionText\n    actionTracking\n    callToActionLabel\n    leadGenFormOpenTracking\n    leadGenFormUrn\n    leadTrackingCode\n    leadTrackingParams\n    tscpUrl\n    adUnit @recipeType(name: "com.linkedin.0506d10e5658bb2c9388e384ce60b919") {\n      adUnit @recipeType(name: "com.linkedin.30c6fff7ec68b00e4382a144677963cd") {\n        ...VectorImage\n      }\n      adUnitTracking\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoPlayMetadata on videocontent_VideoPlayMetadata {\n  entityUrn\n  adaptiveStreams @recipeType(name: "com.linkedin.d90cf7e1b549baf88350c022e227e78b") {\n    initialBitRate\n    masterPlaylists @recipeType(name: "com.linkedin.8bdd2a56e7ec43bae4be1faa18100b86") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    mediaType\n    protocol\n    _recipeType\n    _type\n  }\n  aspectRatio\n  duration\n  liveStreamCreatedAt\n  liveStreamEndedAt\n  media\n  nextMedia\n  prevMedia\n  progressiveStreams @recipeType(name: "com.linkedin.398fe6f97c6a92438a4f23e308563ac4") {\n    bitRate\n    height\n    mediaType\n    mimeType\n    size\n    streamingLocations @recipeType(name: "com.linkedin.8bdd2a56e7ec43bae4be1faa18100b86") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    width\n    _recipeType\n    _type\n  }\n  provider\n  thumbnail @recipeType(name: "com.linkedin.30c6fff7ec68b00e4382a144677963cd") {\n    ...VectorImage\n  }\n  trackingId\n  transcripts @recipeType(name: "com.linkedin.9d76c81800a32e544faa1578ddf0dae6") {\n    captionFile\n    captionFormat\n    isAutogenerated\n    lines @recipeType(name: "com.linkedin.475a60b6fe4475d404f1d4ab806fcf86") {\n      caption\n      lineEndAt\n      lineStartAt\n      _recipeType\n      _type\n    }\n    locale @recipeType(name: "com.linkedin.59ccc09dbc88e01813b5ca5bfd2ffb99") {\n      country\n      extensions @recipeType(name: "com.linkedin.765d1e65732f271210f3041ade1e6789") {\n        t\n        u\n        x\n        _recipeType\n        _type\n      }\n      language\n      script\n      variant\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoMeeting on messenger_VideoMeeting {\n  videoMeeting @recipeType(name: "com.linkedin.415f65893da8debc307a87dc1e562d36") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  earliestStartAt\n  expiresAt\n  timeRange @recipeType(name: "com.linkedin.9b085a5c610dc8c5605e02873030a3b2") {\n    end\n    start\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsMessageContent on messenger_ConversationAdsMessageContent {\n  sponsoredMessageContentUrn\n  sponsoredMessageTrackingId\n  sponsoredMessageOptions @recipeType(name: "com.linkedin.171eef35654376c9f06fdeb0de45dbbc") {\n    clickAction {\n      externalWebsiteClickAction @recipeType(name: "com.linkedin.39a8f11753f13d4584ba989adde49128") {\n        redirectUrl\n        _recipeType\n        _type\n      }\n      leadGenClickAction @recipeType(name: "com.linkedin.4e70e26d7717a5f13a06c156164b0280") {\n        leadGenFormUrn\n        leadTrackingCode\n        leadTrackingParams\n        _recipeType\n        _type\n      }\n    }\n    optionText @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n      ...AttributedText\n    }\n    tscpUrl\n    sponsoredMessageOption @recipeType(name: "com.linkedin.bfc154492e22aeeeac8169c16b4ae4c9") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment MessageFullParticipant on messenger_Message {\n  ...MessageBase\n  sender @recipeType(name: "com.linkedin.79dea4c365f8b2c222886b8705c5d08a") {\n    ...Participant\n  }\n  renderContent {\n    audio @recipeType(name: "com.linkedin.ecd702b2d7096486eb6d6512b6219524") {\n      ...AudioMetadata\n    }\n    awayMessage @recipeType(name: "com.linkedin.5c6b808b751c4fecbec5418d01bc1836") {\n      ...AwayMessage\n    }\n    externalMedia @recipeType(name: "com.linkedin.b5a34ef6ddbc301bd3619d0dc8019d42") {\n      ...ExternalMedia\n    }\n    file @recipeType(name: "com.linkedin.7898ed5c6812f922a32cd971545f41b3") {\n      ...FileAttachment\n    }\n    messageAdRenderContent @recipeType(name: "com.linkedin.fdbcbc95fce14de761dd569daef9593d") {\n      ...MessageAdRenderContent\n    }\n    vectorImage @recipeType(name: "com.linkedin.30c6fff7ec68b00e4382a144677963cd") {\n      ...VectorImage\n    }\n    video @recipeType(name: "com.linkedin.314857d258eb29b44fe3ae757a702270") {\n      ...VideoPlayMetadata\n    }\n    videoMeeting @recipeType(name: "com.linkedin.60e803f8de4e001688e546440584a773") {\n      ...VideoMeeting\n    }\n    hostUrnData @recipeType(name: "com.linkedin.276601c4dfe3e30f3f3c951390af969a") {\n      hostUrn\n      type\n      _recipeType\n      _type\n    }\n    conversationAdsMessageContent @recipeType(name: "com.linkedin.008c4c2e62e7622dc434acf77268f21f") {\n      ...ConversationAdsMessageContent\n    }\n    forwardedMessageContent @recipeType(name: "com.linkedin.04d6b37cfcfff47aed2a83d3fef38482") {\n      originalSender @recipeType(name: "com.linkedin.79dea4c365f8b2c222886b8705c5d08a") {\n        ...Participant\n      }\n      originalSendAt\n      forwardedBody @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n        ...AttributedText\n      }\n      footerText @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n    unavailableContent @recipeType(name: "com.linkedin.c99a94c5ac2a664edef4f041f3b8afeb") {\n      contentType\n      unavailableReason @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}',variablesTypes:{properties:{messengerMessagesIds:{isRequired:!0,kind:"Array",type:"Array",innerType:{type:"String",isRequired:!0,kind:"Scalar"}}},types:{}}}),rs=Ko({kind:"query",id:"messengerMailboxCounts.fc528a5a81a76dff212a4a3d2d48e84b",typeName:"com.linkedin.7455e0e579fcb3a34f96eb0eefe7a411",name:"get-mailbox-unreadcounts",source:'query getMailboxUnreadCount($mailboxUrn: String!) @recipeType(name: "com.linkedin.7455e0e579fcb3a34f96eb0eefe7a411") {\n  messengerMailboxCountsByMailbox(mailboxUrn: $mailboxUrn) @recipeType(name: "com.linkedin.53337f34a47b3c672713f3ba35605146") {\n    elements @recipeType(name: "com.linkedin.47d6db71cf3196fbd94e1d63c2031539") {\n      category\n      unreadConversationCount\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}',variablesTypes:{properties:{mailboxUrn:{type:"String",isRequired:!0,kind:"Scalar"}},types:{}}}),is=Ko({kind:"query",id:"messengerQuickReplies.4338d226319203b5b08920ab7621fa45",typeName:"com.linkedin.4c7816368899aefc0404a81a21b89aad",name:"get-quick-replies-by-conversation",source:'query GetQuickRepliesByConversation($conversationUrn: String!) @recipeType(name: "com.linkedin.4c7816368899aefc0404a81a21b89aad") {\n  messengerQuickRepliesByConversation(conversationUrn: $conversationUrn) @recipeType(name: "com.linkedin.b6e858f35d83d6cf5dfa51c1f4e9cf33") {\n    elements @recipeType(name: "com.linkedin.97e0c984dad39a9337fa7f8a08b5bb2c") {\n      ...QuickReply\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.9530dd0266c5e3dfdd2d57398081b9ba") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.9d302f859c4add9e1a2b277a07e5e2bc") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.a47efe23ef54dcfffbae34d2714a7709") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.814d6a3abc3892b25d5efeda1dfdb21b") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.079f490924ce9ea0a2e300c8b005f125") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.323f1daea090cebaa7394cb723af7f64") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.987bbc542a2213455845aa9cd0aa823c") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.a68b6f013115bc3c9f99e7643ee1958f") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.accbc6f97f0585bc2766916e8dfd3abf") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.5eba473fa8c633e37c165ba147eac5bf") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.a91704e48ba8e5816c625494c2f97e48") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.c8fcea02494286c36cdd22ccc61fb32b") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment QuickReply on messenger_QuickReply {\n  displayText @recipeType(name: "com.linkedin.407cdcf10dddee1f9ee388bf65c637e6") {\n    ...AttributedText\n  }\n  message @recipeType(name: "com.linkedin.61b815121b717e1b355148c7cffbce70") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  objectUrn\n  prefillText @recipeType(name: "com.linkedin.407cdcf10dddee1f9ee388bf65c637e6") {\n    ...AttributedText\n  }\n  quickReplyType {\n    type\n    customType\n  }\n  trackingId\n  _recipeType\n  _type\n}',variablesTypes:{properties:{conversationUrn:{type:"String",isRequired:!0,kind:"Scalar"}},types:{}}}),as=Ko({kind:"query",id:"messengerMessagingParticipants.6a6059be0cc8bfe3b829c850366d1fe4",typeName:"com.linkedin.17d2b5b00f250b93fa250e00473c98a2",name:"get-reactors-by-message-and-emoji",source:'query getReactorsByMessageAndEmoji($messageUrn: String!, $emoji: String!) @recipeType(name: "com.linkedin.17d2b5b00f250b93fa250e00473c98a2") {\n  messengerMessagingParticipantsByMessageAndEmoji(\n    messageUrn: $messageUrn\n    emoji: $emoji\n  ) @recipeType(name: "com.linkedin.f808af31529de4c2c4abd0976d7bcfaa") {\n    elements @recipeType(name: "com.linkedin.fa6606f7f339c4a8571ac9043f664f4b") {\n      ...Participant\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.30426cc31a0002f3526931f9b04d7a2c") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.92edcfdf0a2c55c82fac4f52136f2277") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.4c69a590d6bc461dd9ba423c5a7295b2") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.5e529d741267fbcfd8d758446609293d") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.d6ae29dada06ce0c9022ffd1bdbcf0f5") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.1630188842f9c02068e6b3d3c8759d8e") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.e1ac93598c33825817ae2d22ab66a34c") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.aa6aa1d53b0ef47e7626fcc03c76c0d5") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.717d4681d555c659ed7a3a52fe4cf8ed") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.a106ec2c8d753f89d77776bff2253dcc") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.a5ef24120169ecc1af0d004f4155c3ef") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.5f0afe1fb5e10f3bd70e3076aa777924") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.e3a8be2a344d7a4cb105ac0117852d9b") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.b42f4e2270bfbce9ad6c2d81a686d5ed") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.f5afbea91d7f182d4f9fa71aae797789") {\n      firstName @recipeType(name: "com.linkedin.6c89a87e9d6583a8a3c3b0ae85ca60f8") {\n        ...AttributedText\n      }\n      lastName @recipeType(name: "com.linkedin.6c89a87e9d6583a8a3c3b0ae85ca60f8") {\n        ...AttributedText\n      }\n      headline @recipeType(name: "com.linkedin.6c89a87e9d6583a8a3c3b0ae85ca60f8") {\n        ...AttributedText\n      }\n      profilePicture @recipeType(name: "com.linkedin.30d979b6847245f55adfe80ebcc52b24") {\n        ...VectorImage\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.1b19a2135e616984e3517477d48289f3") {\n      name @recipeType(name: "com.linkedin.6c89a87e9d6583a8a3c3b0ae85ca60f8") {\n        ...AttributedText\n      }\n      tagline @recipeType(name: "com.linkedin.6c89a87e9d6583a8a3c3b0ae85ca60f8") {\n        ...AttributedText\n      }\n      logo @recipeType(name: "com.linkedin.30d979b6847245f55adfe80ebcc52b24") {\n        ...VectorImage\n      }\n      industryName @recipeType(name: "com.linkedin.6c89a87e9d6583a8a3c3b0ae85ca60f8") {\n        ...AttributedText\n      }\n      following\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.fb7f16d6ad24fc071e8e4c9a507d1a4c") {\n      name @recipeType(name: "com.linkedin.6c89a87e9d6583a8a3c3b0ae85ca60f8") {\n        ...AttributedText\n      }\n      image @recipeType(name: "com.linkedin.30d979b6847245f55adfe80ebcc52b24") {\n        ...VectorImage\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}',variablesTypes:{properties:{messageUrn:{type:"String",isRequired:!0,kind:"Scalar"},emoji:{type:"String",isRequired:!0,kind:"Scalar"}},types:{}}}),os=Ko({kind:"query",id:"messengerSeenReceipts.15417b08a7230a8c0de682635d1fa848",typeName:"com.linkedin.33851ce67c1a444c09e057014b5c4d81",name:"get-seen-receipts-by-conversation",source:'query getSeenReceiptsByConversation($conversationUrn: String!) @recipeType(name: "com.linkedin.33851ce67c1a444c09e057014b5c4d81") {\n  messengerSeenReceiptsByConversation(conversationUrn: $conversationUrn) @recipeType(name: "com.linkedin.610dc666c5c0bd249902fc4a6e29137d") {\n    elements @recipeType(name: "com.linkedin.f2277acfd7c0704a70201139df579a65") {\n      ...SeenReceipt\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.c521d0834988414cb543494eff1defa8") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.f513b47df8c0ff6632ad0cc6e5123ebd") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.48242b0d0c19cbd10a9c27e5146a605c") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.eaf33696dfedf327ee1b3eb79b41200d") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.104498b8848142b8dcdaa5be37aedb4d") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.ccef7b4aabce99014e8de62c834d3365") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.8356230738038667e9e81ce3f2af228a") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.64eeb4db61c989c19f2d0742f4e13511") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.e057e3072c193e04323ff658a6d277c8") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.3a614eefd18e324ebee546b84786adb9") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.92c7f66d7ef276b12852a8f360a337b7") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.3b5950e1cbcc19255c56ebb11566314b") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.6b36e9ed4db8e3d415c01840cec60622") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.e7979b3d0486a3852e5c295c954c551b") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.9623b7f05521f9e416e4aa0e8fd3d9ae") {\n      firstName @recipeType(name: "com.linkedin.1071bc7f9843d7f7dc90e1efdae1b2cf") {\n        ...AttributedText\n      }\n      lastName @recipeType(name: "com.linkedin.1071bc7f9843d7f7dc90e1efdae1b2cf") {\n        ...AttributedText\n      }\n      headline @recipeType(name: "com.linkedin.1071bc7f9843d7f7dc90e1efdae1b2cf") {\n        ...AttributedText\n      }\n      profilePicture @recipeType(name: "com.linkedin.7425e7cb63a718d023074f06d27eba3b") {\n        ...VectorImage\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.b7042771447567c33cd352afd4d46456") {\n      name @recipeType(name: "com.linkedin.1071bc7f9843d7f7dc90e1efdae1b2cf") {\n        ...AttributedText\n      }\n      tagline @recipeType(name: "com.linkedin.1071bc7f9843d7f7dc90e1efdae1b2cf") {\n        ...AttributedText\n      }\n      logo @recipeType(name: "com.linkedin.7425e7cb63a718d023074f06d27eba3b") {\n        ...VectorImage\n      }\n      industryName @recipeType(name: "com.linkedin.1071bc7f9843d7f7dc90e1efdae1b2cf") {\n        ...AttributedText\n      }\n      following\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.57e7c3e516f17ecd0668b1133e8f358f") {\n      name @recipeType(name: "com.linkedin.1071bc7f9843d7f7dc90e1efdae1b2cf") {\n        ...AttributedText\n      }\n      image @recipeType(name: "com.linkedin.7425e7cb63a718d023074f06d27eba3b") {\n        ...VectorImage\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment SeenReceipt on messenger_SeenReceipt {\n  message @recipeType(name: "com.linkedin.dc3ad25c62e56a24aa27aa71fac75dcf") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  seenAt\n  seenByParticipant @recipeType(name: "com.linkedin.29bd4036bc585aa87377842ee2563fb2") {\n    ...Participant\n  }\n  _recipeType\n  _type\n}',variablesTypes:{properties:{conversationUrn:{type:"String",isRequired:!0,kind:"Scalar"}},types:{}}}),ss=Ko({kind:"query",id:"messengerConversations.2782734f1f251808c1959921bd56a2e4",typeName:"com.linkedin.bc13e1b1426cc03e36eab503d342cabe",name:"initial-sync-conversations",source:'query initialSyncConversations($mailboxUrn: String!) @recipeType(name: "com.linkedin.bc13e1b1426cc03e36eab503d342cabe") {\n  messengerConversationsBySyncToken(mailboxUrn: $mailboxUrn) @recipeType(name: "com.linkedin.c4d40619b988a313e6dbd442876520d5") {\n    elements @recipeType(name: "com.linkedin.e0457b8b4985e4e141d2bd624526db5a") {\n      ...Conversation\n      messages(count: 1, sortOrder: DESCENDING) @required @recipeType(name: "com.linkedin.2fd852a9be7c7d3602803db62bded474") {\n        elements @allOrNothing @recipeType(name: "com.linkedin.7f5095a72b369d7ce1483bdfc62ee3e0") {\n          ...MessagePartialParticipant\n        }\n        _recipeType\n        _type\n      }\n    }\n    metadata @recipeType(name: "com.linkedin.6614bca623fc9720b29edae666a9bdb4") {\n      newSyncToken\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.adae398a316afc92d9372666e5da2b7d") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.381a4569be39fc83e21c406f0337b620") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.be4dc8a825294ba651235e4629a3404e") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.9b949b440138d45d2f931879b66187c9") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.a4b572cbcce10658bd90feee6736182f") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.14ea4bb04f4abe63f83e2bc9f36f7abe") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.a696eef5f5d40723095820da042f0287") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.15f11baf4bf3e61a26d61843a47eae67") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.34dd0dcbc21fe095004daa39964cc858") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.2a4bd6f512c36c102e60d42a8726fe61") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.54de8e51102bb201fc1b831d17a81d96") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.70fab14b53c2a72345b27c970c804bd2") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.e33a796e937400f974133f8fb6b41e9b") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.75fd15a735d1668ef83e7e6921847f56") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.7eb3a14326aeb4c8c16f24e1979ffe01") {\n      firstName @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n        ...AttributedText\n      }\n      lastName @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n        ...AttributedText\n      }\n      headline @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n        ...AttributedText\n      }\n      profilePicture @recipeType(name: "com.linkedin.5a06e769367ad613e374bfe0fb8b474c") {\n        ...VectorImage\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.629151bbc2a2b8bde6b327b528766d45") {\n      name @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n        ...AttributedText\n      }\n      tagline @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n        ...AttributedText\n      }\n      logo @recipeType(name: "com.linkedin.5a06e769367ad613e374bfe0fb8b474c") {\n        ...VectorImage\n      }\n      industryName @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n        ...AttributedText\n      }\n      following\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.aa5278b3b55df5dcc2255a69addddc1e") {\n      name @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n        ...AttributedText\n      }\n      image @recipeType(name: "com.linkedin.5a06e769367ad613e374bfe0fb8b474c") {\n        ...VectorImage\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment CreativeAdsReportingInfo on messenger_CreativeAdsReportingInfo {\n  contentSource\n  sponsoredAccountUrn\n  sponsoredCreativeUrn\n  _recipeType\n  _type\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsContent on messenger_ConversationAdsContent {\n  adUnit @recipeType(name: "com.linkedin.5a06e769367ad613e374bfe0fb8b474c") {\n    ...VectorImage\n  }\n  advertiserLabel\n  advertiserLegalText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n  }\n  clickTrackingUrl\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.ca1e81b79e7b59bfd3fd25d991a977ae") {\n    ...CreativeAdsReportingInfo\n  }\n  linkedInLegalText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n  }\n  sponsoredConversationTrackingId\n  sponsoredTracking @recipeType(name: "com.linkedin.c9ee5cbbe28e24c3c5d9c44f591b7515") {\n    ...SponsoredMetadata\n  }\n  _recipeType\n  _type\n}\n\nfragment Conversation on messenger_Conversation {\n  entityUrn\n  backendUrn\n  read\n  createdAt\n  lastActivityAt\n  lastReadAt\n  title\n  headlineText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n  }\n  shortHeadlineText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n  }\n  notificationStatus\n  categories\n  unreadCount\n  conversationUrl\n  hostConversationActions\n  conversationTypeText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n  }\n  state\n  groupChat\n  incompleteRetriableData\n  creator @recipeType(name: "com.linkedin.01f8e638b9e4e8fdedf2a35d7e7bc3dc") {\n    ...Participant\n  }\n  disabledFeatures @recipeType(name: "com.linkedin.a2ca2658a10f32cd19074ed775ec6243") {\n    disabledFeature\n    reasonText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  contentMetadata {\n    conversationAdContent @recipeType(name: "com.linkedin.1c1b542988ebe7ed2a1850a4dc1bbadc") {\n      ...ConversationAdsContent\n    }\n  }\n  conversationParticipants @recipeType(name: "com.linkedin.01f8e638b9e4e8fdedf2a35d7e7bc3dc") {\n    ...Participant\n  }\n  _recipeType\n  _type\n}\n\nfragment ReactionSummary on messenger_ReactionSummary {\n  count\n  emoji\n  firstReactedAt\n  viewerReacted\n  _recipeType\n  _type\n}\n\nfragment MessageBaseWithoutConversation on messenger_Message {\n  entityUrn\n  backendConversationUrn\n  backendUrn\n  subject\n  body @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n  }\n  footer @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n  }\n  incompleteRetriableData\n  inlineWarning @recipeType(name: "com.linkedin.a8accbabea9e3c49fca55bf4f5fc610f") {\n    obfuscatedMessageWarning @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n      ...AttributedText\n    }\n    inlineWarningPrompt @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  originToken\n  deliveredAt\n  messageBodyRenderFormat\n  renderContentFallbackText\n  reactionSummaries @recipeType(name: "com.linkedin.62100cc3671b2a7952cdf70d774f0c16") {\n    ...ReactionSummary\n  }\n  _recipeType\n  _type\n}\n\nfragment MessageBase on messenger_Message {\n  ...MessageBaseWithoutConversation\n  conversation @recipeType(name: "com.linkedin.e0457b8b4985e4e141d2bd624526db5a") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment AudioMetadata on messenger_AudioMetadata {\n  duration\n  url\n  _recipeType\n  _type\n}\n\nfragment AwayMessage on messenger_AwayMessage {\n  footerText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n  }\n  text @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n  }\n  _recipeType\n  _type\n}\n\nfragment ExternalMedia on messenger_ExternalMedia {\n  entityUrn\n  title\n  media @recipeType(name: "com.linkedin.d92301af8ae432c6a325c67221130182") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  previewMedia @recipeType(name: "com.linkedin.d92301af8ae432c6a325c67221130182") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment FileAttachment on messenger_FileAttachment {\n  assetUrn\n  byteSize\n  mediaType\n  name\n  url\n  _recipeType\n  _type\n}\n\nfragment MessageAdRenderContent on messenger_MessageAdRenderContent {\n  advertiserLabel\n  bodyTracking\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.ca1e81b79e7b59bfd3fd25d991a977ae") {\n    contentSource\n    sponsoredAccountUrn\n    sponsoredCreativeUrn\n    _recipeType\n    _type\n  }\n  legalText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n  }\n  legalTextTracking\n  openTracking\n  sponsoredCampaignUrn\n  sponsoredTracking @recipeType(name: "com.linkedin.c9ee5cbbe28e24c3c5d9c44f591b7515") {\n    ...SponsoredMetadata\n  }\n  status\n  subContent @recipeType(name: "com.linkedin.27e4004b3e4d690d33de889202ae5924") {\n    action\n    actionText\n    actionTracking\n    callToActionLabel\n    leadGenFormOpenTracking\n    leadGenFormUrn\n    leadTrackingCode\n    leadTrackingParams\n    tscpUrl\n    adUnit @recipeType(name: "com.linkedin.eb76a49e634a1e9a69ac4c956e935846") {\n      adUnit @recipeType(name: "com.linkedin.5a06e769367ad613e374bfe0fb8b474c") {\n        ...VectorImage\n      }\n      adUnitTracking\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoPlayMetadata on videocontent_VideoPlayMetadata {\n  entityUrn\n  adaptiveStreams @recipeType(name: "com.linkedin.61bf78953251fbd484afea91d3281c15") {\n    initialBitRate\n    masterPlaylists @recipeType(name: "com.linkedin.e133fb8d9410f731252f6f8545875260") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    mediaType\n    protocol\n    _recipeType\n    _type\n  }\n  aspectRatio\n  duration\n  liveStreamCreatedAt\n  liveStreamEndedAt\n  media\n  nextMedia\n  prevMedia\n  progressiveStreams @recipeType(name: "com.linkedin.105290335920ffad003a428431f0a07d") {\n    bitRate\n    height\n    mediaType\n    mimeType\n    size\n    streamingLocations @recipeType(name: "com.linkedin.e133fb8d9410f731252f6f8545875260") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    width\n    _recipeType\n    _type\n  }\n  provider\n  thumbnail @recipeType(name: "com.linkedin.5a06e769367ad613e374bfe0fb8b474c") {\n    ...VectorImage\n  }\n  trackingId\n  transcripts @recipeType(name: "com.linkedin.ac491e5455a5b4f9bfa0ccf930ef7c49") {\n    captionFile\n    captionFormat\n    isAutogenerated\n    lines @recipeType(name: "com.linkedin.6ad3ab8d5637607a196f6d574ad232c8") {\n      caption\n      lineEndAt\n      lineStartAt\n      _recipeType\n      _type\n    }\n    locale @recipeType(name: "com.linkedin.56948b02e64819b381226994b017f605") {\n      country\n      extensions @recipeType(name: "com.linkedin.8d5cb24a2a625a497d43832a952adbb3") {\n        t\n        u\n        x\n        _recipeType\n        _type\n      }\n      language\n      script\n      variant\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoMeeting on messenger_VideoMeeting {\n  videoMeeting @recipeType(name: "com.linkedin.feb8f633df71861fcb35a7457a18b442") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  earliestStartAt\n  expiresAt\n  timeRange @recipeType(name: "com.linkedin.e7e07cf52d05ed52f2a0d6b81646d262") {\n    end\n    start\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsMessageContent on messenger_ConversationAdsMessageContent {\n  sponsoredMessageContentUrn\n  sponsoredMessageTrackingId\n  sponsoredMessageOptions @recipeType(name: "com.linkedin.c96be118330697a4f65f984bb931b08b") {\n    clickAction {\n      externalWebsiteClickAction @recipeType(name: "com.linkedin.8156b60527a213a678bd967456d241b1") {\n        redirectUrl\n        _recipeType\n        _type\n      }\n      leadGenClickAction @recipeType(name: "com.linkedin.3bb2afacaffe5eeddedb11a560bb7aac") {\n        leadGenFormUrn\n        leadTrackingCode\n        leadTrackingParams\n        _recipeType\n        _type\n      }\n    }\n    optionText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n      ...AttributedText\n    }\n    tscpUrl\n    sponsoredMessageOption @recipeType(name: "com.linkedin.cc640a0bc692dcdaf424217677e95eda") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment MessagePartialParticipant on messenger_Message {\n  ...MessageBase\n  sender @recipeType(name: "com.linkedin.01f8e638b9e4e8fdedf2a35d7e7bc3dc") {\n    entityUrn\n    hostIdentityUrn\n    _recipeType\n    _type\n  }\n  renderContent {\n    audio @recipeType(name: "com.linkedin.d98db434d0bedd33bd439eb153f15c23") {\n      ...AudioMetadata\n    }\n    awayMessage @recipeType(name: "com.linkedin.8c293ff9011b1cd87e91a9f6125c4808") {\n      ...AwayMessage\n    }\n    externalMedia @recipeType(name: "com.linkedin.5678e7f72a1365bc64e9b97e88f2caf5") {\n      ...ExternalMedia\n    }\n    file @recipeType(name: "com.linkedin.a3d4d34ad04210655af3c5b561eb2ec9") {\n      ...FileAttachment\n    }\n    messageAdRenderContent @recipeType(name: "com.linkedin.dae3f372acbf89bff4028183a1d3d01b") {\n      ...MessageAdRenderContent\n    }\n    vectorImage @recipeType(name: "com.linkedin.5a06e769367ad613e374bfe0fb8b474c") {\n      ...VectorImage\n    }\n    video @recipeType(name: "com.linkedin.0dbd2db1ff294a149ae39c304fc92c26") {\n      ...VideoPlayMetadata\n    }\n    videoMeeting @recipeType(name: "com.linkedin.9985fd78c330eed7474c708294217351") {\n      ...VideoMeeting\n    }\n    hostUrnData @recipeType(name: "com.linkedin.5525505b2253ea794bd1c27d81a3f8cf") {\n      hostUrn\n      type\n      _recipeType\n      _type\n    }\n    conversationAdsMessageContent @recipeType(name: "com.linkedin.01a37a45120d8d9a82831780d024df16") {\n      ...ConversationAdsMessageContent\n    }\n    forwardedMessageContent @recipeType(name: "com.linkedin.e81ed10998a09fe6281c751c3e45da6d") {\n      originalSender @recipeType(name: "com.linkedin.01f8e638b9e4e8fdedf2a35d7e7bc3dc") {\n        ...Participant\n      }\n      originalSendAt\n      forwardedBody @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n        ...AttributedText\n      }\n      footerText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n    unavailableContent @recipeType(name: "com.linkedin.d380b136bf1bc618c26b73dc99001e93") {\n      contentType\n      unavailableReason @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}',variablesTypes:{properties:{mailboxUrn:{type:"String",isRequired:!0,kind:"Scalar"}},types:{}}}),cs=Ko({kind:"query",id:"messengerConversations.33c5bfbf15b112da638fee15f77f5e33",typeName:"com.linkedin.2a25dae6962f40be897d5ffe00289c5c",name:"mark-all-conversations-as-read",source:'query MarkAllConversationsAsRead($categories: [String!]!, $mailboxUrn: String!) @recipeType(name: "com.linkedin.2a25dae6962f40be897d5ffe00289c5c") {\n  doMarkAllConversationsAsReadMessengerConversations(\n    categories: $categories\n    mailboxUrn: $mailboxUrn\n  ) @recipeType(name: "com.linkedin.b487f4883be20a28b2aa5907ae18fc9d") {\n    result @recipeType(name: "com.linkedin.755f5f21dbfd545773568b4bb322b73a") {\n      ...MarkAllConversationsAsReadResult\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment MarkAllConversationsAsReadResult on messenger_MarkAllConversationsAsReadResult {\n  allSynchronouslyProcessed\n  _recipeType\n  _type\n}',variablesTypes:{properties:{categories:{isRequired:!0,kind:"Array",type:"Array",innerType:{type:"String",isRequired:!0,kind:"Scalar"}},mailboxUrn:{type:"String",isRequired:!0,kind:"Scalar"}},types:{}}}),ds=Ko({kind:"query",id:"messengerConversations.09c6b668943338d1fa0dea217ac50565",typeName:"com.linkedin.13baefbc2d95f2e6498312456b544fc4",name:"sync-conversations",source:'query syncConversations($mailboxUrn: String!, $syncToken: String) @recipeType(name: "com.linkedin.13baefbc2d95f2e6498312456b544fc4") {\n  messengerConversationsBySyncToken(\n    mailboxUrn: $mailboxUrn\n    syncToken: $syncToken\n  ) @recipeType(name: "com.linkedin.7a0e6dc56c290d2fef8307054ef628e9") {\n    elements @recipeType(name: "com.linkedin.d0131ba388bd4c274ad89836c477955c") {\n      ...Conversation\n    }\n    metadata @recipeType(name: "com.linkedin.a15242ac776cda2233f011e562abeaaa") {\n      ...SyncMetadata\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.686d9d1ed551117f94c5c18320822486") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.ede146e2a194f51503310066fc058654") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.e5c5349791ff8f20cac26f5d4269aa10") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.6c72b46c06253f9f7e713ee1c93ae444") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.bfecdd43f8a76f54e395909400b3a47e") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.bbff3f0fc66c615b5067ffe7bdc86dcd") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.2d59b6c40fe50dfc0ac0b64f317f23d3") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.0e6524ca57f62ca508a3032da64037fa") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.6bcb9fbf33d4ce137db4354209631166") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.468ac349c18b45e14ec4f937e0dee6c8") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.a5c90d2abc284f2e8b735892dd061818") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.1d26b548f4e5b5288ef95723643d298a") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.e2f3217dde3d4432038a1eb1c50606d0") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.3f007f728d032797f2c8875114902308") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.059980bd802789beb784a8f9a9b69137") {\n      firstName @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n        ...AttributedText\n      }\n      lastName @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n        ...AttributedText\n      }\n      headline @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n        ...AttributedText\n      }\n      profilePicture @recipeType(name: "com.linkedin.322c3b2b26b1028031e2b0717b39e347") {\n        ...VectorImage\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.173c2f2f123b97f4bb2543e42641c281") {\n      name @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n        ...AttributedText\n      }\n      tagline @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n        ...AttributedText\n      }\n      logo @recipeType(name: "com.linkedin.322c3b2b26b1028031e2b0717b39e347") {\n        ...VectorImage\n      }\n      industryName @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n        ...AttributedText\n      }\n      following\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.d6b31717df9125f818b1a1977d5b0653") {\n      name @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n        ...AttributedText\n      }\n      image @recipeType(name: "com.linkedin.322c3b2b26b1028031e2b0717b39e347") {\n        ...VectorImage\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment CreativeAdsReportingInfo on messenger_CreativeAdsReportingInfo {\n  contentSource\n  sponsoredAccountUrn\n  sponsoredCreativeUrn\n  _recipeType\n  _type\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsContent on messenger_ConversationAdsContent {\n  adUnit @recipeType(name: "com.linkedin.322c3b2b26b1028031e2b0717b39e347") {\n    ...VectorImage\n  }\n  advertiserLabel\n  advertiserLegalText @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n    ...AttributedText\n  }\n  clickTrackingUrl\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.bc706a4c6c31ae1ed601f0f95c2f968f") {\n    ...CreativeAdsReportingInfo\n  }\n  linkedInLegalText @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n    ...AttributedText\n  }\n  sponsoredConversationTrackingId\n  sponsoredTracking @recipeType(name: "com.linkedin.fec70614c7cf7cbb8e0fd6c57e2c8f6d") {\n    ...SponsoredMetadata\n  }\n  _recipeType\n  _type\n}\n\nfragment Conversation on messenger_Conversation {\n  entityUrn\n  backendUrn\n  read\n  createdAt\n  lastActivityAt\n  lastReadAt\n  title\n  headlineText @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n    ...AttributedText\n  }\n  shortHeadlineText @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n    ...AttributedText\n  }\n  notificationStatus\n  categories\n  unreadCount\n  conversationUrl\n  hostConversationActions\n  conversationTypeText @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n    ...AttributedText\n  }\n  state\n  groupChat\n  incompleteRetriableData\n  creator @recipeType(name: "com.linkedin.239fa054f2ae27d6d786746a5efe7fff") {\n    ...Participant\n  }\n  disabledFeatures @recipeType(name: "com.linkedin.9d0a578a8c22b128956e58f44b165468") {\n    disabledFeature\n    reasonText @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  contentMetadata {\n    conversationAdContent @recipeType(name: "com.linkedin.8340383189efb90020d96ae3d569b834") {\n      ...ConversationAdsContent\n    }\n  }\n  conversationParticipants @recipeType(name: "com.linkedin.239fa054f2ae27d6d786746a5efe7fff") {\n    ...Participant\n  }\n  _recipeType\n  _type\n}\n\nfragment SyncMetadata on messenger_SyncMetadata {\n  deletedUrns {\n    conversation @recipeType(name: "com.linkedin.d0131ba388bd4c274ad89836c477955c") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    message @recipeType(name: "com.linkedin.bd421aef6356c2da052bef9b3c2a3674") {\n      entityUrn\n      _recipeType\n      _type\n    }\n  }\n  newSyncToken\n  shouldClearCache\n  _recipeType\n  _type\n}',variablesTypes:{properties:{mailboxUrn:{type:"String",isRequired:!0,kind:"Scalar"},syncToken:{type:"String",isRequired:!1,kind:"Scalar"}},types:{}}}),us=Ko({kind:"query",id:"messengerMessages.8d15783c080e392b337ba57fc576ad21",typeName:"com.linkedin.c38c518a13ae3dfabbd000dba2c1323a",name:"sync-messages",source:'query SyncMessages($conversationUrn: String!, $syncToken: String) @recipeType(name: "com.linkedin.c38c518a13ae3dfabbd000dba2c1323a") {\n  messengerMessagesBySyncToken(\n    conversationUrn: $conversationUrn\n    syncToken: $syncToken\n  ) @recipeType(name: "com.linkedin.b3fb020d7a62182dcf15004c87ed6684") {\n    elements @recipeType(name: "com.linkedin.9a4948e0045f59eb49ee971c440d4e31") {\n      ...MessageFullParticipant\n    }\n    metadata @recipeType(name: "com.linkedin.511454cd272357b3e0558c5dac215b69") {\n      ...SyncMetadata\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.91a2d9e032fa053fe3e1f7eb8b8fb33a") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.465a32a11b07f3705fb16e61cce0b255") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.76f7d68a0b8e0fb4ea4694c56eb8d254") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.c622780354d9de02db8b521c3b0b7589") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.4044504975886ef020cfb369ea9250af") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.085d08f078b2e521c7173cd2c66b37c4") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.b9a402848439cea2c3fc3a80b6df14e1") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.67b4cbbed8d4f59d0731330356a63c9f") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.8ba6d525a8f41d7dc36bcad232dea273") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.06e27543dfb2a7dfaf492c6f69cd9501") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.c3f280f743f59957949667e621ccec8d") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.eafe8089647b6274ef230c4d4f4f0564") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment ReactionSummary on messenger_ReactionSummary {\n  count\n  emoji\n  firstReactedAt\n  viewerReacted\n  _recipeType\n  _type\n}\n\nfragment MessageBaseWithoutConversation on messenger_Message {\n  entityUrn\n  backendConversationUrn\n  backendUrn\n  subject\n  body @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n    ...AttributedText\n  }\n  footer @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n    ...AttributedText\n  }\n  incompleteRetriableData\n  inlineWarning @recipeType(name: "com.linkedin.eccc411590cd40efb6a30363c2a4f6b7") {\n    obfuscatedMessageWarning @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n      ...AttributedText\n    }\n    inlineWarningPrompt @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  originToken\n  deliveredAt\n  messageBodyRenderFormat\n  renderContentFallbackText\n  reactionSummaries @recipeType(name: "com.linkedin.f0b7db6037d7be0d51d3ef9f7a8532f0") {\n    ...ReactionSummary\n  }\n  _recipeType\n  _type\n}\n\nfragment MessageBase on messenger_Message {\n  ...MessageBaseWithoutConversation\n  conversation @recipeType(name: "com.linkedin.45234f48bb281d0b04e9cd2ee2d88237") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.4e78982efcd19a00e60e23cb18452cb3") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.71cc3c87a83e8848faa739599dff2495") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n  _recipeType\n  _type\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.a9535f2b6c53c4b69a1dd57697b6de6e") {\n      firstName @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n        ...AttributedText\n      }\n      lastName @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n        ...AttributedText\n      }\n      headline @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n        ...AttributedText\n      }\n      profilePicture @recipeType(name: "com.linkedin.c029dbe5105f8bef89f4685f7ef3839b") {\n        ...VectorImage\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.9dc58bc555360d8643835a6506cbbcc8") {\n      name @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n        ...AttributedText\n      }\n      tagline @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n        ...AttributedText\n      }\n      logo @recipeType(name: "com.linkedin.c029dbe5105f8bef89f4685f7ef3839b") {\n        ...VectorImage\n      }\n      industryName @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n        ...AttributedText\n      }\n      following\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.054f7f9a6b88e95a0912a84064b97b08") {\n      name @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n        ...AttributedText\n      }\n      image @recipeType(name: "com.linkedin.c029dbe5105f8bef89f4685f7ef3839b") {\n        ...VectorImage\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment AudioMetadata on messenger_AudioMetadata {\n  duration\n  url\n  _recipeType\n  _type\n}\n\nfragment AwayMessage on messenger_AwayMessage {\n  footerText @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n    ...AttributedText\n  }\n  text @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n    ...AttributedText\n  }\n  _recipeType\n  _type\n}\n\nfragment ExternalMedia on messenger_ExternalMedia {\n  entityUrn\n  title\n  media @recipeType(name: "com.linkedin.4d35eb62cdac5ece15f151b81b23bc6a") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  previewMedia @recipeType(name: "com.linkedin.4d35eb62cdac5ece15f151b81b23bc6a") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment FileAttachment on messenger_FileAttachment {\n  assetUrn\n  byteSize\n  mediaType\n  name\n  url\n  _recipeType\n  _type\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n  _recipeType\n  _type\n}\n\nfragment MessageAdRenderContent on messenger_MessageAdRenderContent {\n  advertiserLabel\n  bodyTracking\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.1fd72fe3f101c7912879e714fee028aa") {\n    contentSource\n    sponsoredAccountUrn\n    sponsoredCreativeUrn\n    _recipeType\n    _type\n  }\n  legalText @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n    ...AttributedText\n  }\n  legalTextTracking\n  openTracking\n  sponsoredCampaignUrn\n  sponsoredTracking @recipeType(name: "com.linkedin.5b6fc58175860d41ec0ed71f29c97de7") {\n    ...SponsoredMetadata\n  }\n  status\n  subContent @recipeType(name: "com.linkedin.41b59b4ac9866b7de43f6c530c298847") {\n    action\n    actionText\n    actionTracking\n    callToActionLabel\n    leadGenFormOpenTracking\n    leadGenFormUrn\n    leadTrackingCode\n    leadTrackingParams\n    tscpUrl\n    adUnit @recipeType(name: "com.linkedin.4bf87417853a73e6a5bed863ba8f114d") {\n      adUnit @recipeType(name: "com.linkedin.c029dbe5105f8bef89f4685f7ef3839b") {\n        ...VectorImage\n      }\n      adUnitTracking\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoPlayMetadata on videocontent_VideoPlayMetadata {\n  entityUrn\n  adaptiveStreams @recipeType(name: "com.linkedin.d421cf79bd9513a768a0122b5572b9f2") {\n    initialBitRate\n    masterPlaylists @recipeType(name: "com.linkedin.b75dd201eeaf5a8a40101e283425458d") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    mediaType\n    protocol\n    _recipeType\n    _type\n  }\n  aspectRatio\n  duration\n  liveStreamCreatedAt\n  liveStreamEndedAt\n  media\n  nextMedia\n  prevMedia\n  progressiveStreams @recipeType(name: "com.linkedin.10d654a93349bcf0b7bd45dcea5d51ae") {\n    bitRate\n    height\n    mediaType\n    mimeType\n    size\n    streamingLocations @recipeType(name: "com.linkedin.b75dd201eeaf5a8a40101e283425458d") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    width\n    _recipeType\n    _type\n  }\n  provider\n  thumbnail @recipeType(name: "com.linkedin.c029dbe5105f8bef89f4685f7ef3839b") {\n    ...VectorImage\n  }\n  trackingId\n  transcripts @recipeType(name: "com.linkedin.0495f491608a2d920cecbb2193a29027") {\n    captionFile\n    captionFormat\n    isAutogenerated\n    lines @recipeType(name: "com.linkedin.82dbc40d6a3cba3fa1ea02f713edc992") {\n      caption\n      lineEndAt\n      lineStartAt\n      _recipeType\n      _type\n    }\n    locale @recipeType(name: "com.linkedin.d42c8e81889d9c20b35a2959473d5a4e") {\n      country\n      extensions @recipeType(name: "com.linkedin.106a55544243c43a15d8a3b7247ba907") {\n        t\n        u\n        x\n        _recipeType\n        _type\n      }\n      language\n      script\n      variant\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoMeeting on messenger_VideoMeeting {\n  videoMeeting @recipeType(name: "com.linkedin.232a58fec9a34ff9d644a27921895969") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  earliestStartAt\n  expiresAt\n  timeRange @recipeType(name: "com.linkedin.d8130aaee573edd751fc3ce23bba2ba1") {\n    end\n    start\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsMessageContent on messenger_ConversationAdsMessageContent {\n  sponsoredMessageContentUrn\n  sponsoredMessageTrackingId\n  sponsoredMessageOptions @recipeType(name: "com.linkedin.0f36502a4b30f3736241f333a711d363") {\n    clickAction {\n      externalWebsiteClickAction @recipeType(name: "com.linkedin.b30c79a1f13823f96ba29550dc25ad1b") {\n        redirectUrl\n        _recipeType\n        _type\n      }\n      leadGenClickAction @recipeType(name: "com.linkedin.64613929601e16b00a6f50c3a14f8489") {\n        leadGenFormUrn\n        leadTrackingCode\n        leadTrackingParams\n        _recipeType\n        _type\n      }\n    }\n    optionText @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n      ...AttributedText\n    }\n    tscpUrl\n    sponsoredMessageOption @recipeType(name: "com.linkedin.c04631db04ec3f812f916286bcd78313") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment MessageFullParticipant on messenger_Message {\n  ...MessageBase\n  sender @recipeType(name: "com.linkedin.8e75e1b6100649895f69cf66c6e25b20") {\n    ...Participant\n  }\n  renderContent {\n    audio @recipeType(name: "com.linkedin.25e9ea6346fdbd78900ed1c1f090abf4") {\n      ...AudioMetadata\n    }\n    awayMessage @recipeType(name: "com.linkedin.d1b4ff7165007ffd58e7daa04e91dc83") {\n      ...AwayMessage\n    }\n    externalMedia @recipeType(name: "com.linkedin.f6f94f97f4b492ea82eac78e8b78c90e") {\n      ...ExternalMedia\n    }\n    file @recipeType(name: "com.linkedin.dee5494b0db49133c0ce4fbbe1028e2a") {\n      ...FileAttachment\n    }\n    messageAdRenderContent @recipeType(name: "com.linkedin.8fc568c3b0a4f8b6d43e85cb2e31f8bf") {\n      ...MessageAdRenderContent\n    }\n    vectorImage @recipeType(name: "com.linkedin.c029dbe5105f8bef89f4685f7ef3839b") {\n      ...VectorImage\n    }\n    video @recipeType(name: "com.linkedin.6d3caf68e88606ee9a78df95da083903") {\n      ...VideoPlayMetadata\n    }\n    videoMeeting @recipeType(name: "com.linkedin.bd4d498efdc59d6464579320e78c71f2") {\n      ...VideoMeeting\n    }\n    hostUrnData @recipeType(name: "com.linkedin.f5714b7ef519213cce06f2e65eeed6e6") {\n      hostUrn\n      type\n      _recipeType\n      _type\n    }\n    conversationAdsMessageContent @recipeType(name: "com.linkedin.6dd14eac60d40cd25525b7101e0e9724") {\n      ...ConversationAdsMessageContent\n    }\n    forwardedMessageContent @recipeType(name: "com.linkedin.17a472afaec91a855b119a4c0e9cbc17") {\n      originalSender @recipeType(name: "com.linkedin.8e75e1b6100649895f69cf66c6e25b20") {\n        ...Participant\n      }\n      originalSendAt\n      forwardedBody @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n        ...AttributedText\n      }\n      footerText @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n    unavailableContent @recipeType(name: "com.linkedin.1383f18c83262c749cfc543836f7fc8a") {\n      contentType\n      unavailableReason @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment SyncMetadata on messenger_SyncMetadata {\n  deletedUrns {\n    conversation @recipeType(name: "com.linkedin.45234f48bb281d0b04e9cd2ee2d88237") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    message @recipeType(name: "com.linkedin.9a4948e0045f59eb49ee971c440d4e31") {\n      entityUrn\n      _recipeType\n      _type\n    }\n  }\n  newSyncToken\n  shouldClearCache\n  _recipeType\n  _type\n}',variablesTypes:{properties:{conversationUrn:{type:"String",isRequired:!0,kind:"Scalar"},syncToken:{type:"String",isRequired:!1,kind:"Scalar"}},types:{}}}),ls=Ko({kind:"query",id:"messengerMessages.fe184db152ac438d5712285c5b06cafe",typeName:"com.linkedin.d517c530e9e9e6efa128b8e0e66d8226",name:"sync-messages-by-convo-id-in-batch",source:'query getSyncMessagesByConvoIdInBatch($criteria: [messenger_MessagesFindBySyncTokenCriteriaInput!]!) @recipeType(name: "com.linkedin.d517c530e9e9e6efa128b8e0e66d8226") {\n  messengerMessagesBySyncTokensInBatch(criteria: $criteria) @recipeType(name: "com.linkedin.f9a792d78ca98d67382ae32f4f9cefe9") {\n    elements @recipeType(name: "com.linkedin.3534d423e1e266c870d53cda731136a5") {\n      ...MessageFullParticipant\n    }\n    metadata @recipeType(name: "com.linkedin.a2a48a5f0eedcac77801c6a5f37422ab") {\n      ...SyncMetadata\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.782b0c7286719fedf9957cfbd85363aa") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.1bfd7f5e4ec38bb6502ddef8a60260fc") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.1b8ef43cf021903c28bbeeaa99038ec8") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.50e5b5012fd5216da33dcf69c35fadc2") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.27f753bd8e5ab72b4c9cf9976a60f61e") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.a0df47daad321ae7a54e5fa9a403b9dd") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.2f94b0c2b10f1d6e873cf4743abc5692") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.414ae77309e918fe9d357fddbae49cc1") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.982779de2dfdf62592eadff32ffbe429") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.83d5cb314abbfc47c8c2d497866013ce") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.640da236512d63227a1b19e60cac628f") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.a65a350fbf1d4be74450b4d58ed6866b") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment ReactionSummary on messenger_ReactionSummary {\n  count\n  emoji\n  firstReactedAt\n  viewerReacted\n  _recipeType\n  _type\n}\n\nfragment MessageBaseWithoutConversation on messenger_Message {\n  entityUrn\n  backendConversationUrn\n  backendUrn\n  subject\n  body @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n    ...AttributedText\n  }\n  footer @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n    ...AttributedText\n  }\n  incompleteRetriableData\n  inlineWarning @recipeType(name: "com.linkedin.7189689d0c3f7d45b6f23427485c2bbd") {\n    obfuscatedMessageWarning @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n      ...AttributedText\n    }\n    inlineWarningPrompt @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  originToken\n  deliveredAt\n  messageBodyRenderFormat\n  renderContentFallbackText\n  reactionSummaries @recipeType(name: "com.linkedin.51341effca62deeb3af211b14b7c0193") {\n    ...ReactionSummary\n  }\n  _recipeType\n  _type\n}\n\nfragment MessageBase on messenger_Message {\n  ...MessageBaseWithoutConversation\n  conversation @recipeType(name: "com.linkedin.0d8ff88970ef6ffa8a6bcf6a5804f7e4") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.d5f76b69247e45d5f2367725625ce659") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.fdfc8ce7a273bff80d1d5b4338cff02e") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n  _recipeType\n  _type\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.fa771270df50f4c8342710233b15830a") {\n      firstName @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n        ...AttributedText\n      }\n      lastName @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n        ...AttributedText\n      }\n      headline @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n        ...AttributedText\n      }\n      profilePicture @recipeType(name: "com.linkedin.0a07c8c20913b922a9344d40f3df0453") {\n        ...VectorImage\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.4f4e1faa3ba9eb2e3d60c798c5b24dc9") {\n      name @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n        ...AttributedText\n      }\n      tagline @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n        ...AttributedText\n      }\n      logo @recipeType(name: "com.linkedin.0a07c8c20913b922a9344d40f3df0453") {\n        ...VectorImage\n      }\n      industryName @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n        ...AttributedText\n      }\n      following\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.a129493e9d2a25c8929b4879a10be2ed") {\n      name @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n        ...AttributedText\n      }\n      image @recipeType(name: "com.linkedin.0a07c8c20913b922a9344d40f3df0453") {\n        ...VectorImage\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment AudioMetadata on messenger_AudioMetadata {\n  duration\n  url\n  _recipeType\n  _type\n}\n\nfragment AwayMessage on messenger_AwayMessage {\n  footerText @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n    ...AttributedText\n  }\n  text @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n    ...AttributedText\n  }\n  _recipeType\n  _type\n}\n\nfragment ExternalMedia on messenger_ExternalMedia {\n  entityUrn\n  title\n  media @recipeType(name: "com.linkedin.3ce159846977e249e2279cfd56e70e3b") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  previewMedia @recipeType(name: "com.linkedin.3ce159846977e249e2279cfd56e70e3b") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment FileAttachment on messenger_FileAttachment {\n  assetUrn\n  byteSize\n  mediaType\n  name\n  url\n  _recipeType\n  _type\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n  _recipeType\n  _type\n}\n\nfragment MessageAdRenderContent on messenger_MessageAdRenderContent {\n  advertiserLabel\n  bodyTracking\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.761a2c6e0d05a4036ebfcf428a1384c2") {\n    contentSource\n    sponsoredAccountUrn\n    sponsoredCreativeUrn\n    _recipeType\n    _type\n  }\n  legalText @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n    ...AttributedText\n  }\n  legalTextTracking\n  openTracking\n  sponsoredCampaignUrn\n  sponsoredTracking @recipeType(name: "com.linkedin.6c4cdd5bf165b44000028b41b43832d5") {\n    ...SponsoredMetadata\n  }\n  status\n  subContent @recipeType(name: "com.linkedin.64e6d609b1b585ae174e292c10f84ee3") {\n    action\n    actionText\n    actionTracking\n    callToActionLabel\n    leadGenFormOpenTracking\n    leadGenFormUrn\n    leadTrackingCode\n    leadTrackingParams\n    tscpUrl\n    adUnit @recipeType(name: "com.linkedin.c5b3e8fb88889ee77ec03fe3494e35d5") {\n      adUnit @recipeType(name: "com.linkedin.0a07c8c20913b922a9344d40f3df0453") {\n        ...VectorImage\n      }\n      adUnitTracking\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoPlayMetadata on videocontent_VideoPlayMetadata {\n  entityUrn\n  adaptiveStreams @recipeType(name: "com.linkedin.a9a5875e22303c042d4f9c00eabd58b8") {\n    initialBitRate\n    masterPlaylists @recipeType(name: "com.linkedin.7ce0e208fc65f7f558d3d6d24b7035c6") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    mediaType\n    protocol\n    _recipeType\n    _type\n  }\n  aspectRatio\n  duration\n  liveStreamCreatedAt\n  liveStreamEndedAt\n  media\n  nextMedia\n  prevMedia\n  progressiveStreams @recipeType(name: "com.linkedin.d5eefd150d0fd7c240fcc73e81609255") {\n    bitRate\n    height\n    mediaType\n    mimeType\n    size\n    streamingLocations @recipeType(name: "com.linkedin.7ce0e208fc65f7f558d3d6d24b7035c6") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    width\n    _recipeType\n    _type\n  }\n  provider\n  thumbnail @recipeType(name: "com.linkedin.0a07c8c20913b922a9344d40f3df0453") {\n    ...VectorImage\n  }\n  trackingId\n  transcripts @recipeType(name: "com.linkedin.adc1c2497cb3562cedd916fe7153f242") {\n    captionFile\n    captionFormat\n    isAutogenerated\n    lines @recipeType(name: "com.linkedin.0879e6ae5a83e72217a572d0c3a4dc9b") {\n      caption\n      lineEndAt\n      lineStartAt\n      _recipeType\n      _type\n    }\n    locale @recipeType(name: "com.linkedin.e3d5652fa4c5185ea563784361520492") {\n      country\n      extensions @recipeType(name: "com.linkedin.e9c15d66cac66b0a284221167c0b05d8") {\n        t\n        u\n        x\n        _recipeType\n        _type\n      }\n      language\n      script\n      variant\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoMeeting on messenger_VideoMeeting {\n  videoMeeting @recipeType(name: "com.linkedin.26fbe7af56f471221c53fc613495481a") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  earliestStartAt\n  expiresAt\n  timeRange @recipeType(name: "com.linkedin.28793b47fb741bdc484cd5667dc46ab8") {\n    end\n    start\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsMessageContent on messenger_ConversationAdsMessageContent {\n  sponsoredMessageContentUrn\n  sponsoredMessageTrackingId\n  sponsoredMessageOptions @recipeType(name: "com.linkedin.d610f549f9195397d29296c503de2349") {\n    clickAction {\n      externalWebsiteClickAction @recipeType(name: "com.linkedin.6c31f1578aa7f079a193fafeb7568532") {\n        redirectUrl\n        _recipeType\n        _type\n      }\n      leadGenClickAction @recipeType(name: "com.linkedin.c575890a7cb0edc35833067dbdaf7899") {\n        leadGenFormUrn\n        leadTrackingCode\n        leadTrackingParams\n        _recipeType\n        _type\n      }\n    }\n    optionText @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n      ...AttributedText\n    }\n    tscpUrl\n    sponsoredMessageOption @recipeType(name: "com.linkedin.39a58a60ca0eba04af9009331df953e5") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment MessageFullParticipant on messenger_Message {\n  ...MessageBase\n  sender @recipeType(name: "com.linkedin.7191db3f68aa678cca83f1d52c3e478a") {\n    ...Participant\n  }\n  renderContent {\n    audio @recipeType(name: "com.linkedin.b9b02ed9c59c3183529f7802d0caad11") {\n      ...AudioMetadata\n    }\n    awayMessage @recipeType(name: "com.linkedin.b18cfc1eebb1d9c93b20c40f9465c610") {\n      ...AwayMessage\n    }\n    externalMedia @recipeType(name: "com.linkedin.35815160edef928290f8790250961350") {\n      ...ExternalMedia\n    }\n    file @recipeType(name: "com.linkedin.68f0f70808d2a5572259dd6024e2fae2") {\n      ...FileAttachment\n    }\n    messageAdRenderContent @recipeType(name: "com.linkedin.6972d7aae92d743baff7478009d73eed") {\n      ...MessageAdRenderContent\n    }\n    vectorImage @recipeType(name: "com.linkedin.0a07c8c20913b922a9344d40f3df0453") {\n      ...VectorImage\n    }\n    video @recipeType(name: "com.linkedin.0894306231bd12f14b5e90dd5bf17888") {\n      ...VideoPlayMetadata\n    }\n    videoMeeting @recipeType(name: "com.linkedin.1a531c8ee7a98bf9397df570641dafb4") {\n      ...VideoMeeting\n    }\n    hostUrnData @recipeType(name: "com.linkedin.58482ad6e40391d512e37ff73733e337") {\n      hostUrn\n      type\n      _recipeType\n      _type\n    }\n    conversationAdsMessageContent @recipeType(name: "com.linkedin.19ffdb9a3911183a033678d1784169fb") {\n      ...ConversationAdsMessageContent\n    }\n    forwardedMessageContent @recipeType(name: "com.linkedin.11a42b0fe31f4e10f96d7d6a9d04387e") {\n      originalSender @recipeType(name: "com.linkedin.7191db3f68aa678cca83f1d52c3e478a") {\n        ...Participant\n      }\n      originalSendAt\n      forwardedBody @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n        ...AttributedText\n      }\n      footerText @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n    unavailableContent @recipeType(name: "com.linkedin.3cec67c0c234b30655be1c4893f7bcd4") {\n      contentType\n      unavailableReason @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment SyncMetadata on messenger_SyncMetadata {\n  deletedUrns {\n    conversation @recipeType(name: "com.linkedin.0d8ff88970ef6ffa8a6bcf6a5804f7e4") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    message @recipeType(name: "com.linkedin.3534d423e1e266c870d53cda731136a5") {\n      entityUrn\n      _recipeType\n      _type\n    }\n  }\n  newSyncToken\n  shouldClearCache\n  _recipeType\n  _type\n}',variablesTypes:{properties:{criteria:{isRequired:!0,kind:"Array",type:"Array",innerType:{type:"messenger_MessagesFindBySyncTokenCriteriaInput",isRequired:!0,kind:"Object"}}},types:{messenger_MessagesFindBySyncTokenCriteriaInput:{kind:"Object",type:"messenger_MessagesFindBySyncTokenCriteriaInput",fields:{conversationUrn:{type:"String",isRequired:!0,kind:"Scalar"},syncToken:{type:"String",isRequired:!1,kind:"Scalar"}}}}}}),ps=Ko({kind:"query",id:"messengerMailboxRealtimeSubscriptionAuthorizationTokens.1a3b0efc0a0a2c24c23367b5f8a25e62",typeName:"com.linkedin.606462b788cb71b5e1a280f01897a453",name:"realtime-subscription-auth-tokens",source:'query realtimeSubscriptionAuthorizationTokenByMailboxUrnsInBatch($mailboxUrn: String!) @recipeType(name: "com.linkedin.606462b788cb71b5e1a280f01897a453") {\n  messengerMailboxRealtimeSubscriptionAuthorizationTokensByMailboxUrnsInBatch(\n    criteria: [{mailboxUrn: $mailboxUrn}]\n  ) @recipeType(name: "com.linkedin.0c346eec32dce42e0ac0e72ad5dcda02") {\n    elements @recipeType(name: "com.linkedin.dc035023eba03da4fb2704f0575e1c88") {\n      mailboxUrn\n      token\n      conversationsBroadcastTopicUrn\n      conversationDeletesBroadcastTopicUrn\n      messageReactionSummariesBroadcastTopicUrn\n      messageSeenReceiptsBroadcastTopicUrn\n      messagesBroadcastTopicUrn\n      replySuggestionBroadcastTopicUrn\n      typingIndicatorsBroadcastTopicUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}',variablesTypes:{properties:{mailboxUrn:{type:"String",isRequired:!0,kind:"Scalar"}},types:{}}}),fs=function(){return si()},hs=function(e,t){if(!e||"query"!==e.kind){var n=mt.CANNOT_QUERY_FRAGMENT
throw new Tt("graphql",n.code,n.message)}var r={}
"full"===t.queryFormat&&e.source?r.query=e.source:r.queryId=e.id
for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o]
var s=a[0]
return r.variables=s||{},Fo("graphql",t.messengerResource,"graphql",r)}
function ms(e){return function(t){var n=function(e){return Go.get(e)}(e)
if(!n)throw Tt.fromGraphQLErrorMemo("GRAPHQL_INVALID_LOOKUP")
var r=zo(n)
return hs(r,t,arguments.length<=1?void 0:arguments[1])}}var gs,ys=ms(Jo),vs=ms(ss),bs=ms(rs),Ts=ms(Xo),_s=ms(Qo),Es=ms(Yo),xs=ms(ts),Ss=ms(ns),Cs=ms(Zo),As=ms(es),ks=ms(os),Is=ms(ds),Rs=ms(us),ws=ms(ls),Ms=ms(cs),Os=ms(as),Ns=ms(is),Ps=ms(ps),Us=function(e){return Fo("restli",e.messengerResource,"messengerMessages",{action:"createMessage"})},Ds=function(e){return Fo("restli",e.messengerResource,"messengerMessages",{action:"createMessage"})}
gs=Symbol.iterator
var Ls,Fs,Bs=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]
ne(this,e),ae(this,"_idx",0),ae(this,"_messages",void 0),ae(this,"_clientIdIndex",void 0),ae(this,"_entityUrnIndex",void 0),this._messages=qt(t),this._clientIdIndex=new Map(t.map((function(e){return[e.clientId,e]}))),this._entityUrnIndex=new Map(t.filter(xe).map((function(e){return[e.entityUrn,e]})))}return ie(e,[{key:"length",get:function(){return this._messages.length}},{key:"at",value:function(e){if(e>=0&&e<this._messages.length)return this._messages[e]
throw new Error("Index out of bounds")}},{key:"getByIdentifier",value:function(e){return $e(e)?this._entityUrnIndex.get(e):this._clientIdIndex.get(e)}},{key:"next",value:function(){return this._idx<this._messages.length?{done:!1,value:this._messages[this._idx++]}:(this._idx=0,{done:!0,value:null})}},{key:"first",value:function(){try{return this.at(0)}catch(e){return}}},{key:"last",value:function(){try{return this.at(this.length-1)}catch(e){return}}},{key:gs,value:function(){return this}},{key:"map",value:function(e){return Array.from(this,e)}},{key:"updateAny",value:function(t,n){return new e(be(t,n)(this._messages))}},{key:"updateByUrn",value:function(t,n){return this._entityUrnIndex.has(t)?new e(Te(Mt(t),Bt(n))(this._messages)):this}},{key:"updateByClientId",value:function(t,n){return this._clientIdIndex.has(t)?new e(Te(Nt(t),Bt(n))(this._messages)):this}},{key:"add",value:function(t){var n=this,r=t.filter(gn(Me,Qt(this._entityUrnIndex,this._clientIdIndex))).map((function(e){return n._clientIdIndex.has(e.clientId)?J(J({},e),{},{clientId:fs()}):e})),i=t.filter(Qt(this._entityUrnIndex,this._clientIdIndex)).map((function(e){return Bt(e)(n.getByIdentifier(e.entityUrn||e.clientId))})),a=new Map(i.map((function(e){return[e.clientId,!0]}))),o=this._messages.filter((function(e){return!a.has(e.clientId)}))
return new e([].concat(he(o),he(i),he(r)))}},{key:"removeByClientId",value:function(t){var n=this._messages.filter((function(e){return e.clientId!==t}))
return[this._clientIdIndex.get(t),new e(n)]}},{key:"removeByUrns",value:function(t){var n=this._messages.filter((function(e){return!e.entityUrn||!t.has(e.entityUrn)}))
return new e(n)}}]),e}(),js={continueOnFailure:!0,convCount:20,decorators:{},enableParameterTypeChecks:!0,experimental:{},graphQlQueryIds:{},headers:function(){return{}},mailboxType:"auto",messengerResource:{host:"/",path:"messenger/api/",graphQLPrefix:"",restliPrefix:""},mpName:"web-messenger-data",mpVersion:"1.0.0",msgCount:20,queryFormat:"id",realtimeHost:null,sendRetryTimeoutInSecond:16,syncRetryTimeoutInSecond:80,typingIndicatorDelayInSecond:5,useRealtime:!0,viewerUrn:""},qs=function(e){return e?e.filter(xe):[]},Vs=function(e){var t,n,r,i,a=new Date
return{additionalData:e.additionalData||null,backendConversationUrn:e.backendConversationUrn,backendUrn:e.backendUrn,clientId:null!==(t=e.clientId)&&void 0!==t?t:fs(),content:e.content,deliveredAt:e.deliveredAt?new Date(e.deliveredAt):a,entityUrn:e.entityUrn,footer:e.footer,inlineWarning:null!==(n=e.inlineWarning)&&void 0!==n?n:void 0,incompleteRetriableData:null!==(r=e.incompleteRetriableData)&&void 0!==r&&r,lastActivityAt:a,messageBodyRenderFormat:e.messageBodyRenderFormat||"DEFAULT",optionalSendData:null!==(i=e.optionalSendData)&&void 0!==i?i:{renderContent:[]},reactions:Hs(e.reactions),retries:e.retries||0,senderUrn:e.senderUrn,status:e.status||"Pending",subject:e.subject}},Hs=function(e){return(e||[]).filter(xe).map((function(e){return J(J({},e),{},{reactors:[]})}))},Gs=function(e){var t,n,r,i,a,o,s,c,d,u,l,p,f
return{backendUrn:e.backendUrn,categories:e.categories,contentMetadata:null!==(t=e.contentMetadata)&&void 0!==t?t:void 0,conversationTypeText:null!==(n=e.conversationTypeText)&&void 0!==n?n:void 0,conversationUrl:e.conversationUrl,createdAt:new Date(e.createdAt),creatorHostIdentityUrn:null===(r=e.creator)||void 0===r?void 0:r.hostIdentityUrn,disabledFeatures:null!==(i=e.disabledFeatures)&&void 0!==i?i:[],groupChat:null!==(a=e.groupChat)&&void 0!==a&&a,headlineText:null!==(o=e.headlineText)&&void 0!==o?o:void 0,hostConversationActions:e.hostConversationActions,incompleteRetriableData:null!==(s=e.incompleteRetriableData)&&void 0!==s&&s,lastActivityAt:new Date(e.lastActivityAt),lastReadAt:e.lastReadAt?new Date(e.lastReadAt):void 0,metadata:{},notificationStatus:e.notificationStatus,participants:(null!==(c=e.conversationParticipants)&&void 0!==c?c:[]).filter(xe).map((function(e){return e.hostIdentityUrn})).filter(xe).sort(),quickReplies:null!==(d=e.quickReplies)&&void 0!==d?d:[],read:e.read,seenReceiptsMap:null!==(u=e.seenReceiptsMap)&&void 0!==u?u:{},shortHeadlineText:null!==(l=e.shortHeadlineText)&&void 0!==l?l:void 0,state:null!==(p=e.state)&&void 0!==p?p:void 0,status:{},title:null!==(f=e.title)&&void 0!==f?f:void 0,unreadCount:e.unreadCount}},Ks=function(e,t,n){var r=new Date(Date.now())
return{clientId:fs(),content:null!=t?t:{text:"",attributes:[]},lastActivityAt:r,optionalSendData:null!=n?n:{renderContent:[]},senderUrn:e,status:"Draft"}},Ws=function(e){return J(J({},e),{},{additionalData:null,deliveredAt:new Date(Date.now()),messageBodyRenderFormat:"DEFAULT",reactions:[],incompleteRetriableData:!1,retries:0,status:"Pending"})},zs=function(e){var t,n=new Date
return{clientId:e.clientId,content:e.content,optionalSendData:e.optionalSendData,lastActivityAt:null!==(t=e.lastActivityAt)&&void 0!==t?t:n,senderUrn:e.senderUrn,status:"Draft"}},$s=function(e){return he(e?e.map((function(e){return Qs(e)})):[])},Xs=function(e,t,n){var r,i,a,o,s,c,d,u,l,p,f,h
if(!e.entityUrn)throw Tt.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"conversationResponseToState: convoResponse.entityUrn is null or undefined"})
var m=e.creator&&e.creator.hostIdentityUrn?Qs(e.creator):void 0,g=null!==(r=null===(i=e.messages)||void 0===i?void 0:i.elements)&&void 0!==r?r:[],y=ac(g),v=y.messages,b=y.participants,T=$s(e.conversationParticipants),_=null===(a=e.conversationParticipants)||void 0===a?void 0:a.map((function(e){return e.hostIdentityUrn})),E=nn(b,T),x=E
T.length!==E.length&&(x=E.filter((function(e){return null==_?void 0:_.includes(e.hostIdentityUrn)})))
var S=null!==(o=null===(s=e.creator)||void 0===s?void 0:s.hostIdentityUrn)&&void 0!==o?o:void 0,C={additionalData:null,backendUrn:e.backendUrn,categories:e.categories,clientId:fs(),contentMetadata:null!==(c=e.contentMetadata)&&void 0!==c?c:void 0,conversationTypeText:null!==(d=e.conversationTypeText)&&void 0!==d?d:void 0,conversationUrl:e.conversationUrl,createdAt:new Date(e.createdAt),creatorHostIdentityUrn:S,disabledFeatures:e.disabledFeatures,draftMessage:t,entityUrn:e.entityUrn,groupChat:null!==(u=e.groupChat)&&void 0!==u&&u,headlineText:null!==(l=e.headlineText)&&void 0!==l?l:void 0,incompleteRetriableData:e.incompleteRetriableData,lastActivityAt:new Date(e.lastActivityAt),lastReadAt:e.lastReadAt?new Date(e.lastReadAt):void 0,matchingSearches:n?[n]:[],messages:new Bs(v),quickReplies:[],metadata:{prevCursor:e.prevCursor,syncToken:void 0},notificationStatus:e.notificationStatus,participants:x.map((function(e){return e.hostIdentityUrn})).sort(),read:e.read,shortHeadlineText:null!==(p=e.shortHeadlineText)&&void 0!==p?p:void 0,state:null!==(f=e.state)&&void 0!==f?f:void 0,status:{fullyLoaded:!1,loading:!1,sending:"Ready"},title:null!==(h=e.title)&&void 0!==h?h:void 0,typingUrns:new Set,unreadCount:e.unreadCount,hostConversationActions:e.hostConversationActions}
return m&&!E.find((function(e){return e.hostIdentityUrn===m.hostIdentityUrn}))&&E.push(m),[C,E]},Qs=function(e){var t,n,r
if(!e.hostIdentityUrn)throw Tt.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"messageParticipantDataToState: hostIdentityUrn is missing"})
if(null!==(t=e.participantType)&&void 0!==t&&t.member||null!==(n=e.participantType)&&void 0!==n&&n.organization||null!==(r=e.participantType)&&void 0!==r&&r.custom){var i=e.participantType,a=i.member,o=i.organization,s=i.custom
if(s)return{kind:"CUSTOM",additionalData:null,clientId:fs(),entityUrn:e.entityUrn,hostIdentityUrn:e.hostIdentityUrn,backendUrn:e.backendUrn,name:s.name,image:s.image}
if(o)return{kind:"ORGANIZATION",additionalData:null,clientId:fs(),entityUrn:e.entityUrn,hostIdentityUrn:e.hostIdentityUrn,backendUrn:e.backendUrn,name:o.name,tagline:o.tagline,logo:o.logo,pageType:o.pageType,pageUrl:o.pageUrl,following:o.following,industryName:o.industryName}
if(a){var c,d,u,l,p,f,h,m,g,y={url:null!==(c=a.profileUrl)&&void 0!==c?c:void 0,picture:a.profilePicture&&a.profilePicture.rootUrl?{rootUrl:a.profilePicture.rootUrl,artifacts:a.profilePicture.artifacts.filter(xe)}:void 0}
return{kind:"MEMBER",additionalData:null,clientId:fs(),entityUrn:e.entityUrn,firstName:a.firstName.text,hostIdentityUrn:e.hostIdentityUrn,backendUrn:e.backendUrn,lastName:null!==(d=null===(u=a.lastName)||void 0===u?void 0:u.text)&&void 0!==d?d:"",headline:null!==(l=null===(p=a.headline)||void 0===p?void 0:p.text)&&void 0!==l?l:"",pronoun:{customPronoun:null!==(f=null===(h=a.pronoun)||void 0===h?void 0:h.customPronoun)&&void 0!==f?f:"",standardizedPronoun:null!==(m=null===(g=a.pronoun)||void 0===g?void 0:g.standardizedPronoun)&&void 0!==m?m:""},profile:y}}}return{kind:"EMPTY",additionalData:null,clientId:fs(),entityUrn:e.entityUrn,hostIdentityUrn:e.hostIdentityUrn,backendUrn:e.backendUrn}},Ys=function(e){return null!==e},Js=function(e,t){var n,r=null===(n=e.data)||void 0===n?void 0:n.messengerConversationsByRecipients.elements.filter(Ys)
if(!r)throw Tt.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"recipientConversationsToState: messengerConversationsByRecipients response does not contain non-null elements"})
return tc(r,t)},Zs=function(e,t){var n,r=null===(n=e.data)||void 0===n?void 0:n.messengerConversationsByIds
if(!r)throw Tt.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"getConversationsToState: messengerConversationsByIds response is missing"})
return J(J({},tc(r,t)),{},{requestId:e.requestId})},ec=function(e){return e&&e.length?e.reduce((function(e,t){return function(e,t){if(t&&t.participantType&&!e[t.entityUrn]){var n=Qs(t)
return J(J({},e),{},ae({},n.hostIdentityUrn,n))}return e}(e,t)}),{}):{}},tc=function(e,t){var n={},r=e.filter(Ys).map((function(e){var r=fe(Xs(e,t),2),i=r[0]
return r[1].forEach((function(e){n[e.hostIdentityUrn]=e})),i}))
return{conversations:r,participants:n}},nc=function(e){var t
dc(e,"messengerMessagesBySyncToken")
var n=null===(t=e.data)||void 0===t?void 0:t.messengerMessagesBySyncToken
if(!n)throw Tt.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"syncMessagesToMessageStates: messengerMessagesBySyncToken response is missing"})
return rc(n,e.requestId)},rc=function(e,t){var n,r,i,a,o,s,c=null===(n=e.metadata)||void 0===n?void 0:n.newSyncToken,d=null!==(r=null===(i=e.metadata)||void 0===i?void 0:i.shouldClearCache)&&void 0!==r&&r,u=null!==(a=null===(o=e.metadata)||void 0===o?void 0:o.deletedUrns)&&void 0!==a?a:[],l=(null!==(s=e.elements)&&void 0!==s?s:[]).filter(xe),p=ac(l)
return{messages:new Bs(p.messages),newSyncToken:c,shouldClearCache:d,deletedUrns:u,participants:p.participants,requestId:t}},ic=function(e,t,n){if(t.originToken&&t.originToken!==n)throw Tt.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{cause:new Error("Invalid originToken ".concat(t.originToken," - expected ").concat(n)),msg:"messagePostToState: MessagePostResponse originToken does not match with the clientId"})
return{clientId:n,content:(r=t,o=(null!==(i=r.body.attributes)&&void 0!==i?i:[]).filter(xe),s=o.find((function(e){return e.attributeKindUnion})),J(J({},r.body),{},s?{attributes:o.map((function(e){return{start:e.start,length:e.length,attributeKind:e.attributeKindUnion}}))}:{attributes:null!==(a=r.body.attributes)&&void 0!==a?a:[]})),entityUrn:t.entityUrn,backendConversationUrn:t.backendConversationUrn,backendUrn:t.backendUrn,lastActivityAt:new Date(t.deliveredAt),deliveredAt:new Date(t.deliveredAt),senderUrn:e,status:"Sent",subject:t.subject}
var r,i,a,o,s},ac=function(e){var t=ec(e.reduce((function(e,t){return[].concat(he(e),[t.sender])}),[])),n=e.reduce((function(e,t){var n=function(e){var t,n,r,i
if(!e.sender.hostIdentityUrn)throw Tt.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"singleMessageAndParticipantsToState: sender hostIdentityUrn is missing"})
var a=Qs(e.sender),o=cc(qs(e.renderContent)),s=o.data,c=o.participants
return{participants:nn([a],c).sort(),message:{additionalData:null,clientId:fs(),content:null!==(t=e.body)&&void 0!==t?t:{text:"",attributes:[]},optionalSendData:s,inlineWarning:null!==(n=e.inlineWarning)&&void 0!==n?n:void 0,incompleteRetriableData:e.incompleteRetriableData,deliveredAt:new Date(e.deliveredAt),entityUrn:e.entityUrn,backendConversationUrn:e.backendConversationUrn,backendUrn:e.backendUrn,footer:null!==(r=e.footer)&&void 0!==r?r:void 0,subject:null!==(i=e.subject)&&void 0!==i?i:void 0,messageBodyRenderFormat:e.messageBodyRenderFormat,reactions:Hs(e.reactionSummaries),retries:0,senderUrn:e.sender.hostIdentityUrn,status:"Delivered"}}}(t),r=n.participants,i=n.message
return{messages:[].concat(he(e.messages),[i]),participants:nn(r,e.participants)}}),{messages:[],participants:[]}),r=nn(n.participants,Ce(t))
return r.sort(),{messages:n.messages,participants:r}},oc=function(e){return"search"===e.kind},sc=function(e){if(!e.data||!e.data.messengerMailboxCountsByMailbox||!e.data.messengerMailboxCountsByMailbox.elements)throw Tt.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"mailboxUnreadCountsResponseToUnreadCounts: messengerMailboxCountsByMailbox response is missing"})
return function(e,t){return{counters:e.reduce((function(e,t){var n
return J(J({},e),{},ae({},t.category,(null!==(n=e[t.category])&&void 0!==n?n:0)+t.unreadConversationCount))}),{}),requestId:t}}(e.data.messengerMailboxCountsByMailbox.elements.filter(xe),e.requestId)},cc=function(e){var t={}
return{data:{renderContent:e.map((function(e){var n,r,i=e.forwardedMessageContent?(n=e.forwardedMessageContent,r=Qs(n.originalSender),{content:{originalSendAt:n.originalSendAt,originalSenderUrn:n.originalSender.hostIdentityUrn,forwardedBody:n.forwardedBody,footerText:n.footerText},participant:r}):{content:void 0,participant:void 0},a=i.content,o=i.participant
return o&&(t[o.hostIdentityUrn]=o),J(J({},De(e,"forwardedMessageContent")),{},{forwardedMessageContent:a})}))},participants:Ce(t)}},dc=function(e,t){var n=e.errors
if(n){var r=n.map((function(e){return Tt.buildGraphQLPayloadError(e,t)})),i=n.filter((function(e){return void 0!==e.extensions&&void 0!==e.extensions.status})).map((function(e){var t
return null===(t=e.extensions)||void 0===t?void 0:t.status})).filter(xe)
throw Tt.fromApiErrorMemo("ERRORS_IN_RESPONSE",{cause:r,msg:t,originalStatusCodes:i})}},uc=0,lc=function(){return uc+=1},pc={accept:"application/graphql","x-restli-protocol-version":"2.0.0"},fc=function(e){pc=J(J({},pc),e())},hc=function(e){var t=lc(),n=function(e,t){var n={url:t,request:{}},r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
return function(e){const{path:t,queryString:n}=Ro(e)
if(t.length>Lo)throw new Error(`Per AFD limitations, this request url ${e} will not work. Please contact ask_traffic@.`)
return e.length>Lo||n.length>4e3}(e)?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
const n=Object.assign({},t)
n.url=e,n.forceQueryTunnel=!0
const r=function(e){if(!0===e.forceQueryTunnel){const{path:t,queryString:n}=Ro(e.url||void 0)
if(n){const r={}
for(const t in e.headers)"CONTENT-TYPE"!==t.toUpperCase()&&(r[t]=e.headers[t]||"")
let i,a
if(r["X-HTTP-Method-Override"]=e.method||"GET",e.body){const t=`RESTLI_${Date.now()}`
a="multipart/mixed; boundary="+t,i=["--"+t,"Content-Type: "+Uo,"",n,"--"+t,"Content-Type: application/json","",e.body,"--"+t+"--"].join("\r\n")}else a=Uo,i=n
return r["Content-Type"]=a,{body:i,headers:r,method:Do,url:t}}}const t={method:e.method,url:e.url}
return e.body&&(t.body=e.body),t}(n)
if(t.method=r.method,t.headers=r.headers,t.body=r.body,t.data=r.body,null==r.url)throw new Error("Invalid: URL to be encoded cannot be 'null' or 'undefined' when performing query tunneling")
return{url:r.url,request:t}}(e,t):{url:e,request:t}}("/".concat(t),{method:"GET"})
if(t&&r.url)return n.url=r.url.substring(1),n.request=r.request,{url:n.url,request:n.request}
throw Tt.fromClientErrorMemo("INVALID_URL")}(0,e),r=n.url,i=n.request
return Ls&&fc(Ls),fetch(r,{body:i.body,headers:J(J(J({},i.headers),pc),{},{accept:"application/graphql","x-restli-protocol-version":"2.0.0"}),method:i.method||"GET"}).then((function(e){return{response:e,requestId:t}}))},mc=function(e,t){var n=lc()
return Ls&&fc(Ls),fetch(e,{headers:J(J({},pc),{},{accept:"application/json"}),body:t,method:"POST"}).then((function(e){return{response:e,requestId:n}}))},gc=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Fo("restli",e.messengerResource,t,n),i=lc()
return fetch(r,{headers:J({"x-restli-protocol-version":"2.0.0"},pc),method:"DELETE"}).then((function(e){return{response:e,requestId:i}}))},yc=new Uint8Array(16)
function vc(){if(!Fs&&!(Fs="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")
return Fs(yc)}for(var bc=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Tc=[],_c=0;_c<256;++_c)Tc.push((_c+256).toString(16).substr(1))
function Ec(e,t,n){var r=(e=e||{}).random||(e.rng||vc)()
if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0
for(var i=0;i<16;++i)t[n+i]=r[i]
return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Tc[e[t+0]]+Tc[e[t+1]]+Tc[e[t+2]]+Tc[e[t+3]]+"-"+Tc[e[t+4]]+Tc[e[t+5]]+"-"+Tc[e[t+6]]+Tc[e[t+7]]+"-"+Tc[e[t+8]]+Tc[e[t+9]]+"-"+Tc[e[t+10]]+Tc[e[t+11]]+Tc[e[t+12]]+Tc[e[t+13]]+Tc[e[t+14]]+Tc[e[t+15]]).toLowerCase()
if(!function(e){return"string"==typeof e&&bc.test(e)}(n))throw TypeError("Stringified UUID is invalid")
return n}(r)}const xc="See https://go/pem/degradation-tracking-user-guide for instrumentation instructions"
class Sc{constructor(e,t){this._collectedFeatureMetrics=e,this._fireEventCallback=t}}class Cc extends Sc{produceMetricEvent(e){this._collectedFeatureMetrics.flushMetrics().forEach((t=>{const n=[]
t.featureCallCounts.forEach((e=>{n.push({featureProductName:e.featureMetricIdentifier.productName,featureKey:e.featureMetricIdentifier.featureKey,degradedDownstreamCallCount:0,totalDownstreamCallCount:e.totalApiCallCount,retriedDownstreamCallCount:e.retriedApiCallCount,retriedSuccessfulDownstreamCallsRatio:e.retriedSuccessfulCallsRatio,pointOfPresenceId:e.featureMetricIdentifier.pointOfPresenceId,responseErrorTypeV2:e.featureMetricIdentifier.responseErrorType,successfulDownstreamCallsRatio:e.successfulApiCallsRatio,metricKey:{featureProductName:e.featureMetricIdentifier.productName,featureKey:e.featureMetricIdentifier.featureKey,pointOfPresenceId:e.featureMetricIdentifier.pointOfPresenceId,responseErrorTypeV2:e.featureMetricIdentifier.responseErrorType,responseFabric:e.featureMetricIdentifier.responseFabric}})}))
const r={header:{},requestHeader:{},time:Date.now(),metrics:n}
this._fireEventCallback("FeatureDegradationMetricEvent",r,t.pageInstance,e)}))}}class Ac{constructor(e){this._featureCallCounts=new Map,this._pageInstance=e}get pageInstance(){return this._pageInstance}get featureCallCounts(){return this._featureCallCounts}}class kc{constructor(e){this.featureMetricIdentifier=e}}function Ic(e){return JSON.stringify(e,Object.keys(e).sort())}class Rc extends Ac{trackSuccessfulFeatureApiCall(e){this.trackMetric(e,(e=>{e.successfulApiCallsRatio+=1,e.totalApiCallCount++}))}trackFailedFeatureApiCall(e,t){this.trackMetric(e,(e=>{e.successfulApiCallsRatio+=t,e.totalApiCallCount++}))}trackRetriedFeatureApiCall(e,t){this.trackMetric(e,(e=>{e.retriedApiCallCount++,e.retriedSuccessfulCallsRatio+=t}))}trackRetriedSuccessfulFeatureApiCall(e){this.trackMetric(e,(e=>{e.successfulApiCallsRatio++,e.totalApiCallCount++}))}changeRetriedMetricsToTotal(){this.featureCallCounts.forEach((e=>e.changeCallCountsFromRetriedToTotal()))}trackMetric(e,t){const n=Ic(e)
if(this.featureCallCounts.has(n))t(this.featureCallCounts.get(n))
else{const r=new wc(e)
t(r),this.featureCallCounts.set(n,r)}}}class wc extends kc{constructor(){super(...arguments),this.successfulApiCallsRatio=0,this.totalApiCallCount=0,this.retriedApiCallCount=0,this.retriedSuccessfulCallsRatio=0}mergeCallCounts(e){return this.successfulApiCallsRatio+=e.successfulApiCallsRatio,this.totalApiCallCount+=e.totalApiCallCount,this.retriedApiCallCount+=e.retriedApiCallCount,this.retriedSuccessfulCallsRatio+=e.retriedSuccessfulCallsRatio,this}changeCallCountsFromRetriedToTotal(){this.totalApiCallCount+=this.retriedApiCallCount,this.successfulApiCallsRatio+=this.retriedSuccessfulCallsRatio,this.retriedApiCallCount=0,this.retriedSuccessfulCallsRatio=0}}class Mc{flushMetrics(){const e=[...this.metrics.values()]
return this.metrics=new Map,e}}class Oc extends Mc{constructor(){super(...arguments),this.metrics=new Map}incrementSuccessfulFeatureApiCall(e,t){this.incrementMetric(t,(t=>t.trackSuccessfulFeatureApiCall(e)))}incrementFailedFeatureApiCall(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0
this.incrementMetric(t,(t=>t.trackFailedFeatureApiCall(e,n)))}incrementRetriedFeatureApiCall(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0
this.incrementMetric(t,(t=>t.trackRetriedFeatureApiCall(e,n)))}incrementRetriedSuccessfulApiCall(e,t){this.incrementMetric(t,(t=>t.trackRetriedSuccessfulFeatureApiCall(e)))}mergeMetricsFrom(e){e.metrics.forEach(((e,t)=>{const n=this.metrics.get(t)
void 0!==n?e.featureCallCounts.forEach(((e,r)=>{var i
let a=n.featureCallCounts.get(r)
void 0!==a?a=a.mergeCallCounts(e):null===(i=this.metrics.get(t))||void 0===i||i.featureCallCounts.set(t,e)})):this.metrics.set(t,e)}))}changeRetriedMetricsToTotal(){this.metrics.forEach((e=>e.changeRetriedMetricsToTotal()))}incrementMetric(e,t){const n=Ic(e)
if(this.metrics.has(n))t(this.metrics.get(n))
else{const r=new Rc(e)
t(r),this.metrics.set(n,r)}}}var Nc
!function(e){e.ProductName="productName",e.AdditionalDegradedResponseCodes="additionalDegradedResponseCodes",e.NonDegradedResponseCodes="nonDegradedResponseCodes",e.DegradationKeyOverrides="degradationKeyOverrides",e.ClientSensorGroupName="clientSensorGroupName",e.EnablePerformanceMeasurement="enablePerformanceMeasurement",e.CustomTrackingId="customTrackingId",e.DisableAvailabilityCalculation="disableAvailabilityCalculation",e.EnableSessionRecording="enableSessionRecording"}(Nc||(Nc={}))
const Pc=new Set(Object.values(Nc))
class Uc extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Uc.prototype)}}function Dc(e){return 0===e.length||!e.trim()}function Lc(e){if("string"!=typeof e)throw new Uc(`The product name must be a string. ${xc}.`)
if(Dc(e))throw new Uc(`No product name was specified. Please configure a defaultProductName or specify it per instrumented API call. ${xc}.`)
if(/[^a-zA-Z0-9-_ \\/]/.test(e))throw new Uc(`Product name '${e}' can only contain alphanumeric, underscores (_), spaces ( ), dashes (-) and forward slashes (/). ${xc}.`)
return e}function Fc(e){if("string"!=typeof e)throw new Uc(`Keys must be strings. ${xc}.`)
if(Dc(e))throw new Uc(`Keys should not be blank. ${xc}.`)
if(/[^a-z0-9-]/.test(e))throw new Uc(`'${e}' can only contain lowercase alphanumeric characters and dashes (-). ${xc}.`)
return e}class Bc{constructor(e,t,n){var r,i,a
if(this._shouldEnablePerformanceMeasurement=!1,this._shouldDisableAvailabilityCalculation=!1,this._shouldRecordSession=!1,this._featureKey=Fc(e),this._defaultDegradationKey=Fc(t),!n)return this._additionalDegradedResponseCodes=[],this._nonDegradedResponseCodes=[],void(this._degradationKeyOverrides=[])
if("object"!=typeof n)throw new Uc(`DegradationTrackingMetadata options should be an object. ${xc}.`)
const o=n.productName
o&&(this._productName=Lc(o))
const s=n.additionalDegradedResponseCodes,c=n.nonDegradedResponseCodes
!function(e,t){const n=(e,t)=>{if("number"!=typeof(n=e)||!isFinite(n)||Math.floor(n)!==n||e<=0||e>999)throw new Uc(`Please only specify positive integer response codes between 1 and 999 for the ${t} option. ${e} was specified. ${xc}.`)
var n
if(429===e||999===e)throw new Uc(`PEM does not consider 429 and 999 API responses indications of the real member experience because it represents LinkedIn throttling abusive requests. We drop 429s and 999s by default, so please remove them from your ${t} options.`)
if(t===Nc.NonDegradedResponseCodes&&e>=400&&e<500)throw new Uc(`For server responses that have a status code, PEM does not consider 4xx as degraded. ${e} is not considered a degradation unless you explicitly add it to the ${Nc.AdditionalDegradedResponseCodes} option. Please remove ${e} from the ${Nc.NonDegradedResponseCodes} option. ${xc}.`)}
if(void 0!==e&&!Array.isArray(e))throw new Uc(`Please specify an array of positive integer response codes between 1 and 999 for the response codes that shouldn't be counted as degraded for the ${Nc.NonDegradedResponseCodes} option. ${xc}.`)
if(void 0!==t&&!Array.isArray(t))throw new Uc(`Please specify an array of positive integer response codes between 1 and 999 for the response codes that should only be considered as the degraded state(s) for the ${Nc.AdditionalDegradedResponseCodes} option. ${xc}.`)
null==e||e.forEach((e=>n(e,Nc.NonDegradedResponseCodes))),null==t||t.forEach((e=>n(e,Nc.AdditionalDegradedResponseCodes)))
const r=new Set(t),i=new Set(e)
if([...r].some((e=>i.has(e))))throw new Uc(`Response codes can't be both degraded and non-degraded. Please ensure that your additionalDegradedResponseCodes and nonDegradedResponseCodes don't have any overlapping response codes. ${xc}.`)}(c,s),this._nonDegradedResponseCodes=c||[],this._additionalDegradedResponseCodes=s||[],this._degradationKeyOverrides=n.degradationKeyOverrides||[],this._clientSensorGroupName=n.clientSensorGroupName,this._shouldEnablePerformanceMeasurement=null!==(r=n.enablePerformanceMeasurement)&&void 0!==r&&r,this._customTrackingId=n.customTrackingId,this._shouldDisableAvailabilityCalculation=null!==(i=n.disableAvailabilityCalculation)&&void 0!==i&&i,this._shouldRecordSession=null!==(a=n.enableSessionRecording)&&void 0!==a&&a,function(e){Object.keys(e).forEach((e=>{if(!Pc.has(e))throw new Uc(`An unsupported degradation tracking option '${e}' was provided. Please fix or remove it. ${xc}`)}))}(n)}static isDegradationTrackingMetadata(e){return null!=e&&Object.getOwnPropertyNames(Bc.prototype).every((t=>Object.hasOwnProperty.call(Object.getPrototypeOf(e),t)))}get featureKey(){return this._featureKey}get defaultDegradationKey(){return this._defaultDegradationKey}get degradationKey(){return this._defaultDegradationKey}get productName(){return this._productName}get additionalDegradedResponseCodes(){return this._additionalDegradedResponseCodes}get nonDegradedResponseCodes(){return this._nonDegradedResponseCodes}get degradationKeyOverrides(){return this._degradationKeyOverrides}get clientSensorGroupName(){return this._clientSensorGroupName}get shouldEnablePerformanceMeasurement(){return this._shouldEnablePerformanceMeasurement}get customTrackingId(){return this._customTrackingId}get shouldDisableAvailabilityCalculation(){return this._shouldDisableAvailabilityCalculation}get shouldRecordSession(){return this._shouldRecordSession}}class jc{constructor(e){this._degradationTrackingMetadata=e,this._featureMetricStore=new Oc,this._lastRequestMetricStore=new Oc,this._requestsMade=0,this._trackingId=Ec()}static isRetryableDegradationTrackingMetadata(e){return null!=e&&Object.getOwnPropertyNames(jc.prototype).every((t=>Object.hasOwnProperty.call(Object.getPrototypeOf(e),t)))}get degradationTrackingMetadata(){return this._degradationTrackingMetadata}get featureMetricStore(){return this._featureMetricStore}get currentRequestSequenceId(){return this._requestsMade-1}get flowTrackingId(){return this._trackingId}get shouldDisableAvailabilityCalculation(){return this._degradationTrackingMetadata.shouldDisableAvailabilityCalculation}get featureKey(){return this._degradationTrackingMetadata.featureKey}get defaultDegradationKey(){return this._degradationTrackingMetadata.defaultDegradationKey}get productName(){return this._degradationTrackingMetadata.productName}get nonDegradedResponseCodes(){return new Set(this._degradationTrackingMetadata.nonDegradedResponseCodes)}get additionalDegradedResponseCodes(){return this._degradationTrackingMetadata.additionalDegradedResponseCodes}get degradationKeyOverrides(){return this._degradationTrackingMetadata.degradationKeyOverrides}get customTrackingId(){return this._degradationTrackingMetadata.customTrackingId}get clientSensorGroupName(){return this._degradationTrackingMetadata.clientSensorGroupName}get shouldEnablePerformanceMeasurement(){return this._degradationTrackingMetadata.shouldEnablePerformanceMeasurement}incrementRetriedFeatureApiCall(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0
this._requestsMade++,this._featureMetricStore.mergeMetricsFrom(this._lastRequestMetricStore),this._lastRequestMetricStore.flushMetrics(),this._lastRequestMetricStore.incrementRetriedFeatureApiCall(e,t,n)}incrementRetriedSuccessfulApiCall(e,t){this._requestsMade++,this._featureMetricStore.mergeMetricsFrom(this._lastRequestMetricStore),this._lastRequestMetricStore.flushMetrics(),this._lastRequestMetricStore.incrementRetriedSuccessfulApiCall(e,t)}flushMetricStoreToServiceStore(e){this._lastRequestMetricStore.changeRetriedMetricsToTotal(),this._featureMetricStore.mergeMetricsFrom(this._lastRequestMetricStore),e.mergeMetricsFrom(this._featureMetricStore),this._featureMetricStore.flushMetrics(),this._lastRequestMetricStore.flushMetrics()}}class qc extends Bc{static isFailureTrackingMetadata(e){return"object"==typeof e&&(null==e?void 0:e.constructor.name)===qc.name}}class Vc{constructor(e,t){if(this._additionalDegradedResponseCodes=new Set,this._degradationKeyByResponseCode=new Map,this._shouldDisableAvailabilityCalculation=!1,this._shouldRecordSession=!1,this._retryableTrackingMetadata=null,!jc.isRetryableDegradationTrackingMetadata(e)&&!Bc.isDegradationTrackingMetadata(e)&&!qc.isFailureTrackingMetadata(e))throw new Uc("We encountered a bug where we forgot to provide the tracking metadata as an argument. Please report it to the #pem team.")
if(!t)throw new Uc("We encountered a bug where we forgot to provide the product name as an argument. Please report it to the #pem team.")
this._featureKey=e.featureKey,this._productName=t,this._clientSensorGroupName=e.clientSensorGroupName,this._defaultDegradationKey=e.defaultDegradationKey
let n=Bc.isDegradationTrackingMetadata(e)?e:void 0
jc.isRetryableDegradationTrackingMetadata(e)&&(n=e.degradationTrackingMetadata,this._retryableTrackingMetadata=e),void 0!==n?(this._nonDegradedResponseCodes=new Set(n.nonDegradedResponseCodes),this._customTrackingId=n.customTrackingId,this._shouldDisableAvailabilityCalculation=n.shouldDisableAvailabilityCalculation,this._shouldRecordSession=n.shouldRecordSession,n.additionalDegradedResponseCodes.length&&(this.processAdditionalDegradedResponseCodes(e.additionalDegradedResponseCodes),this.initializeDegradationKeyOverrides(e.degradationKeyOverrides))):(this._nonDegradedResponseCodes=new Set(e.nonDegradedResponseCodes),this._customTrackingId=e.customTrackingId,this.processAdditionalDegradedResponseCodes(e.additionalDegradedResponseCodes),this.initializeDegradationKeyOverrides(e.degradationKeyOverrides))}getDegradationKey(e){return this._degradationKeyByResponseCode.has(e)?this._degradationKeyByResponseCode.get(e):this._defaultDegradationKey}get featureKey(){return this._featureKey}get productName(){return this._productName}get customTrackingId(){return this._customTrackingId}get clientSensorGroupName(){return this._clientSensorGroupName}get shouldDisableAvailabilityCalculation(){return this._shouldDisableAvailabilityCalculation}get shouldRecordSession(){return this._shouldRecordSession}get retryableTrackingMetadata(){return this._retryableTrackingMetadata}get retryMetricStore(){var e,t
return void 0!==(null===(e=this._retryableTrackingMetadata)||void 0===e?void 0:e.featureMetricStore)?null===(t=this._retryableTrackingMetadata)||void 0===t?void 0:t.featureMetricStore:null}isCountedAgainstAvailability(e,t){return null!==e&&(null==t||this.canResponseCodeCountAgainstAvailability(t))}canResponseCodeCountAgainstAvailability(e){if(this._degradationKeyByResponseCode.has(e))return!0
if(this._additionalDegradedResponseCodes.has(e))return!0
const t=e>=400&&e<500,n=this._nonDegradedResponseCodes.has(e)
return!t&&!n}shouldImpactAvailability(e,t,n){return!(e&&"CLIENT_ABORTED"===e||"BLOCKED_BY_CLIENT_PROXY"===e||!(null==n?void 0:n.hasAnyLinkedInHeaders())&&t&&t>=400&&t<600||"TOO_MANY_REQUESTS"===e)}processAdditionalDegradedResponseCodes(e){e.forEach((e=>{if(this._nonDegradedResponseCodes.has(e))throw new Uc(`You attempted to specify ${e} as an additional degraded response code for the '${this.featureKey}' feature, however it is also specified in the non-degraded response codes for that feature. Please decide whether you want to consider ${e} responses a degraded state or not. ${xc}.`)
this._additionalDegradedResponseCodes.add(e)}))}initializeDegradationKeyOverrides(e){e.forEach((e=>{if(!e.responseCodesToOverride||!e.degradationKey||!Array.isArray(e.responseCodesToOverride)||"string"!=typeof e.degradationKey)throw new Uc(`Degradation key overrides must consist of an array of responseCodesToOverride and a string degradationKey. ${xc}.`)
new Set(e.responseCodesToOverride).forEach((t=>{if(!this.canResponseCodeCountAgainstAvailability(t))throw new Uc(`A degradation key override was specified for ${t}, but that response code isn't considered degraded. Please add it to additionalDegradedResponseCodes if you want it to count against your availability.`)
this._degradationKeyByResponseCode.set(t,e.degradationKey)}))}))}}class Hc{constructor(e){const t=new Map
null==e||e.forEach(((e,n)=>{t.set(n.toLowerCase(),e)})),this._callTreeId=t.get("x-li-uuid")||null,this._pointOfPresenceId=t.get("x-li-pop")||null,this._msEdgeRef=t.get("x-msedge-ref")||null,this._fabric=t.get("x-li-fabric")||null,this._responseMetadata=t.get("x-li-pem-resp-meta")||null,this._downstreamAvailability=function(e){if(null==e)return null
const t=e.split(",")
for(const e of t){const t=e.split("=",2)
if(2===t.length&&"availability"===t[0]){const e=parseFloat(t[1])
if(e>=0&&e<=1)return e}}return null}(this._responseMetadata)||1}get callTreeId(){return this._callTreeId}get pointOfPresenceId(){return this._pointOfPresenceId}get microsoftEdgeReference(){return this._msEdgeRef}get fabric(){return this._fabric}get downstreamAvailability(){return this._downstreamAvailability}hasAnyLinkedInHeaders(){return!!(this._fabric||this._pointOfPresenceId||this._msEdgeRef||this._callTreeId)}}class Gc{constructor(e,t,n,r){this._responseCode=e||null,this._parsedResponseHeaders=t?new Hc(t):new Hc,this._responseError=n||null,this._downstreamServiceErrorCode=r}get responseCode(){return this._responseCode}get parsedHeaders(){return this._parsedResponseHeaders}get responseError(){return this._responseError}set responseError(e){this._responseError=e}get downstreamServiceErrorCode(){return this._downstreamServiceErrorCode}set downstreamServiceErrorCode(e){this._downstreamServiceErrorCode=e}}const Kc="undefined"==typeof FastBoot
function Wc(e){e._metricsInterval&&window.clearInterval(e._metricsInterval),window.removeEventListener("visibilitychange",e._visibilityListener)}class zc{constructor(e,t,n){this._featureMetricStore=new Oc,this._visibilityListener=()=>{"hidden"===document.visibilityState&&this._metricSender.produceMetricEvent(!0)},this._defaultProductName=e,this._fireEventCallback=t,this._jetErrorCallback=n,this._metricSender=new Cc(this._featureMetricStore,t),Kc&&(this._metricsInterval=window.setInterval((()=>this._metricSender.produceMetricEvent()),6e4),window.addEventListener("visibilitychange",this._visibilityListener))}trackFeatureDegradationsForFetch(e,t,n,r,i){let a,o=null
const s=new Map,c=this._createFailureProcessingMetadata(n)
return t=this._getAndValidateUrlEntityIDs(t),r.then((e=>{o=e.status,e.headers.forEach(((e,t)=>s.set(t.toLowerCase(),e))),!1===e.ok&&(a=e)})).catch((e=>{throw a=e,e})).finally((()=>{this._trackResponse(e,o,t,c,i,s,a)}))}trackFeatureDegradationsForJQueryAjax(e,t,n,r,i,a){const o=t.status,s=t.getAllResponseHeaders(),c=new Map
s&&s.trim().split(/[\r\n]+/).forEach((e=>{const t=e.split(": "),n=t.shift()
if(n){const e=t.join(": ")
c.set(n.toLowerCase(),e)}}))
const d=a?null:t,u=this._createFailureProcessingMetadata(r)
n=this._getAndValidateUrlEntityIDs(n),this._trackResponse(e,o,n,u,i,c,d)}startRetryFlow(e){return zc.startRetryFlow(e)}static startRetryFlow(e){return new jc(e)}completeRetryFlow(e){if(!jc.isRetryableDegradationTrackingMetadata(e))throw new Uc("retryFlowMetadata must be an instance of RetryableDegradationTrackingMetadata")
e.flushMetricStoreToServiceStore(this._featureMetricStore)}_trackResponse(e,t,n,r,i,a,o){const s=new Gc(t,a,o),c=s.parsedHeaders,d=function(e){const t=e.responseError,n=e.parsedHeaders,r=e.responseCode
if(r){if(429===r||999===r)return"TOO_MANY_REQUESTS"
if(n&&!n.hasAnyLinkedInHeaders()&&r&&r>=400&&r<600)return"BLOCKED_BY_CLIENT_PROXY"
if((i=r)>=400&&i<500)return function(e){return 429===e?"TOO_MANY_REQUESTS":"CLIENT_ERROR"}(r)
if(function(e){return e>=500&&e<600}(r))return function(e){if(e){if(e.fabric)return"SERVER_ERROR"
if(e.pointOfPresenceId)return"TRAFFIC_LI_POP_TO_DC_ERROR"
if(e.microsoftEdgeReference)return"TRAFFIC_AFD_TO_LI_POP_ERROR"}return"SERVER_ERROR"}(n)
if(function(e,t){return!!(e>=200&&e<300&&t&&t.downstreamAvailability<1)}(r,n))return"DOWNSTREAM_GRACEFUL_DEGRADATION"}var i
if(!t)return null
if(t instanceof Error){if("AbortError"===t.name)return"CLIENT_ABORTED"
if(t instanceof TypeError&&(t.message.indexOf("Network request failed")>=0||t.message.indexOf("NetworkError when attempting to fetch resource")>=0||t.message.indexOf("Failed to fetch")>=0))return"NETWORK_ERROR"}else{if("timeout"===t.statusText)return"CLIENT_TIMEOUT"
if(0===t.status&&"abort"===t.statusText)return"CLIENT_ABORTED"
if("readyState"in t&&0===t.readyState)return"NETWORK_ERROR"}return"UNCLASSIFIED"}(s),u=function(e,t){if(!e.includes("/"))return e
const n=function(e){const t=document.createElement("a")
return t.href=e,t.pathname}(e),r=n.split("/").filter((e=>e.length))
if(!t.length)return r.join("/")
const i=[]
for(let e=r.length-1;e>=0;e--){const n=r[e],a=t.indexOf(n)
a>=0?t.splice(a,1):i.push(n)}return i.reverse().join("/")}(e,n),l=new Set,p=new Set
if(r.forEach((e=>{l.add(e.productName),p.add(e.featureKey)
const n=null!==e.retryableTrackingMetadata&&null!==e.retryMetricStore
!e.shouldDisableAvailabilityCalculation&&e.shouldImpactAvailability(d)&&(e.isCountedAgainstAvailability(d,t)?(n?e.retryableTrackingMetadata.incrementRetriedFeatureApiCall.bind(e.retryableTrackingMetadata):this._featureMetricStore.incrementFailedFeatureApiCall.bind(this._featureMetricStore))({featureKey:e.featureKey,productName:e.productName,pointOfPresenceId:c.pointOfPresenceId,responseErrorType:d,responseFabric:c.fabric},i,function(e,t){return"DOWNSTREAM_GRACEFUL_DEGRADATION"===e?t.downstreamAvailability:0}(d,c)):(n?e.retryableTrackingMetadata.incrementRetriedSuccessfulApiCall.bind(e.retryableTrackingMetadata):this._featureMetricStore.incrementSuccessfulFeatureApiCall.bind(this._featureMetricStore))({featureKey:e.featureKey,productName:e.productName,pointOfPresenceId:c.pointOfPresenceId,responseFabric:c.fabric},i))})),d){this._reportErrorIfUnclassified(o,d,t,l,p)
const e=function(e,t,n,r){if(!(null==e?void 0:e.trim())||!t||!Array.isArray(t))return[]
const i=[],a=r.responseCode
return t.forEach((t=>{const o=t.getDegradationKey(a),s=t.shouldImpactAvailability(n)&&t.isCountedAgainstAvailability(n,a),c={endpointPath:e,degradationKey:o,responseErrorTypeV2:n,isCountedAgainstAvailability:s,downstreamServiceErrorCode:r.downstreamServiceErrorCode}
a&&(c.responseCode=a)
const d=r.parsedHeaders
d.callTreeId&&(c.responseCallTreeId=d.callTreeId),(null==d?void 0:d.pointOfPresenceId)&&(c.pointOfPresenceId=d.pointOfPresenceId),(null==d?void 0:d.microsoftEdgeReference)&&(c.microsoftEdgeReference=d.microsoftEdgeReference),(null==d?void 0:d.fabric)&&(c.fabric=d.fabric),jc.isRetryableDegradationTrackingMetadata(t.retryableTrackingMetadata)&&(c.retryDetails={trackingId:t.retryableTrackingMetadata.flowTrackingId,sequenceId:t.retryableTrackingMetadata.currentRequestSequenceId}),i.push({header:{},requestHeader:{},productName:t.productName,featureKey:t.featureKey,failedDownstreamRequests:[c],customTrackingId:t.customTrackingId})})),i}(u,r,d,s)
e.forEach((e=>{this._fireEventCallback("FeatureDegradeEvent",e,i)}))}}_reportErrorIfUnclassified(e,t,n,r,i){var a
if((0===n||null==n)&&"UNCLASSIFIED"===t){const t=["noise","pem-unclassified-error"]
let n
r.forEach((e=>t.push(`pem-product-${e}`))),i.forEach((e=>t.push(`pem-feature-${e}`))),n=e instanceof Error?e:new Error(`Could not classify jQuery response: ${JSON.stringify(e)}`),null===(a=this._jetErrorCallback)||void 0===a||a.call(this,n,t,!1)}}_createFailureProcessingMetadata(e){if(!e||!Array.isArray(e)||!e.length)throw new Uc(`Please specify a non-empty array of degradation tracking metadata. ${xc}.`)
const t=new Set
return e.map((e=>{if(!Bc.isDegradationTrackingMetadata(e)&&!jc.isRetryableDegradationTrackingMetadata(e))throw new Uc(`Please use DegradationTrackingMetadata or RetryableDegradationTrackingMetadata to specify the degradations. ${xc}.`)
const n=Lc(e.productName||this._defaultProductName),r=`${n}!!${e.featureKey}`
if(t.has(r))throw new Uc("More than one degradation tracking metadata has the same productName/featureKey combination. Please merge them together")
return t.add(r),new Vc(e,n)}))}_getAndValidateUrlEntityIDs(e){if(!Array.isArray(e))throw new Uc(`Please specify the queried IDs to remove from the request URL, or use an empty array if there are none. ${xc}.`)
return e}}var $c=function(e,t,n){},Xc=function(){},Qc=function(e){return function(t,n,r,i){e(t,n)}},Yc=function(e,t,n,r){return function(){return e.track?gn(e.track(t,"READ",n,r),hc)(t):hc(t)}},Jc=function(e,t,n,r){return function(){return e.track?gn(e.track(t,"SEARCH",n,r),hc)(t):hc(t)}},Zc=function(e,t,n,r){return function(i){return e.track?gn(e.track(t,"WRITE",n,r),mc)(t,i):mc(t,i)}},ed=function(e){return function(t){return Promise.reject(Tt.fromApiErrorMemo("NETWORK_ERROR",{cause:t,msg:e}))}},td=function(e){return function(t){var n=t.response,r=t.requestId
return n?n.ok?n.json().then((function(e){return function(e){return function(e){return null!==e&&"object"===ee(e)&&!Array.isArray(e)}(e)&&"value"in e&&1===Object.keys(e).length}(e)?e.value:e})).then(function(e){return function(t){return J(J({},t),{},{requestId:e})}}(r)).catch((function(t){return Promise.reject(Tt.fromApiErrorMemo("RESPONSE_INVALID_JSON",{cause:t,msg:e}))})):n.json().catch((function(e){return Promise.reject(new Tt("api",n.status,n.statusText,e))})).then((function(t){return _t("".concat(e," failed"),t,n.status)})):Promise.reject(Tt.fromApiErrorMemo("NO_RESPONSE_RECEIVED",{msg:e}))}},nd=function(e){return function(t){var n=t.response,r=t.requestId
return n?n.ok?Promise.resolve({requestId:r}):n.json().then((function(t){return _t("".concat(e," failed"),t,n.status)})):Promise.reject(Tt.fromApiErrorMemo("NO_RESPONSE_RECEIVED",{msg:e}))}},rd=function(e,t,n,r){var i="getConversationById",a=ys(e,{messengerConversationsId:t,count:n}),o=td(i)
return Yc(e,a,i,r)().catch(ed(i)).then(o)},id=function(e,t,n,r){var i="getConversationsByIds",a=xs(e,{conversationIds:t,count:n}),o=td(i)
return Yc(e,a,i,r)().catch(ed(i)).then(o)},ad=function(e,t,n,r){var i="getSyncMessagesByConversationId",a={conversationUrn:t,syncToken:n}
n||delete a.syncToken
var o=Rs(e,a),s=td(i)
return Yc(e,o,i,r)().catch(ed(i)).then(s)},od=function(e,t,n){var r="initialSyncConversations",i=vs(e,{mailboxUrn:t}),a=td(r)
return Yc(e,i,r,n)().catch(ed(r)).then(a)},sd={category:"INBOX",count:20},cd=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:sd,i=arguments.length>4?arguments[4]:void 0,a="findConversationsByCursor",o=r.count,s=r.category,c=Ts(e,{category:s,count:o,mailboxUrn:t,nextCursor:n}),d=td(a)
return Yc(e,c,a,i)().catch(ed(a)).then(d)},dd=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:sd,i=arguments.length>4?arguments[4]:void 0,a="findConversationsByTimestamp",o=r.count,s={category:r.category,count:o,mailboxUrn:t}
null!==n&&(s.lastUpdatedBefore=n)
var c=Ts(e,s),d=td(a)
return Yc(e,c,a,i)().catch(ed(a)).then(d)},ud=function(e,t,n,r){var i="findConversationsByRecipients",a=_s(e,{mailboxUrn:t,recipients:n}),o=td(i)
return Yc(e,a,i,r)().catch(ed(i)).then(o)},ld=function(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7?arguments[7]:void 0,c="findConversationsBySearchCriteria",d={categories:n,count:20,firstDegreeConnections:i,mailboxUrn:t}
void 0!==a&&(d.read=a),null!==o&&(d.nextCursor=o),r&&r.trim().length>0&&(d.keywords=r)
var u=Es(e,d),l=td(c)
return Jc(e,u,c,s)().catch(ed(c)).then(l)},pd=function(e,t){var n="getMailboxUnreadCounts",r=bs(e,{mailboxUrn:t}),i=td(n)
return hc(r).catch(ed(n)).then(i)},fd=function(e,t,n){var r="updateConversation",i=nd(r),a=function(e,t){var n="messengerConversations/".concat(encodeURIComponent(t))
return Fo("restli",e.messengerResource,n)}(e,t)
return mc(a,n).catch(ed(r)).then(i)},hd=function(e,t,n){var r=JSON.stringify({patch:{$set:n}})
return fd(e,t,r)},md=function(e,t){var n="activateTypingStatus",r=JSON.stringify({conversationUrn:t}),i=nd(n),a=function(e){return Fo("restli",e.messengerResource,"messengerConversations",{action:"typing"})}(e)
return mc(a,r).catch(ed(n)).then(i)},gd=function(e,t,n,r,i,a,o){var s,c,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"NOT_DEDUPE",u="sendMessageToConversation",l=null!==(s=null==o?void 0:o.renderContent)&&void 0!==s?s:void 0,p=null!==(c=null==o?void 0:o.messageSubject)&&void 0!==c?c:void 0,f=De(J({},o),"renderContent","messageSubject"),h=J({message:{body:r,subject:p,renderContentUnions:l,conversationUrn:n,originToken:i},mailboxUrn:t,trackingId:a.trackingId,dedupeByClientGeneratedToken:"DEDUPE"===d},f),m=JSON.stringify(h),g=td(u),y=Us(e)
return Zc(e,y,u,a)(m).catch(ed(u)).then(g)},yd=function(e,t,n,r,i,a,o){var s,c,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"NOT_DEDUPE",u="sendFirstMessageToRecipients",l=null!==(s=null==o?void 0:o.renderContent)&&void 0!==s?s:void 0,p=null!==(c=null==o?void 0:o.messageSubject)&&void 0!==c?c:void 0,f=J({},o)
delete f.renderContent,delete f.messageSubject
var h=J({message:{body:n,subject:p,originToken:r,renderContentUnions:l},mailboxUrn:t,trackingId:a.trackingId,dedupeByClientGeneratedToken:"DEDUPE"===d,hostRecipientUrns:i},f),m=JSON.stringify(h),g=td(u),y=Ds(e)
return Zc(e,y,u,a)(m).catch(ed(u)).then(g)},vd=function(e,t,n){var r="reactWithEmojiAPI",i=JSON.stringify({messageUrn:t,emoji:n}),a=function(e){return Fo("restli",e.messengerResource,"messengerMessages",{action:"reactWithEmoji"})}(e),o=nd(r)
return mc(a,i).catch(ed(r)).then(o)},bd=function(e,t,n){var r="unreactWithEmojiAPI",i=JSON.stringify({messageUrn:t,emoji:n}),a=function(e){return Fo("restli",e.messengerResource,"messengerMessages",{action:"unreactWithEmoji"})}(e),o=nd(r)
return mc(a,i).catch(ed(r)).then(o)},Td={kind:"category",category:"INBOX"},_d=function(e){var t,n
return null===(t=At[e])||void 0===t||null===(n=t.store)||void 0===n?void 0:n.getState()},Ed=function(e,t,n,r,i){var a=J(J({},e.status),{},{fullyLoaded:i,nextCursor:r})
switch(t.kind){case"category":return"INBOX"===t.category?J(J({},e),{},{status:a,conversations:e.conversations.filtered((function(e){return tn(e,n)&&e.categories.includes("INBOX")&&!e.categories.some((function(e){return["SPAM","ARCHIVE"].includes(e)}))}))}):J(J({},e),{},{status:a,conversations:e.conversations.filtered((function(e){return tn(e,n)&&e.categories.includes(t.category)}))})
case"search":return J(J({},e),{},{status:a,conversations:e.conversations.filtered((function(e){return tn(e,n)&&e.matchingSearches.includes(t.id)}))})}},xd=function(e){var t
return null===(t=At[e])||void 0===t?void 0:t.store},Sd=function(e,t){var n=At[e]
St(n)&&n.observers.push(t)},Cd=function(e,t){var n=At[e]
return St(n)?(Ue(t.message),n.observers.forEach((function(e){return e.error(t)})),n.observers.length):0},Ad=function(e,t,n,r,i){return rd(e,n,20,i).then(function(e,t){return function(n){var r,i,a=null===(r=n.data)||void 0===r?void 0:r.messengerConversationsById,o=n.requestId
if(!a)throw Tt.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"conversationByIdResponseToState: messengerConversationsById response is missing"})
var s,c=a.backendUrn,d=a.categories,u=a.contentMetadata,l=a.conversationTypeText,p=a.conversationUrl,f=a.createdAt,h=a.creator,m=a.disabledFeatures,g=a.entityUrn,y=a.groupChat,v=a.incompleteRetriableData,b=a.lastActivityAt,T=a.lastReadAt,_=a.messages,E=a.notificationStatus,x=a.conversationParticipants,S=a.read,C=a.state,A=a.title,k=a.unreadCount,I=a.hostConversationActions,R=_.elements,w=ec(x),M=ac(R),O=M.messages,N=M.participants,P=nn(N,Ce(w))
return{conversationState:{additionalData:null,backendUrn:c,categories:d,clientId:t,conversationUrl:p,createdAt:new Date(f),creatorHostIdentityUrn:null!==(i=null==h?void 0:h.hostIdentityUrn)&&void 0!==i?i:void 0,draftMessage:Ks(e),entityUrn:g,incompleteRetriableData:v,lastActivityAt:new Date(b),lastReadAt:new Date(T),messages:new Bs(O),participants:(s=w,Ee(s).sort()),quickReplies:[],read:S,title:A,state:C,groupChat:null!=y&&y,conversationTypeText:l,contentMetadata:u,disabledFeatures:m,typingUrns:new Set,matchingSearches:[],metadata:{},notificationStatus:E,status:{loading:!1,sending:"Ready",fullyLoaded:!1},unreadCount:k,hostConversationActions:I},participants:P.sort(),requestId:o}}}(t,r))},kd=function(e,t){return function(n){var r=t?Tt.fromClientErrorMemo(t,n):n
return Cd(e,r),Promise.reject(r)}},Id=function(e,t){return function(n){var r=t?Tt.fromClientErrorMemo(t,n):n
return Cd(e,r),r}},Rd=function(e,t){return function(n){var r=Tt.fromUnknown(n,t)
Cd(e,r)}},wd=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null
return function(n){return Cd(e,n),Promise.resolve(t)}},Md=function(){return new Map},Od=function(e,t){return e.updateAny(Pt(t),function(e){return function(t){return J(J({},t),{},{additionalData:e[t.clientId]||t.additionalData})}}(t))},Nd=function(e,t){if(!t||!Ee(t).length||!t.emoji||!t.reactors&&void 0===t.viewerReacted||t.reactors&&(!e||!e.length))return e
var n=t.emoji,r=he(e),i=r.findIndex((function(e){return e.emoji===n}))
if(i>-1){var a=r[i]
if(t.reactors)return a.reactors=t.reactors,r.splice(i,1,a),r
if(a.viewerReacted=t.viewerReacted,t.count&&0===t.count)return r.splice(i,1),r
if(t.count&&t.count>0)a.count=t.count
else if(t.viewerReacted)a.count=a.count+1
else{if(1===a.count)return r.splice(i,1),r
a.count=a.count-1}return t.firstReactedAt&&t.firstReactedAt<a.firstReactedAt&&(a.firstReactedAt=t.firstReactedAt),r.splice(i,1,a),r}return 0===t.count?r:[].concat(he(r),[{count:void 0!==t.count?t.count:1,emoji:n,firstReactedAt:t.firstReactedAt?t.firstReactedAt:Date.now(),viewerReacted:t.viewerReacted,reactors:[]}]).sort((function(e,t){return e.firstReactedAt-t.firstReactedAt}))},Pd=function(e,t){var n=fe(an(t),2),r=n[0],i=n[1]
return e.filter((function(e){return Ut(e)?!r.includes(e.conversationUrn):!i.includes(e.messageUrn)}))},Ud=function(e,t,n){var r=[]
return t.length&&(r=function(e,t){var n=function(e,t){var n=fe(an(t),2),r=n[0],i=n[1]
return e.map((function(e){var t=Dt(e)&&i.includes(e.messageUrn),n=Ut(e)&&r.includes(e.conversationUrn)
return t||n?J(J({},e),{},{retryCount:e.retryCount+1}):e}))}(e,t),r=function(e,t){return Pd(t,e).map((function(e){return J(J({},e),{},{retryCount:0})}))}(e,t)
return[].concat(he(n),he(r))}(e,t)),n.length&&(r=Pd(r,n)),r},Dd=function(e,t){return t&&t>e?t:e},Ld=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r]
"function"==typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n)
try{!function(e){Object.keys(e).forEach((function(t){var n=e[t]
if(void 0===n(void 0,{type:hn.INIT}))throw new Error(un(12))
if(void 0===n(void 0,{type:hn.PROBE_UNKNOWN_ACTION()}))throw new Error(un(13))}))}(n)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a
for(var r=!1,i={},s=0;s<o.length;s++){var c=o[s],d=n[c],u=e[c],l=d(u,t)
if(void 0===l)throw t&&t.type,new Error(un(14))
i[c]=l,r=r||l!==u}return(r=r||o.length!==Object.keys(e).length)?i:e}}({entityUrn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0
return"UPDATE_MAILBOXURN"===t.type?t.entityUrn:e},lastActivityAt:function(){return new Date},draftConversations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Md(),t=arguments.length>1?arguments[1]:void 0
switch(t.type){case"REMOVE_DRAFT_CONVERSATION":case"CONVERT_DRAFT_CONVERSATION":return Ne(e,t.payload.conversationId)
case"ADD_DRAFT_CONVERSATION":return Oe(e,t.payload.conversation.clientId,t.payload.conversation)
case"DRAFT_MESSAGE_READY_TO_SEND":var n=e.get(t.payload.clientId)
return n?Oe(e,t.payload.clientId,J(J({},n),{},{messages:n.messages.add([Ws(n.draftMessage)]),draftMessage:Ks(n.draftMessage.senderUrn)})):e
case"ADD_NEW_MESSAGE_BY_ID":var r=e.get(t.payload.conversationId)
return r?Oe(e,t.payload.conversationId,J(J({},r),{},{messages:r.messages.add([t.payload.message])})):e
case"READY_MESSAGE_BACK_TO_DRAFT":var i=e.get(t.payload.conversationId)
if(!i)return e
var a=fe(i.messages.removeByClientId(t.payload.messageClientId),2),o=a[0],s=a[1]
return Oe(e,t.payload.conversationId,J(J({},i),{},{messages:s,draftMessage:o?zs(o):Ks(t.payload.mboxUrn)}))
case"DELETE_MESSAGE":var c=e.get(t.payload.conversationId)
if(!c)return e
var d=fe(c.messages.removeByClientId(t.payload.messageClientId),2)[1]
return Oe(e,t.payload.conversationId,J(J({},c),{},{messages:d}))
case"UPDATE_DRAFT_MESSAGE":var u=e.get(t.payload.conversationId)
return u?Oe(e,t.payload.conversationId,J(J({},u),{},{draftMessage:J(J({},t.payload.messageUpdate),{},{clientId:u.draftMessage.clientId})})):e
case"UPDATE_NEW_MESSAGE":if(!We(t.payload.conversationIdentifier))return e
var l=e.get(t.payload.conversationIdentifier)
return l?Oe(e,t.payload.conversationIdentifier,J(J({},l),{},{messages:l.messages.updateByClientId(t.payload.messageId,t.payload.message)})):e
case"UPDATE_DRAFT_CONVERSATION":var p=e.get(t.payload.conversationId)
return p?Oe(e,t.payload.conversationId,J(J({},p),{},{recipients:t.payload.recipientUrns})):e
case"UPDATE_DRAFT_CONVERSATION_SENDING_STATUS":var f=e.get(t.payload.conversationId)
return f?Oe(e,t.payload.conversationId,J(J({},f),{},{sending:t.payload.sendingStatus})):e
default:return e}},participants:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0
switch(t.type){case"DECORATE_PARTICIPANTS":var n=t.payload.data,r=Ie(Ee(n).map((function(t){return[t,J(J({},e[t]),{},{additionalData:n[t]})]})))
return J(J({},e),r)
case"ADD_MAILBOX_PARTICIPANTS":case"ADD_CONVERSATION":case"ADD_OLDER_CONVERSATIONS":case"ADD_CONVERSATIONS":var i=Ie(Re(t.payload.participants)),a=Ee(i).reduce((function(t,n){return e[n]&&"EMPTY"!==e[n].kind&&i[n]&&"EMPTY"===i[n].kind?t[n]=J({},e[n]):t[n]=J(J(J({},e[n]),i[n]),{},{clientId:e[n]?e[n].clientId:i[n].clientId}),t}),{})
return J(J({},e),a)
default:return e}},conversations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on(),t=arguments.length>1?arguments[1]:void 0
switch(t.type){case"DECORATE_CONVERSATIONS":return cn.fromConversationArray(e.map((function(e){return J(J({},e),{},{additionalData:t.payload.data[e.clientId]||e.additionalData})})))
case"DECORATE_ALL_MESSAGES":return cn.fromConversationArray(e.map((function(e){return J(J({},e),{},{messages:Od(e.messages,t.payload.data)})})))
case"DECORATE_MESSAGES":return e.updateItem(kt(t.payload.conversationUrn),(function(e){return J(J({},e),{},{messages:Od(e.messages,t.payload.data)})}))
case"DECORATE_MESSAGE":return e.updateItem(kt(t.payload.conversationUrn),(function(e){return J(J({},e),{},{messages:e.messages.updateByUrn(t.payload.messageUrn,{additionalData:t.payload.data})})}))
case"DRAFT_MESSAGE_READY_TO_SEND":return e.updateItem(Rt(t.payload.clientId),(function(e){return J(J({},e),{},{messages:e.messages.add([Ws(e.draftMessage)]),draftMessage:Ks(e.draftMessage.senderUrn)})}))
case"UPDATE_DRAFT_MESSAGE":return e.updateItem(Rt(t.payload.conversationId),(function(e){return J(J({},e),{},{draftMessage:J(J({},t.payload.messageUpdate),{},{clientId:e.draftMessage.clientId})})}))
case"UPDATE_NEW_MESSAGE":return e.updateItem(Rt(t.payload.conversationIdentifier),(function(e){return J(J({},e),{},{messages:e.messages.updateByClientId(t.payload.messageId,t.payload.message),quickReplies:Jt(e,e.quickReplies,t.payload.message)})}))
case"UPDATE_MESSAGES":var n=t.payload.conversationUrn,r=t.payload.messageUpdateMap
if(!n){var i=Ee(r),a=Ye(e,i[0])
if(!a)return e
n=a.entityUrn}return e.updateItem(kt(n),(function(e){if(Ke(e)){var t=Ee(r)
return J(J({},e),{},{messages:e.messages.updateAny(Ot(t),(function(e){return e.entityUrn?J(J(J({},e),r[e.entityUrn]),{},{clientId:e.clientId}):e})),quickReplies:Jt(e,e.quickReplies)})}return e}))
case"UPDATE_REACTIONS_ON_MESSAGE":var o=t.payload,s=o.messageUrn,c=o.reaction,d=Ye(e,s)
if(!d)return e
var u=d.entityUrn
return e.updateItem(kt(u),(function(e){if(Ke(e)){var t=e.messages.getByIdentifier(s)
return J(J({},e),{},{messages:e.messages.updateAny(Mt(s),(function(e){return J(J({},e),{},{reactions:Nd(t.reactions,c),clientId:e.clientId})}))})}return e}))
case"READY_MESSAGE_BACK_TO_DRAFT":return e.updateItem(Rt(t.payload.conversationId),(function(e){var n=fe(e.messages.removeByClientId(t.payload.messageClientId),2),r=n[0],i=n[1]
return J(J({},e),{},{messages:i,draftMessage:r?zs(r):Ks(t.payload.mboxUrn)})}))
case"DELETE_MESSAGE":return e.updateItem(Rt(t.payload.conversationId),(function(e){var n=fe(e.messages.removeByClientId(t.payload.messageClientId),2)[1]
return J(J({},e),{},{messages:n})}))
case"DELETE_MESSAGES":return e.updateItem(kt(t.payload.conversationUrn),(function(e){var n=t.payload.clearAll?new Bs(Array.from(e.messages).filter((function(e){return zt(e)}))):e.messages.removeByUrns(t.payload.messageUrns)
return J(J({},e),{},{messages:n})}))
case"REALTIME_TYPING_ON":return e.updateItem(kt(t.payload.conversationUrn),(function(e){return J(J({},e),{},{typingUrns:Fe(e.typingUrns,t.payload.typingUrn)})}))
case"REALTIME_TYPING_OFF":return e.updateItem(kt(t.payload.conversationUrn),(function(e){return J(J({},e),{},{typingUrns:Be(e.typingUrns,t.payload.typingUrn)})}))
case"ADD_NEW_MESSAGE_BY_ID":var l=t.payload,p=l.message,f=l.conversationId,h=p.optionalSendData.conversationState
return e.updateItem(Rt(f),(function(e){return J(J({},e),{},{messages:e.messages.add([p]),typingUrns:Be(e.typingUrns,p.senderUrn),quickReplies:Jt(e,e.quickReplies,p),state:null!=h?h:void 0})}))
case"ADD_NEW_MESSAGE_BY_CONVO_URN":return e.updateItem(kt(t.payload.conversationUrn),(function(e){var n=t.payload.message
return J(J({},e),{},{messages:e.messages.add([n]),typingUrns:Be(e.typingUrns,n.senderUrn),quickReplies:Jt(e,e.quickReplies,n)})}))
case"CONVERSATION_LOADING":return e.updateItem(Rt(t.payload.conversationId),(function(e){return J(J({},e),{},{status:J(J({},e.status),{},{loading:t.payload.loading})})}))
case"ADD_OLDER_MESSAGES":return e.updateItem(Rt(t.payload.conversationUrn),(function(e){return J(J({},e),{},{messages:e.messages.add(t.payload.messages),metadata:J(J({},e.metadata),{},{prevCursor:t.payload.prevCursor}),status:J(J({},e.status),{},{fullyLoaded:t.payload.completed,loading:!1})})}))
case"ADD_NEW_MESSAGES":return e.updateItem(Rt(t.payload.conversationUrn),(function(e){var n=e.messages.add(t.payload.messages)
return J(J({},e),{},{quickReplies:[],messages:n,metadata:J(J({},e.metadata),{},{syncToken:t.payload.syncToken,shouldClearCache:t.payload.shouldClearCache}),status:J(J({},e.status),{},{loading:!1})})}))
case"CONVERT_DRAFT_CONVERSATION":return e.find(kt(t.payload.conversation.entityUrn),"FullMailboxState")?e.updateItem(kt(t.payload.conversation.entityUrn),(function(e){var n=t.payload.conversation.participants.filter(ve(e.participants)),r=[].concat(he(e.participants),he(n))
return J(J(J({},e),t.payload.conversation),{},{participants:r,messages:e.messages.add(he(t.payload.conversation.messages)),clientId:t.payload.conversation.clientId})})):e.addItem(J(J({},t.payload.conversation),{},{clientId:t.payload.conversationId}))
case"ADD_OLDER_CONVERSATIONS":return e.addItems(t.payload.conversations,t.payload.writeCategories)
case"ADD_CONVERSATIONS":return e.addItems(t.payload.conversations)
case"ADD_CONVERSATION":return e.addItem(t.payload.conversation)
case"UPDATE_CONVERSATION_BY_URN":return e.updateItem(kt(t.payload.conversationUrn),(function(e){return $t(e,t.payload.conversationUpdate)}))
case"UPDATE_CONVERSATIONS_BY_URN":return e.updateAny(It(Ee(t.payload.convoStatusUpdateMap)),(function(e){var n=t.payload.convoStatusUpdateMap[e.entityUrn]
if(!Wt(n)&&n.seenReceiptsMap&&e.seenReceiptsMap){var r=en(e.seenReceiptsMap,n.seenReceiptsMap),i=J(J(J({},e),n),{},{seenReceiptsMap:r})
return Xt(e,i)}return Xt(e,n)}))
case"UPDATE_CONVERSATION_QUICK_REPLIES":return e.updateItem(kt(t.payload.conversationUrn),(function(e){return J(J({},e),{},{quickReplies:t.payload.quickReplies})}))
case"UPDATE_CONVERSATION_BY_MESSAGE_URN":var m=Ye(e,t.payload.messageUrn)
return m?e.updateItem(Rt(m.entityUrn),(function(e){return t.payload.conversationUpdate.quickReplies?J(J({},e),{},{quickReplies:Jt(e,t.payload.conversationUpdate.quickReplies)}):J(J({},e),t.payload.conversationUpdate)})):e
case"UPDATE_ALL_CONVERSATIONS_IN_CATEGORIES":return e.updateAny(wt(t.payload.categories),(function(e){return Xt(e,t.payload.conversationUpdate)}))
case"DELETE_CONVERSATION":return e.deleteItems(kt(t.payload.conversationUrn))
case"DELETE_CONVERSATIONS":return t.payload.clearAll?on():e.deleteItems(It(t.payload.conversationUrns))
default:return e}},additionalData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0
return"DECORATE_MAILBOX"===t.type?t.payload:e},connected:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{api:!1,realtime:!1},t=arguments.length>1?arguments[1]:void 0
switch(t.type){case"CONNECT":return J(J({},e),{},{api:!0})
case"REALTIME_CONNECT":return J(J({},e),{},{realtime:t.payload})
default:return e}},status:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J({},Et),r=arguments.length>1?arguments[1]:void 0
switch(r.type){case"MAILBOX_LOADING":return J(J({},n),{},{loading:r.payload.loading,lastRequestId:Dd(n.lastRequestId,r.requestId)})
case"ADD_OLDER_CONVERSATIONS":return J(J({},n),{},{nextCursor:null!==(e=r.payload.nextCursor)&&void 0!==e?e:n.nextCursor,fullyLoaded:r.payload.fullyLoaded,loading:!1,lastRequestId:Dd(n.lastRequestId,r.requestId)})
case"ADD_CONVERSATIONS":return J(J({},n),{},{loading:!1,syncToken:null!==(t=r.payload.syncToken)&&void 0!==t?t:n.syncToken,lastRequestId:Dd(n.lastRequestId,r.requestId)})
case"UPDATE_REQUEST_ID":return J(J({},n),{},{lastRequestId:Dd(n.lastRequestId,r.requestId)})
default:return r.requestId?J(J({},n),{},{lastRequestId:Dd(n.lastRequestId,r.requestId)}):n}},unreadCounts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{requestId:0},t=arguments.length>1?arguments[1]:void 0
return"UPDATE_MAILBOX_UNREAD_COUNT"===t.type?J(J({},e),t.payload):e},incompleteRetriableEntities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0
switch(t.type){case"ADD_CONVERSATION":var n=t.payload.conversation
return n.incompleteRetriableData?Ud(e,[{conversationUrn:n.entityUrn}],[]):Ud(e,[],[{conversationUrn:n.entityUrn}])
case"ADD_CONVERSATIONS":case"ADD_OLDER_CONVERSATIONS":var r=t.payload.conversations,i=r.filter((function(e){return e.incompleteRetriableData})).map((function(e){return{conversationUrn:e.entityUrn}})),a=r.filter((function(e){return!e.incompleteRetriableData})).map((function(e){return{conversationUrn:e.entityUrn}}))
return Ud(e,i,a)
case"UPDATE_CONVERSATION_BY_URN":var o=t.payload,s=o.conversationUrn
return o.conversationUpdate.incompleteRetriableData?Ud(e,[{conversationUrn:s}],[]):Ud(e,[],[{conversationUrn:s}])
case"UPDATE_CONVERSATIONS_BY_URN":var c=t.payload.convoStatusUpdateMap,d=[],u=[]
for(var l in c){var p=c[l]
!Wt(p)&&p.incompleteRetriableData?d.push({conversationUrn:l}):Wt(p)||Se(p.incompleteRetriableData)||u.push({conversationUrn:l})}return Ud(e,d,u)
case"UPDATE_CONVERSATION_BY_MESSAGE_URN":case"UPDATE_ALL_CONVERSATIONS_IN_CATEGORIES":var f=t.payload.conversationUpdate
return f.entityUrn?f.incompleteRetriableData?Ud(e,[{conversationUrn:f.entityUrn}],[]):Ud(e,[],[{conversationUrn:f.entityUrn}]):e
case"ADD_NEW_MESSAGE_BY_ID":case"ADD_NEW_MESSAGE_BY_CONVO_URN":case"UPDATE_NEW_MESSAGE":var h=t.payload.message
return h.entityUrn?h.incompleteRetriableData?Ud(e,[{messageUrn:h.entityUrn}],[]):Ud(e,[],[{messageUrn:h.entityUrn}]):e
case"ADD_NEW_MESSAGES":case"ADD_OLDER_MESSAGES":var m=t.payload.messages.filter((function(e){return e.entityUrn})),g=m.filter((function(e){return e.incompleteRetriableData})).map((function(e){return{messageUrn:e.entityUrn}})),y=m.filter((function(e){return!e.incompleteRetriableData})).map((function(e){return{messageUrn:e.entityUrn}}))
return Ud(e,g,y)
case"UPDATE_MESSAGES":var v=t.payload.messageUpdateMap,b=[],T=[]
for(var _ in v){var E=v[_]
E.incompleteRetriableData?b.push({messageUrn:_}):Se(E.incompleteRetriableData)||T.push({messageUrn:_})}return Ud(e,b,T)
default:return e}}}),Fd=function(e,t){return{type:"ADD_MAILBOX_PARTICIPANTS",payload:{participants:e},requestId:t}},Bd=function(e,t){return{type:"REALTIME_TYPING_ON",payload:{conversationUrn:e,typingUrn:t}}},jd=function(e,t){return{type:"REALTIME_TYPING_OFF",payload:{conversationUrn:e,typingUrn:t}}},qd=function(e){return{type:"REALTIME_CONNECT",payload:e}},Vd=function(e,t){return{type:"UPDATE_CONVERSATIONS_BY_URN",payload:{convoStatusUpdateMap:e},requestId:t}},Hd=function(e,t){return{type:"DELETE_CONVERSATION",payload:{conversationUrn:e},requestId:t}},Gd=function(e){return{type:"DELETE_CONVERSATIONS",payload:{conversationUrns:e,clearAll:arguments.length>1&&void 0!==arguments[1]&&arguments[1]},requestId:arguments.length>2?arguments[2]:void 0}},Kd=function(e,t,n){return{type:"ADD_CONVERSATION",payload:{conversation:e,participants:t},requestId:n}},Wd=function(e,t){return{type:"UPDATE_CONVERSATION_BY_URN",payload:{conversationUpdate:e,conversationUrn:t}}},zd=function(e,t){return{type:"ADD_CONVERSATIONS",payload:{syncToken:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,conversations:e,participants:t},requestId:arguments.length>3?arguments[3]:void 0}},$d=function(e,t,n){return{type:"ADD_NEW_MESSAGE_BY_ID",payload:{message:e,conversationId:t},requestId:n}},Xd=function(e,t){return{type:"CONVERSATION_LOADING",payload:{conversationId:e,loading:t}}},Qd=function(e){return{type:"MAILBOX_LOADING",payload:{loading:e}}},Yd=function(e,t,n,r,i){return{type:"ADD_OLDER_MESSAGES",payload:{messages:e,conversationUrn:t,completed:n,prevCursor:r},requestId:i}},Jd=function(e,t,n,r,i){return{type:"ADD_NEW_MESSAGES",payload:{conversationUrn:t,messages:e,syncToken:n,shouldClearCache:r},requestId:i}},Zd=function(e,t,n,r){return{type:"UPDATE_NEW_MESSAGE",payload:{message:e,messageId:t,conversationIdentifier:n},requestId:r}},eu=function(e,t,n){return{type:"CONVERT_DRAFT_CONVERSATION",payload:{conversationId:e,conversation:t},requestId:n}},tu=function(e,t,n){return{type:"UPDATE_MESSAGES",payload:{messageUpdateMap:e,conversationUrn:t},requestId:n}},nu=function(e,t,n){return{type:"UPDATE_REACTIONS_ON_MESSAGE",payload:{messageUrn:e,reaction:t},requestId:n}},ru=function(e,t,n){return{type:"UPDATE_CONVERSATION_BY_MESSAGE_URN",payload:{messageUrn:e,conversationUpdate:t},requestId:n}},iu=function(e,t){return{type:"UPDATE_DRAFT_MESSAGE",payload:{conversationId:e,messageUpdate:t}}},au=function(e,t){return{type:"UPDATE_DRAFT_CONVERSATION_SENDING_STATUS",payload:{conversationId:e,sendingStatus:t}}},ou=function(e,t,n){return{type:"DELETE_MESSAGE",payload:{conversationId:e,messageClientId:t},requestId:n}},su=function(e,t){return{type:"DELETE_MESSAGES",payload:{conversationUrn:e,messageUrns:t,clearAll:arguments.length>2&&void 0!==arguments[2]&&arguments[2]},requestId:arguments.length>3?arguments[3]:void 0}},cu=function(e,t){return{type:"UPDATE_MAILBOX_UNREAD_COUNT",payload:e,requestId:t}},du={quickReplyMap:{},seenReceiptsMap:{}},uu=function(e,t,n){var r=e.payload.errors
if(!r)return!1
var i=r.map((function(e){return Tt.buildGraphQLPayloadError(e,t)}))
return wd(n)(Tt.fromRealtimeErrorMemo("EVENT_RESPONSE_ERROR",i)),!0},lu=function(e,t,n,r){var i=e.payload.data
if(i){var a=i[n]
if(a){if(!a.result){var o=gt.PAYLOAD_RESULT_DOES_NOT_EXIST
wd(r)(new Tt("realtime",o.code,'"'.concat(t,'": ').concat(o.message)))}}else{var s=gt.PAYLOAD_DECORATION_DOES_NOT_EXIST
wd(r)(new Tt("realtime",s.code,'"'.concat(t,'": ').concat(s.message)))}}else{var c=gt.PAYLOAD_DATA_DOES_NOT_EXIST
wd(r)(new Tt("realtime",c.code,"".concat(t,": ").concat(c.message)))}},pu="2770ad8e74334783a50c4784aeb17b00",fu="280dd3e05c2756f34bd490c227d64518",hu="18c72c0ef88106e86b0df4dadc13f200",mu="7606db239e7cda3ea88b4ace2d4733ab",gu="886854b77ee64679ebf42b1a9a05076d",yu="4e5b40b7a6723463f6deec71ca09be21",vu="15007ba729faa527d4b1a77c2d101a78",bu="messengerRealtimeDecoration",Tu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""
return{topicToGraphQLQueryParams:{conversationsBroadcastTopic:{queryId:$o("realtime-conversation-update")||"".concat(e).concat(bu,".").concat(pu),variables:{},extensions:{}},conversationsTopic:{queryId:$o("realtime-conversation-update")||"".concat(e).concat(bu,".").concat(pu),variables:{},extensions:{}},conversationDeletesBroadcastTopic:{queryId:$o("realtime-conversation-delete")||"".concat(e).concat(bu,".").concat(fu),variables:{},extensions:{}},conversationDeletesTopic:{queryId:$o("realtime-conversation-delete")||"".concat(e).concat(bu,".").concat(fu),variables:{},extensions:{}},messageReactionSummariesBroadcastTopic:{queryId:$o("realtime-reaction-summary")||"".concat(e).concat(bu,".").concat(hu),variables:{},extensions:{}},messageReactionSummariesTopic:{queryId:$o("realtime-reaction-summary")||"".concat(e).concat(bu,".").concat(hu),variables:{},extensions:{}},messageSeenReceiptsBroadcastTopic:{queryId:$o("realtime-seen-receipt")||"".concat(e).concat(bu,".").concat(mu),variables:{},extensions:{}},messageSeenReceiptsTopic:{queryId:$o("realtime-seen-receipt")||"".concat(e).concat(bu,".").concat(mu),variables:{},extensions:{}},messagesBroadcastTopic:{queryId:$o("realtime-message-update")||"".concat(e).concat(bu,".").concat(gu),variables:{},extensions:{}},messagesTopic:{queryId:$o("realtime-message-update")||"".concat(e).concat(bu,".").concat(gu),variables:{},extensions:{}},replySuggestionBroadcastTopic:{queryId:$o("realtime-quick-reply")||"".concat(e).concat(bu,".").concat(yu),variables:{},extensions:{}},replySuggestionTopicV2:{queryId:$o("realtime-quick-reply")||"".concat(e).concat(bu,".").concat(yu),variables:{},extensions:{}},typingIndicatorsBroadcastTopic:{queryId:$o("realtime-typing-indicator")||"".concat(e).concat(bu,".").concat(vu),variables:{},extensions:{}},typingIndicatorsTopic:{queryId:$o("realtime-typing-indicator")||"".concat(e).concat(bu,".").concat(vu),variables:{},extensions:{}}}}},_u=function(e){var t={},n={}
return e&&(e.csrfToken&&(t={"csrf-token":e.csrfToken}),e.xLiLang&&(n={"x-li-lang":e.xLiLang})),J(J({"x-RestLi-Protocol-Version":"2.0.0","x-li-query-accept":"application/graphql","x-li-track":e.xLiTrack||JSON.stringify({mpName:e&&e.mpName?e.mpName:js.mpName}),"x-li-query-map":JSON.stringify(Tu())},n),t)},Eu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2
ne(this,e),ae(this,"_maxRetryCount",void 0),ae(this,"_retryTimeoutInSecond",void 0),ae(this,"_backoffMultiplier",void 0),ae(this,"_attemptCount",0),ae(this,"_startTime",Date.now()),ae(this,"_currentTask",null),ae(this,"_messageId",void 0),ae(this,"_tryFn",void 0),ae(this,"_cancelCondition",void 0),ae(this,"_retryCondition",void 0),ae(this,"_internalResolve",void 0),ae(this,"_internalReject",void 0),this._messageId=t,this._backoffMultiplier=n,this.reset()}return ie(e,[{key:"retryCount",get:function(){return this._attemptCount-1}},{key:"_backoff",get:function(){return Math.min(Math.pow(2,this._attemptCount)*this._backoffMultiplier,640)}},{key:"try",value:function(e){return this._tryFn=e,this}},{key:"times",value:function(e){return this._maxRetryCount=e,this}},{key:"timeoutAfter",value:function(e){return this._retryTimeoutInSecond=e,this}},{key:"cancelIf",value:function(e){return this._cancelCondition=e,this}},{key:"retryIf",value:function(e){return this._retryCondition=e,this}},{key:"start",value:function(){var e=this
this._startTime=Date.now()
var t=new Promise((function(t,n){e._internalResolve=t,e._internalReject=n}))
return this._cycle(),t}},{key:"cancel",value:function(){this._currentTask&&(this._currentTask.cancel(),this._currentTask=null),this._stopRetrying(Tt.fromClientErrorMemo("RETRY_CANCELLED"))}},{key:"reset",value:function(){this._attemptCount=0,this._startTime=Date.now()}},{key:"_cycle",value:function(){var e=this
this._currentTask=null,this._attemptCount++,void 0!==this._tryFn?this._tryFn(this._attemptCount).then((function(t){var n
return null===(n=e._internalResolve)||void 0===n||n.call(e,t),t})).catch((function(t){var n
if(null!==(n=e._cancelCondition)&&void 0!==n&&n.call(e,t)||e._exceedMaxRetryCount()||e._exceedRetryTimeout())e._stopRetrying(t)
else if(e._retryCondition&&e._messageId&&!e._retryCondition(e._messageId)){var r
null===(r=e._internalResolve)||void 0===r||r.call(e,t)}else{var i=new j(e._cycle.bind(e))
i.start(1e3*e._backoff),e._currentTask=i}})):this._stopRetrying(new Error("No function supplied to retry"))}},{key:"_stopRetrying",value:function(e){var t
null===(t=this._internalReject)||void 0===t||t.call(this,e)}},{key:"_exceedMaxRetryCount",value:function(){return void 0!==this._maxRetryCount&&this._attemptCount>this._maxRetryCount}},{key:"_exceedRetryTimeout",value:function(){return void 0!==this._retryTimeoutInSecond&&(Date.now()-this._startTime)/1e3+this._backoff>this._retryTimeoutInSecond}}]),e}(),xu=function(e,t,n,r,i,a){if(n&&a){var o,s=e?e.messages:null,c=s&&s.length>1?s.at(s.length-2):null,d={funnelBody:{clientSend:{isFirstMessage:!e||1===e.messages.length,isSelfReply:!(!c||!t)&&c.senderUrn===t.senderUrn,messagingThreadUrn:null!=i?i:null,messagingMessageUrn:t?t.backendUrn:null,sourceType:null==n?void 0:n.sourceType,previousMessageCreatedTime:c?c.deliveredAt.getTime():null,previousMessagingMessageUrn:c?c.backendUrn:null,draftMessageStorageType:null,isSystemClipboardUsed:null==n?void 0:n.isSystemClipboardUsed,aiMessageType:null!==(o=null==n?void 0:n.aiMessageType)&&void 0!==o?o:null,sentTime:r}},trackingId:n.trackingId,funnelStep:"CLIENT_SEND"}
n.messageComposeFlowTrackingId&&(d.messageComposeFlowTrackingId=n.messageComposeFlowTrackingId),a&&a("MessageSendFunnelTrackingEvent",d)}},Su=function(e){var t=e.optionalSendData.renderContent[0]
return null!=t&&t.file?"ATTACHMENT":null!=t&&t.externalMedia?"GIF":null!=t&&t.forwardedMessageContent?"FORWARD":null!=t&&t.vectorImage?"IMAGE":"TEXT_ONLY"},Cu=function(e,t){var n="ONE_ON_ONE"
return t&&(n="GROUP_CHAT"),e.optionalSendData.renderContent.length&&e.optionalSendData.renderContent.forEach((function(e){e.hostUrnData&&e.hostUrnData.type.includes("INMAIL")&&(n="INMAIL")})),n},Au=function(e){var t=e.code,n=e.message
return ke()&&window.navigator&&!window.navigator.onLine?"NO_NETWORK":n&&n.includes("Failed to fetch")?"NETWORK_ERROR":t&&/^[4-5][0-9][0-9]$/.test(t.toString())?"SERVER_ERROR":t&&999===t?"OTHER_NON_FATAL_ERROR":null},ku=function(e,t,n,r,i,a,o){o&&o("MessagesSyncConsumedEvent",{syncedMessagingMessageUrns:e.filter((function(e){return!!e})),messagingThreadUrn:t,isBootstrap:!!r,mailboxUrn:null!=i?i:null,actorUrn:null!=a?a:null,consumedTime:null!=n?n:null})},Iu=function(e,t,n,r,i){i&&i("ConversationsSyncConsumedEvent",{syncedMessagingThreadUrns:e,isBootstrap:t,mailboxUrn:null!=n?n:null,actorUrn:null!=r?r:null})},Ru=function(e,t,n,r,i){var a={trackingId:ui(),syncType:t,messagingThreadUrns:r?r.forEach((function(e){return e.backendUrn})):[],failureReason:Au(e),failureDetail:e.message,responseCode:e.code,retryCount:n,failureTime:Date.now()}
i&&i("MessagingSyncClientFailureEvent",a)},wu=function(e,t,n){n&&n("MessagingClientSendEvent",{sentTime:t,messageUrn:e,publisherTrackingId:""})},Mu=function(e){return di(Array.from(pi(e)))},Ou=function(e){return e.headers()["Csrf-Token"]||e.headers()["csrf-token"]},Nu=function(e,t,n,r,i,a,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"FIRST",c=n.messages.getByIdentifier(r)
if(!c)return Promise.reject(Tt.fromClientErrorMemo("MESSAGE_DOES_NOT_EXIST"))
var d=Mu(r),u=J(J({},o),{},{trackingId:d}),l=-1
return i(Zd({status:"Sending"},r,n.entityUrn)),new Eu(r).try((function(i){return l=Ju(),gd(e,t,n.entityUrn,c.content,r,u,c.optionalSendData,1!==i||"RETRY"===s?"DEDUPE":"NOT_DEDUPE").then(Xu(a,i,s)).catch($u(a,i,s,n,c,u))})).timeoutAfter(a.options.sendRetryTimeoutInSecond).retryIf(Yt(a,n.clientId)).cancelIf(Ku).start().then((function(e){return ic(c.senderUrn,e,r)})).then((function(e){var t,o
return l&&i(Zd({lastAttemptAt:new Date(l)},r,n.entityUrn)),xu(n,e,u,l,n.backendUrn,null===(t=a.options.trackingOptions)||void 0===t?void 0:t.trackingFireEvent),e.backendUrn&&wu(e.backendUrn,l,null===(o=a.options.trackingOptions)||void 0===o?void 0:o.trackingFireEvent),e})).then((function(e){return i(Zd(J(J({},e),{},{status:"Sent"}),r,n.entityUrn)),n.clientId})).catch((function(e){return i(Zd({status:"Failed"},r,n.entityUrn)),Promise.reject(e)}))},Pu=function(e,t,n,r,i,a,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"FIRST",c=n.messages.getByIdentifier(r)
if(!c)return Promise.reject(Tt.fromClientErrorMemo("MESSAGE_DOES_NOT_EXIST"))
var d=n.clientId,u=n.recipients,l=Mu(r),p=J(J({},o),{},{trackingId:l}),f=-1
return i(Zd({status:"Sending"},r,d)),new Eu(r).try((function(n){return f=Ju(),yd(e,t,c.content,r,u,p,c.optionalSendData,1!==n||"RETRY"===s?"DEDUPE":"NOT_DEDUPE").then(Xu(a,n,s)).catch($u(a,n,s,void 0,c,p,u))})).timeoutAfter(a.options.sendRetryTimeoutInSecond).retryIf(Yt(a,d)).cancelIf(Ku).start().then((function(e){var t,n
return f&&i(Zd({lastAttemptAt:new Date(f)},r,d)),xu(void 0,c,p,f,e.backendConversationUrn,null===(t=a.options.trackingOptions)||void 0===t?void 0:t.trackingFireEvent),wu(e.backendUrn,f,null===(n=a.options.trackingOptions)||void 0===n?void 0:n.trackingFireEvent),e})).then((function(n){return Ad(e,t,n.conversationUrn,d,p)})).then((function(e){var t=e.conversationState,n=e.participants,a=e.requestId
return i(Fd(n,a)),i(eu(d,t,a)),i(Zd({status:"Sent"},r,t.entityUrn)),t.entityUrn})).catch((function(e){return i(Zd({status:"Failed"},r,d)),Promise.reject(e)}))},Uu=function(e){return"personal"===e.mailboxType},Du=function(e,t,n,r,i,a){var o=function(e){var t=At[e]
if(St(t))return{urn:e,data:t.store.getState(),realtime:t.realtime}}(e)
return o&&jt(o.data)?Promise.resolve(o):t.useRealtime?function(e,t,n,r){var i,a=t.realtimeHost?Q({domain:t.realtimeHost,mpInfo:{name:t.mpName,id:t.mpName,version:t.mpVersion},sessionHeartbeat:t.sessionHeartbeatInSecond?1e3*t.sessionHeartbeatInSecond:void 0,reconnectGapThreshold:void 0!==t.realtimeMaxDisconnectInSecond?1e3*t.realtimeMaxDisconnectInSecond:void 0,connectHeaders:_u({mpName:t.mpName,csrfToken:Ou(t),xLiTrack:t.headers()["X-LI-Track"],xLiLang:t.headers()["x-li-lang"]}),tracking:t.trackingOptions&&t.trackingOptions.trackingFireEvent?{fireEventCallback:t.trackingOptions.trackingFireEvent}:void 0,experimental:{isHeartbeatPayloadEnabled:null===(i=t.experimental)||void 0===i?void 0:i.isHeartbeatPayloadEnabled},actorUrn:n.actorUrn}):Q()
return a.addActorUrn(n.actorUrn),function(e,t,n,r,i,a){var o,s,c=(o=r.triggerChainSync,s=null==i?void 0:i.getPageInstance,dn((function(){Pe("Throttled chain-sync"),o({pageInstance:null==s?void 0:s()})}),6e4)[0])
return(e.connected?Promise.resolve():e.connect("RETRY")).then((function(){Pe("realtime connected"),function(e,t){var n=Q(),r=fe(e.getRealtimeTopics(),2),i=r[0],a=he(r[1].values()).filter((function(e){return!e.endsWith(":myself")}))
i&&a.length>0&&(Pe("Subscribing to broadcast topics",'JWT="...'.concat(Ge(20,i),'"'),"Number of topics: ".concat(a.length)),n.addSubscriptions(a,i).then((function(e){7===e.succeeded.length?null==t||t.triggerGeneralMetric("unlimited-mailboxes-subscribe-topics"):Pe("Broadcast topics subscription failed for these topics:",e.failed.join(", "))})).catch((function(e){Pe("Broadcast topics subscription failed! ❌",e)})))}(r,a),Q().addContext(t)
var o=new Map
e.addEventListener("error",(function(n,i){Pe("error event from common-time - ".concat(i.message," ").concat(e.connected?"💚":"💔")),r.dispatch(qd(e.connected)),function(e){return void 0!==e.status}(i)&&600===i.status&&wd(t)(Tt.buildCommonTimeError(i))})),e.addEventListener("connect",(function(){Pe("realtime connect ".concat(e.connected?"💚":"💔")),r.dispatch(qd(e.connected))})),e.addEventListener("reconnecting",(function(){Pe("realtime reconnecting ".concat(e.connected?"💚":"💔"))})),e.addEventListener("close",(function(){Pe("realtime close ".concat(e.connected?"💚":"💔")),r.dispatch(qd(e.connected))})),e.addEventListener("poorRealtimeConnectionDetected",(function(){Pe("realtime poor connection ".concat(e.connected?"💛":"💔")),r.dispatch(qd(e.connected))})),e.addEventListener("authSubscribeFailed",(function(t,n){Pe("realtime authSubscribeFailed (Auth token likely expired) ".concat(e.connected?"💚":"💔")),function(e,t,n){t.getRealtimeTopics()[0]===e&&t.fetchAndUpdateTopics().then((function(){var e=fe(t.getRealtimeTopics(),2),r=e[0],i=e[1]
r&&n.addSubscriptions(Array.from(i.values()),r)}))}(n,r,e)})),"personal"===r.mailboxType?e.addEventListener("reconnected",(function(n,i){Pe("personal mailbox ".concat(t," re-subscribed - chainSync! gap (sec):"),i/1e3),c(),r.dispatch(qd(e.connected))})):e.addEventListener("topicsResubscribed",(function(n,i){(function(e,t,n){var r=fe(e.getRealtimeTopics(),2)[1].get("NewMessage")
return xe(r)&&t.includes(r)})(r,i.topics)&&(Pe("secondary mailbox ".concat(t," re-subscribed - chainSync! gap (sec):"),i.timeGapMs/1e3),c(),r.dispatch(qd(e.connected)))})),e.addEventListener("topic",(function(a,s){!function(e,t,n,r,i,a,o){try{var s,c,d,u,l,p,f,h=fe(i.getRealtimeTopics(),2)[1],m=null!==(s=null==h?void 0:h.get("TypingIndicator"))&&void 0!==s?s:"no-topic",g=null!==(c=null==h?void 0:h.get("NewMessage"))&&void 0!==c?c:"no-topic",y=null!==(d=null==h?void 0:h.get("ConversationUpdate"))&&void 0!==d?d:"no-topic",v=null!==(u=null==h?void 0:h.get("ConversationDelete"))&&void 0!==u?u:"no-topic",b=null!==(l=null==h?void 0:h.get("SeenReceipt"))&&void 0!==l?l:"no-topic",T=null!==(p=null==h?void 0:h.get("QuickReplies"))&&void 0!==p?p:"no-topic",_=null!==(f=null==h?void 0:h.get("ReactionSummary"))&&void 0!==f?f:"no-topic"
switch(Array.from(h.values()).includes(t.topic)&&o&&function(e,t,n,r,i){if(i&&i.trackingFireEvent){var a={publisherTrackingId:e.publisherTrackingId||null,realtimeEventId:e.id,realtimeTrackingId:e.trackingId,topicUrn:e.topic,consumedTime:t,contextUrn:n,actorUrn:r}
i.trackingFireEvent("RealtimeEventConsumedEvent",a)}}(t,a,e,i.actorUrn,o),t.topic){case m:!function(e,t,n,r,i){var a,o
lu(t,"TypingIndicator","doDecorateTypingIndicatorMessengerRealtimeDecoration",e)
var s=null===(a=t.payload.data)||void 0===a||null===(o=a.doDecorateTypingIndicatorMessengerRealtimeDecoration)||void 0===o?void 0:o.result
if(s){var c=s.conversation.entityUrn,d=s.typingParticipant.hostIdentityUrn
n>=0&&function(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:5
r(i(e,t))
var s="".concat(e,",").concat(t)
n.has(s)&&clearTimeout(n.get(s))
var c=setTimeout((function(){r(a(e,t))}),1e3*o)
n.set(s,c)}(c,d,r,i.dispatch,Bd,jd,n)}}(e,t,r,n,i)
break
case g:!function(e,t,n,r){if(uu(t,"NewMessage",e))n.triggerChainSync({pageInstance:void 0})
else{var i,a
lu(t,"NewMessage","doDecorateMessageMessengerRealtimeDecoration",e)
var o=null===(i=t.payload.data)||void 0===i||null===(a=i.doDecorateMessageMessengerRealtimeDecoration)||void 0===a?void 0:a.result
if(o&&o.sender){var s,c,d=o.backendConversationUrn,u=o.backendUrn,l=o.body,p=o.conversation,f=o.deliveredAt,h=o.entityUrn,m=o.inlineWarning,g=o.messageBodyRenderFormat,y=o.originToken,v=o.previousMessages,b=o.reactionSummaries,T=o.renderContent,_=o.sender,E=o.subject,x=null!==(s=(null!==(c=null==v?void 0:v.elements)&&void 0!==c?c:[])[0])&&void 0!==s?s:null,S=p.entityUrn,C=Qs(_),A=cc(qs(T)),k=A.data,I=A.participants
if(function(e,t){return 0==e.text.length&&(null===t||0===t.length)}(l,T))return void setTimeout((function(){n.triggerMessagesSync(S,{pageInstance:void 0})}),2e3)
var R=Vs({senderUrn:C.hostIdentityUrn,content:l,optionalSendData:k,entityUrn:h,inlineWarning:m,messageBodyRenderFormat:g,reactions:Hs(b),status:"Delivered",clientId:y,deliveredAt:new Date(f),backendConversationUrn:d,backendUrn:u,subject:E}),w=function(e,t){var n=du.quickReplyMap[t]?du.quickReplyMap[t]:[],r=du.seenReceiptsMap[t]?ae({},t,du.seenReceiptsMap[t]):{},i=J(J({},e),{},{quickReplies:n,seenReceiptsMap:r})
return delete du.quickReplyMap[t],delete du.seenReceiptsMap[t],i}(p,h),M=Gs(w),O=nn(I,$s(p.conversationParticipants))
n.dispatch(Fd(O)),n.handleRealtimeNewMessage(S,M,R,x,{pageInstance:void 0}).catch((function(t){wd(e)(Tt.fromRealtimeErrorMemo("EVENT_ERROR",t))}))}}}(e,t,i)
break
case y:!function(e,t,n,r){if(uu(t,"ConversationUpdate",e)){var i
n.triggerChainSync({pageInstance:null==r||null===(i=r.getPageInstance)||void 0===i?void 0:i.call(r)})}else{var a,o
lu(t,"ConversationUpdate","doDecorateConversationMessengerRealtimeDecoration",e)
var s=null===(a=t.payload.data)||void 0===a||null===(o=a.doDecorateConversationMessengerRealtimeDecoration)||void 0===o?void 0:o.result
if(s){var c=$s(s.conversationParticipants),d=s.entityUrn,u=Gs(s)
n.dispatch(Fd(c)),n.dispatch(Wd(rn(u),d))}}}(e,t,i,o)
break
case v:!function(e,t,n,r){if(uu(t,"ConversationDelete",e)){var i
n.triggerChainSync({pageInstance:null==r||null===(i=r.getPageInstance)||void 0===i?void 0:i.call(r)})}else{var a,o
lu(t,"ConversationDelete","doDecorateConversationDeleteMessengerRealtimeDecoration",e)
var s=null===(a=t.payload.data)||void 0===a||null===(o=a.doDecorateConversationDeleteMessengerRealtimeDecoration)||void 0===o?void 0:o.result
if(s){var c=s.entityUrn
n.dispatch(Hd(c))}}}(e,t,i,o)
break
case b:!function(e,t,n){var r,i
lu(t,"SeenReceipt","doDecorateSeenReceiptMessengerRealtimeDecoration",e)
var a,o=null===(r=t.payload.data)||void 0===r||null===(i=r.doDecorateSeenReceiptMessengerRealtimeDecoration)||void 0===i?void 0:i.result
if(o&&o.message){var s=o.message.entityUrn
a=ae({},s,[{participantUrn:o.seenByParticipant.hostIdentityUrn,seenAt:o.seenAt}]),du.seenReceiptsMap=en(du.seenReceiptsMap,a),n.dispatch(ru(s,{seenReceiptsMap:du.seenReceiptsMap}))}}(e,t,i)
break
case T:!function(e,t,n){var r,i
lu(t,"QuickReplies","doDecorateQuickRepliesMessengerRealtimeDecoration",e)
var a,o=null===(r=t.payload.data)||void 0===r||null===(i=r.doDecorateQuickRepliesMessengerRealtimeDecoration)||void 0===i?void 0:i.result
if(o&&o.length>0&&o[0].message){var s=o[0].message,c=o.filter(xe)
a=ae({},s.entityUrn,c),du.quickReplyMap=a,n.dispatch(ru(s.entityUrn,{quickReplies:c}))}}(e,t,i)
break
case _:!function(e,t,n){var r,i
lu(t,"ReactionSummary","doDecorateRealtimeReactionSummaryMessengerRealtimeDecoration",e)
var a=null===(r=t.payload.data)||void 0===r||null===(i=r.doDecorateRealtimeReactionSummaryMessengerRealtimeDecoration)||void 0===i?void 0:i.result
if(a&&a.reactionSummary){var o=a.message.entityUrn
n.dispatch(nu(o,a.reactionSummary))}}(e,t,i)
break
default:Ue("Unhandled realtime event: ",t)}}catch(t){var E=gt.EVENT_ERROR
wd(e)(new Tt("realtime",E.code,E.message,t))}}(t,s,o,n,r,e.serverClockTime,i)}))})).catch((function(e){var n=gt.CANNOT_CONNECT
return kd(t)(new Tt("realtime",n.code,n.message,e))}))}(a,e,t.typingIndicatorDelayInSecond,n,t.trackingOptions,r).catch((function(){return Promise.resolve()}))}(e,t,r,a).then((function(){return Lu(e,t,n,i)})):o?Promise.resolve(o):Lu(e,t,n,i)},Lu=function(e,t,n,r){return function(e,t,n,r){return od(e,t,r).then((i=n,function(e){var t,n,r
dc(e,"messengerConversationsBySyncToken")
var a=null===(t=e.data)||void 0===t?void 0:t.messengerConversationsBySyncToken
if(!a)throw Tt.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"allConversationsToState: messengerConversationsBySyncToken response is missing"})
var o=e.requestId,s=ae({},i.hostIdentityUrn,i),c=null!==(n=null===(r=a.metadata)||void 0===r?void 0:r.newSyncToken)&&void 0!==n?n:null,d=a.elements.filter(Ys).map((function(e){var t=fe(Xs(e,Ks(i.entityUrn)),2),n=t[0]
return t[1].forEach((function(e){s[e.hostIdentityUrn]?s[e.hostIdentityUrn]=J(J({},s[e.hostIdentityUrn]),e):s[e.hostIdentityUrn]=e})),n})).filter(xe)
return{conversations:d,newSyncToken:c,participants:s,requestId:o}})).then((function(e){return(n=t,function(e){var t=new Date,r=e.conversations,i=e.participants,a=e.newSyncToken,o=e.requestId
return{additionalData:null,connected:{api:!1,realtime:!1},conversations:cn.fromConversationArray(r),draftConversations:new Map,entityUrn:n,lastActivityAt:t,participants:i,status:J(J({},Et),{},{syncToken:a,lastRequestId:o}),unreadCounts:{}}})(e)
var n}))
var i}(qu(t),e,n,r).then((function(t){return{urn:e,data:t}})).catch((function(e){var n,r,i
throw null===(n=t.trackingOptions)||void 0===n||null===(r=n.incrementMetricCounterHandler)||void 0===r||r.call(n,{groupName:"messengerData",metricName:"conversation-list-sync-fail"}),Ru(e,"CONVERSATIONS",1,void 0,null===(i=t.trackingOptions)||void 0===i?void 0:i.trackingFireEvent),e}))},Fu=function(e){var t
return e.data&&void 0!==e.data.messengerConversationsByCategory?{data:e.data.messengerConversationsByCategory,requestId:e.requestId}:null!==(t=e.data)&&void 0!==t&&t.messengerConversationsBySearchCriteria&&function(e){return void 0!==e.messengerConversationsBySearchCriteria}(e.data)?{data:e.data.messengerConversationsBySearchCriteria,requestId:e.requestId}:{data:{elements:[],metadata:{nextCursor:null}}}},Bu=function(e,t){return ae({},e.entityUrn,{status:{sending:t}})},ju=function(e,t,n,r){e(t?r?su(r,new Set,!0):Gd([],!0):r?su(r,new Set(n.filter((function(e){return e.message})).map((function(e){return e.message.entityUrn})))):Gd(n.filter((function(e){return e.conversation})).map((function(e){return e.conversation.entityUrn}))))},qu=function(e){var t,n=null!==(t=function(e){var t,n
if(!1===(null===(t=e.trackingOptions)||void 0===t?void 0:t.usePemTracking))return null
var r=null!==(n=e.trackingOptions)&&void 0!==n?n:{},i=r.pemPrefix,a=r.trackingFireEvent
return void 0!==i&&void 0!==a&&ke()?function(e,t,n){var r,i=function(e,t){return{READ:new zc("".concat(e," - Read"),Qc(t),$c),WRITE:new zc("".concat(e," - Send"),Qc(t),$c),SEARCH:new zc("".concat(e," - Search"),Qc(t),$c)}}(e,n)
return[function(e,n,r,a){return function(o){var s,c=(null!=a?a:{}).pageInstance
if(c){var d=[new Bc(t[n],"failed-to-".concat((s=r,s.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})))))],u=new Promise((function(e,t){o.then((function(t){return e(t.response)})).catch(t)}))
return i[n].trackFeatureDegradationsForFetch(e,[],d,u,c).then((function(){return o}))}return o}},(r=i,function(){return Ce(r).forEach(Wc)})]}(i,{READ:"messaging-conversation-load-module",WRITE:"messaging-conversation-send-module",SEARCH:"messaging-conversation-search-module"},a):[function(){return function(e){return e}},Xc]}(e))&&void 0!==t?t:[],r=fe(n,2),i=r[0],a=void 0===i?null:i,o=r[1],s=void 0===o?Xc:o
return{experimental:e.experimental,messengerResource:e.messengerResource,mpName:e.mpName,queryFormat:e.queryFormat,teardown:ke()?s:Xc,track:a}},Vu=function(e,t,n,r){n.length&&function(e,t,n){var r="acknowledgeMessagesReceived",i=JSON.stringify({messageUrns:t,clientId:e.mpName,deliveryMechanism:n,clientConsumedAt:Date.now()}),a=function(e){return Fo("restli",e.messengerResource,"messengerMessageDeliveryAcknowledgements",{action:"sendDeliveryAcknowledgement"})}(e),o=nd(r)
return mc(a,i).catch(ed(r)).then(o)}(t,n,r).catch(wd(e))},Hu=function(e,t,n,r){t(function(e,t,n){return{type:"ADD_NEW_MESSAGE_BY_CONVO_URN",payload:{message:e,conversationUrn:t},requestId:void 0}}(r,n)),e.clientSensorTrackers.triggerRecipientMetric("realtime-message-received")},Gu=function(e,t,n){return function(r,i,a,o,s){a.entityUrn&&Vu(e.id,t,[a.entityUrn],"REALTIME")
var c=e.state.conversations.getByIdentifier(r,"FullMailboxState")
if(c){var d=c.messages.first()
return d&&d.deliveredAt.getTime()>a.deliveredAt.getTime()?Promise.resolve():(i.lastActivityAt>c.lastActivityAt&&n(Wd(rn(i),r)),Hu(e,n,r,a),o&&c.messages.getByIdentifier(o.entityUrn)?Promise.resolve():(e.clientSensorTrackers.triggerRecipientMetric("realtime-message-gap-detected"),e.syncConversationMessages(r,"FullMailboxState",s)))}var u=function(e,t,n){var r,i,a
return J(J({},t),{},{clientId:fs(),entityUrn:e,draftMessage:n,matchingSearches:[],messages:new Bs,typingUrns:new Set,additionalData:null,status:{fullyLoaded:null!==(r=t.status.fullyLoaded)&&void 0!==r&&r,loading:null!==(i=t.status.loading)&&void 0!==i&&i,sending:null!==(a=t.status.sending)&&void 0!==a?a:"Ready"}})}(r,i,Ks(e.participant.hostIdentityUrn))
return n(Kd(u,[])),Hu(e,n,r,a),Promise.resolve()}},Ku=function(e){if(vt(e)){var t=e.code
return void 0!==t&&t>399&&t<500&&422!==t&&429!==t}return!1},Wu=function(e){if(vt(e)){var t=e.code
return void 0!==t&&t>399&&t<500}return!1},zu=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now()
return e.reduce((function(e,t){return t.lastActivityAt.getTime()<e?t.lastActivityAt.getTime():e}),t)}
function $u(e,t,n,r,i,a,o){return function(s){var c,d
1===t?e.clientSensorTrackers.triggerSenderMetric("FIRST"===n?"message-send-fail":"message-manual-retry-fail"):e.clientSensorTrackers.triggerSenderMetric("message-auto-retry-fail")
var u=Ju()
return xu(r,i,a,u,null==r?void 0:r.backendUrn,null===(c=e.options.trackingOptions)||void 0===c?void 0:c.trackingFireEvent),function(e,t,n,r,i,a,o){var s,c=Au(e),d=Array.isArray(e.cause)?e.cause.map((function(e){return e.stack})).join():null===(s=e.cause)||void 0===s?void 0:s.stack,u="".concat(e.message).concat(d?"; ".concat(d):""),l="failure message: ".concat(u),p=!1
if(a&&(p=a.length>1),n&&(p=null==n?void 0:n.groupChat),i&&r){var f={isAutoRetry:t>1,clientFailureType:c,clientFailureDetail:l,conversationType:Cu(r,p),messageContentType:Su(r),messagingThreadUrn:n?n.backendUrn:null,sourceType:i.sourceType,trackingId:i.trackingId,messageComposeFlowTrackingId:i.messageComposeFlowTrackingId,messageSendAttemptedAt:Date.now()}
o&&o("MessageSendClientFailureEvent",f)}}(s,t,r,i,a,o,null===(d=e.options.trackingOptions)||void 0===d?void 0:d.trackingFireEvent),Promise.reject(s)}}function Xu(e,t,n){return function(r){return 1===t?e.clientSensorTrackers.triggerSenderMetric("FIRST"===n?"message-send-success":"message-manual-retry-success"):e.clientSensorTrackers.triggerSenderMetric("message-auto-retry-success"),r}}var Qu,Yu=function(e,t,n,r){n&&n.length>0&&n.map((function(n){t.findIndex((function(e){return Ut(e)&&e.conversationUrn===n.entityUrn}))>-1&&(n.incompleteRetriableData?e.clientSensorTrackers.triggerRecipientMetric("messenger-incomplete-data-reload-failure"):e.clientSensorTrackers.triggerRecipientMetric("messenger-incomplete-data-reload-success"))})),r&&r.length>0&&r.map((function(n){n.entityUrn&&t.findIndex((function(e){return Dt(e)&&e.messageUrn===n.entityUrn}))>-1&&(n.incompleteRetriableData?e.clientSensorTrackers.triggerRecipientMetric("messenger-incomplete-data-reload-failure"):e.clientSensorTrackers.triggerRecipientMetric("messenger-incomplete-data-reload-success"))}))},Ju=function(){try{return Q().serverClockTime}catch(e){return Pe("Failed to retrieve server time from common-time:",e),Date.now()}},Zu=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]
ne(this,e),ae(this,"_queue",void 0),ae(this,"_continueOnFailure",void 0),this._queue=[],this._continueOnFailure=t}return ie(e,[{key:"length",get:function(){return this._queue.length}},{key:"enqueue",value:function(e,t,n){var r=this
return new Promise((function(i,a){r._queue.push({requestGenerator:e,resolve:i,reject:a,messageId:t}),1===r._queue.length&&r._flush(n)}))}},{key:"start",value:function(e){return this._flush(e)}},{key:"_flush",value:function(e){var t=this
if(this._queue.length){var n=this._queue[0]
if(!e||e&&n.messageId&&e(n.messageId))return n.requestGenerator().then((function(r){return n.resolve(r),t._queue.shift(),t._queue.length>0?t._flush(e).then((function(e){return e+1})):1})).catch((function(r){return n.reject(r),t._continueOnFailure&&(t._queue.shift(),t._queue.length>0)?t._flush(e):Promise.resolve(0)}))
if(this._queue.shift(),this._queue.length>0)return this._flush(e)}return Promise.resolve(0)}}]),e}(),el="function"==typeof Symbol&&Symbol.observable||"@@observable",tl="messengerData",nl=function(e){return{triggerSenderMetric:function(t){null==e||e({groupName:tl,metricName:t})},triggerRecipientMetric:function(t){null==e||e({groupName:tl,metricName:t})},triggerGeneralMetric:function(t){null==e||e({groupName:tl,metricName:t})}}},rl=1.25
Qu=Symbol.observable
var il=function(){function e(t,n,r){var i,a=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Td,s=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0
ne(this,e),ae(this,"_retrieveNetworkConfig",void 0),ae(this,"_stateSubscribers",[]),ae(this,"_complete",!1),ae(this,"_pendingErrors",[]),ae(this,"_id",void 0),ae(this,"_options",void 0),ae(this,"_throttledTypingFns",{}),ae(this,"_filter",void 0),ae(this,"_oldestConversationTime",0),ae(this,"_cursor",null),ae(this,"_fullyLoaded",!1),ae(this,"_isLoadingConversations",!1),ae(this,"_localParticipant",void 0),ae(this,"_actorUrn",void 0),ae(this,"_dispatch",void 0),ae(this,"_clientSensorTrackers",void 0),ae(this,"trackingData",{}),ae(this,"_sendFullMessageInDraftConversation",(function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"FIRST"
if(e.messages.length>0)return kd(a.id)(Tt.fromClientErrorMemo("CANNOT_ADD_MESSAGES_IN_CONVERSATION"))
var o=Vs({senderUrn:a.participant.hostIdentityUrn,content:t,optionalSendData:n})
a._dispatch($d(o,e.clientId))
var s=a.state.draftConversations.get(e.clientId)
return s?("Failed"!==s.sending&&a._dispatch(au(s.clientId,"InProgress")),a._getRequestQueue("messageSend",s.clientId).enqueue((function(){return Pu(a.networkConfig,a.participant.hostIdentityUrn,s,o.clientId,a._dispatch.bind(a),a,r,i).then((function(e){var t
return(null===(t=a.state.conversations.getByIdentifier(e,"FullMailboxState"))||void 0===t?void 0:t.clientId)||s.clientId})).catch((function(e){return a.options.continueOnFailure||a._dispatch(au(s.clientId,"Failed")),kd(a.id)(Tt.fromClientErrorMemo("MESSAGE_SEND_FAILED",e))}))}),o.clientId,Yt(a,s.clientId)).finally((function(){0===a._getRequestQueue("messageSend",s.clientId).length&&a._dispatch(au(s.clientId,"Ready"))}))):kd(a.id)(Tt.fromClientErrorMemoWithComment("CONVERSATION_DOES_NOT_EXIST","Send message in Draft conversation"))})),this._id=t,this._options=J({},n),this._filter=o,this._dispatch=s,this._retrieveNetworkConfig=c,this._clientSensorTrackers=nl(null===(i=n.trackingOptions)||void 0===i?void 0:i.incrementMetricCounterHandler),this._localParticipant={kind:"MEMBER",clientId:r,entityUrn:"urn:li:msg_messagingParticipant:".concat(this.id),hostIdentityUrn:this.id,backendUrn:null,firstName:"",lastName:"",headline:"",additionalData:null,pronoun:{customPronoun:"",standardizedPronoun:""},profile:{}},this._actorUrn=n.viewerUrn,Sd(t,{next:function(e){return Ae(a._stateSubscribers,Ed(e,o,a._oldestConversationTime,a._cursor,a._fullyLoaded))},error:function(e){return a._notifyErrorSubscribers(e)},complete:function(){a._complete||(a._complete=!0,a._stateSubscribers.forEach((function(e){var t
return null===(t=e.complete)||void 0===t?void 0:t.call(e)})))}})}return ie(e,[{key:"experimentalValues",get:function(){return this._options.experimental}},{key:Qu,value:function(){return this}},{key:el,value:function(){return this}},{key:"observable",get:function(){return this}},{key:"subscribe",value:function(e){var t=this
if(this._options.enableParameterTypeChecks&&!Ze(e)&&!Je(e))throw Tt.fromInvalidType("subscribe","subscriber"," Subscriber | NextFunction")
var n=e
return Je(e)&&(n={next:e}),this._stateSubscribers.push(n),this._pendingErrors.length>0&&this._pendingErrors.forEach((function(e){return t._notifyErrorSubscribers(e)})),setTimeout((function(){return n.next(t.state)}),0),{unsubscribe:function(){t._stateSubscribers=t._stateSubscribers.filter((function(e){return e!==n}))}}}},{key:"filter",get:function(){return this._filter}},{key:"subscribersCount",get:function(){return this._stateSubscribers.length}},{key:"state",get:function(){var e=_d(this._id)
return Ed(e,this._filter,this._oldestConversationTime,this._cursor,this._fullyLoaded)}},{key:"participant",get:function(){return this._localParticipant}},{key:"actorUrn",get:function(){return this._actorUrn}},{key:"id",get:function(){return this._id}},{key:"options",get:function(){return this._options}},{key:"clientSensorTrackers",get:function(){return this._clientSensorTrackers}},{key:"getPageInstanceFn",get:function(){var e,t
return null!==(e=this._options.trackingOptions)&&void 0!==e&&e.getPageInstance?null===(t=this._options.trackingOptions)||void 0===t?void 0:t.getPageInstance:function(){}}},{key:"getPageKeyFn",get:function(){var e
return null===(e=this._options.trackingOptions)||void 0===e?void 0:e.getPageKey}},{key:"isLoadingConversations",get:function(){return this._isLoadingConversations}},{key:"getConversations",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0
if(this._options.enableParameterTypeChecks){var i="getConversations"
if(!Array.isArray(e))return kd(this.id)(Tt.fromInvalidType(i,"conversationIdentifiers"," URN | UUIDV4[]"))
if(!qe(n))return kd(this.id)(Tt.fromInvalidType(i,"count"," number"))
if(!Se(r)&&!ut(r))return kd(this.id)(Tt.fromInvalidType(i,"trackingData","TrackingData | undefined"))
if(!He(e,Xe))return kd(this.id)(Tt.fromInvalidType(i,"conversationIdentifiers[x]"," URN or UUIDV4"))}var a=[],o=[]
return e.forEach((function(e){var n=t.state.conversations.getByIdentifier(e,"FullMailboxState")
n?a.push(n):$e(e)&&o.push(e)})),o.length?id(this.networkConfig,o,n,r).then((function(e){return Zs(e,t.createNewDraftMessage())})).then((function(e){var n=e.conversations,r=e.participants,i=e.requestId
return t._dispatch(zd(n,Ce(r),null,i)),t._updateLocalParticipant(),Vt([].concat(a,he(n)))})).catch(kd(this.id)):Promise.resolve(a)}},{key:"syncConversationMessages",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FullMailboxState",r=arguments.length>2?arguments[2]:void 0
if(this._options.enableParameterTypeChecks){var i="syncConversationMessages"
if(!$e(e))return kd(this.id)(Tt.fromInvalidType(i,"conversationUrn","URN"))
if(!ct(n))return kd(this.id)(Tt.fromInvalidType(i,"selectOption","SelectorFilterOption"))
if(!Se(r)&&!ut(r))return kd(this.id)(Tt.fromInvalidType(i,"trackingData","TrackingData | undefined"))}var a=this.state.conversations.getByIdentifier(e,n)
return a?(this._dispatch(Xd(a.clientId,!0)),new Eu(void 0,rl).try((function(n){return ad(t.networkConfig,e,a.metadata.syncToken,r).catch((function(e){var r
throw t.clientSensorTrackers.triggerRecipientMetric("message-list-sync-fail"),Ru(e,"MESSAGES",n,[a],null===(r=t.options.trackingOptions)||void 0===r?void 0:r.trackingFireEvent),e}))})).timeoutAfter(this.options.syncRetryTimeoutInSecond).cancelIf(Wu).start().then((function(e){return nc(e)})).then((function(n){var r,i,o=n.messages,s=n.newSyncToken,c=n.shouldClearCache,d=n.deletedUrns,u=n.participants,l=n.requestId
return t._dispatch(Fd(u,l)),ju(t._dispatch.bind(t),c,d,e),t._dispatch(Jd(he(o),a.entityUrn,s,c,l)),Vu(t.id,t.networkConfig,o.map((function(e){return e.entityUrn})),"SYNC"),i=Ju(),ku(o.map((function(e){return e.backendUrn})),a.backendUrn,i,c,t.id,t.actorUrn,null===(r=t.options.trackingOptions)||void 0===r?void 0:r.trackingFireEvent),t._updateLocalParticipant(),t._getSeenReceipts(e).catch(wd(t.id)),t._getQuickReplies(e).catch(kd(t.id)),t.clientSensorTrackers.triggerRecipientMetric("message-list-sync-success"),Promise.resolve()})).catch((function(e){return t._dispatch(Xd(a.clientId,!1)),kd(t.id)(Tt.fromClientErrorMemo("MESSAGE_LIST_SYNC_FAILED",e))}))):kd(this.id)(Tt.fromClientErrorMemoWithComment("CONVERSATION_DOES_NOT_EXIST","Syncing conversation messages"))}},{key:"syncConversations",value:function(e){var t=this
if(this._options.enableParameterTypeChecks&&!Se(e)&&!ut(e))return kd(this.id)(Tt.fromInvalidType("syncConversations","trackingData","TrackingData | undefined"))
var n=this.state.status.syncToken
return this.state.status.loading?(Ue("Trying to chain-sync while already loading"),Promise.resolve(0)):n?(this._dispatch(Qd(!0)),new Eu(void 0,rl).try((function(r){return function(e,t,n,r,i,a,o){return function(e,t,n,r){var i="syncConversations",a={mailboxUrn:t}
n&&(a.syncToken=n)
var o=Is(e,a),s=td(i)
return Yc(e,o,i,r)().then(s)}(e,t,r,o).then((function(e){return function(e,t){var n,r,i,a,o,s,c
dc(e,"messengerConversationsBySyncToken")
var d=null===(n=e.data)||void 0===n?void 0:n.messengerConversationsBySyncToken
if(!d)throw Tt.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"syncConversationsToState: messengerConversationsBySyncToken response is missing"})
var u=e.requestId,l={},p=null!==(r=null===(i=d.metadata)||void 0===i?void 0:i.newSyncToken)&&void 0!==r?r:null,f=null!==(a=null===(o=d.metadata)||void 0===o?void 0:o.shouldClearCache)&&void 0!==a&&a,h=null!==(s=null===(c=d.metadata)||void 0===c?void 0:c.deletedUrns)&&void 0!==s?s:[],m=d.elements.filter(Ys).map((function(e){var n=fe(Xs(e,Ks(t)),2),r=n[0]
return n[1].forEach((function(e){l[e.hostIdentityUrn]?l[e.hostIdentityUrn]=J(J({},l[e.hostIdentityUrn]),e):l[e.hostIdentityUrn]=e})),r})).filter(xe)
return{conversations:m,newSyncToken:p,shouldClearCache:f,deletedUrns:h,participants:l,requestId:u}}(e,t)})).then((function(e){var n
return Iu(e.conversations.map((function(e){return e.backendUrn})),!!e.shouldClearCache,t,i.actorUrn,null===(n=i.options.trackingOptions)||void 0===n?void 0:n.trackingFireEvent),i.clientSensorTrackers.triggerRecipientMetric("conversation-list-sync-success"),e})).catch((function(e){var t
throw i.clientSensorTrackers.triggerRecipientMetric("conversation-list-sync-fail"),Ru(e,"CONVERSATIONS",a,void 0,null===(t=i.options.trackingOptions)||void 0===t?void 0:t.trackingFireEvent),e})).then((function(t){var r=t.conversations.map((function(e){var t,n,r=null===(t=i.state.conversations.getByIdentifier(e.entityUrn))||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.syncToken
return r?{conversationUrn:e.entityUrn,syncToken:r}:{conversationUrn:e.entityUrn}}))
return function(e,t,n){var r="getSyncMessagesByConversationIdInBatch",i=ws(e,{criteria:t}),a=td(r)
return Yc(e,i,r,n)().catch(ed(r)).then(a)}(e,r,o).then((function(r){var a
dc(r,"messengerMessagesBySyncTokensInBatch")
var o=null===(a=r.data)||void 0===a?void 0:a.messengerMessagesBySyncTokensInBatch
if(!o)throw Tt.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"chainSync: messengerMessagesBySyncTokensInBatch response is missing"})
var s=Ie(t.conversations.map((function(e){return[e.entityUrn,e]})))
return o.forEach(function(e,t,n,r,i){return function(a){var o,s,c
if(!a)throw Tt.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"chainSync > handleSingleResponseBatchSync: messengerMessagesBySyncTokensInBatch response for a single conversation is missing"})
var d=rc(a,n),u=d.messages,l=d.newSyncToken,p=d.shouldClearCache,f=d.deletedUrns,h=d.participants,m=d.requestId
e(Fd(h,m))
var g=null===(o=(null!==(c=a.elements)&&void 0!==c?c:[])[0])||void 0===o||null===(s=o.conversation)||void 0===s?void 0:s.entityUrn
if(g){ju(e,p,f,g),void 0===r.state.conversations.getByIdentifier(g)&&e(Kd(t[g],[])),e(Jd(he(u),g,l,p,m)),Vu(r.id,i,u.map((function(e){return e.entityUrn})),"SYNC")
var y=r.state.conversations.getByIdentifier(g,"FullMailboxState")
if(y){var v,b=Ju()
ku(u.map((function(e){return e.backendUrn})),y.backendUrn,b,p,r.id,r.actorUrn,null===(v=r.options.trackingOptions)||void 0===v?void 0:v.trackingFireEvent)}}r._updateLocalParticipant()}}(n,s,r.requestId,i,e)),i.clientSensorTrackers.triggerRecipientMetric("message-list-sync-success"),t})).catch((function(e){var n
throw i.clientSensorTrackers.triggerRecipientMetric("message-list-sync-fail"),Ru(e,"MESSAGES",1,t.conversations,null===(n=i.options.trackingOptions)||void 0===n?void 0:n.trackingFireEvent),e}))}))}(t.networkConfig,t.id,t._dispatch.bind(t),n,t,r,e)})).timeoutAfter(this.options.syncRetryTimeoutInSecond).cancelIf(Wu).start().then((function(e){var n=e.conversations,r=e.newSyncToken,i=e.shouldClearCache,a=e.deletedUrns,o=e.participants,s=e.requestId
return ju(t._dispatch.bind(t),null!=i&&i,null!=a?a:[]),t._dispatch(zd(n,Ce(o),r,s)),t._updateLocalParticipant(),n.length})).catch((function(e){return t._dispatch(Qd(!1)),kd(t.id)(Tt.fromClientErrorMemo("CHAIN_SYNC_FAILED",e))}))):kd(this.id)(Tt.fromClientErrorMemo("CHAIN_SYNC_CANNOT_START"))}},{key:"composeByRecipients",value:function(e){var t,n,r=this
if(this._options.enableParameterTypeChecks){var i="composeByRecipients"
if(!Array.isArray(e))return kd(this.id)(Tt.fromInvalidType(i,"recipientUrns","URN[]"))
if(!He(e,$e))return kd(this.id)(Tt.fromInvalidType(i,"recipientUrns[x]","URN"))}return ud(this.networkConfig,this.id,e,{pageInstance:null===(t=this.options.trackingOptions)||void 0===t||null===(n=t.getPageInstance)||void 0===n?void 0:n.call(t)}).then((function(t){var n,i=null===(n=t.data)||void 0===n?void 0:n.messengerConversationsByRecipients.elements.filter(Ys),a=t.requestId
if(null!=i&&i.length){var o=i[0],s=r.state.conversations.getByIdentifier(o.entityUrn,"FullMailboxState")
if(s)return Promise.resolve(s)
var c=Js(t,r.createNewDraftMessage()),d=c.conversations,u=c.participants,l=d.filter((function(e){return!r.state.conversations.getByIdentifier(e.clientId)}))
r._dispatch(zd(l,Ce(u),null,a))
var p=r.state.conversations.getByIdentifier(d[0].clientId,"FullMailboxState")
return p?Promise.resolve(p):kd(r.id)(Tt.fromClientErrorMemo("COMPOSE_BY_RECIPIENTS_FAILED"))}return r.createDraftConversation(e)}))}},{key:"getConversationsByRecipients",value:function(e){var t,n,r=this
if(this._options.enableParameterTypeChecks){var i="getConversationsByRecipients"
if(!Array.isArray(e))return kd(this.id)(Tt.fromInvalidType(i,"recipientUrns","URN[]"))
if(!He(e,$e))return kd(this.id)(Tt.fromInvalidType(i,"recipientUrns[x]","URN"))}return ud(this.networkConfig,this.id,e,{pageInstance:null===(t=this.options.trackingOptions)||void 0===t||null===(n=t.getPageInstance)||void 0===n?void 0:n.call(t)}).then((function(e){var t=Js(e,r.createNewDraftMessage()),n=t.conversations,i=t.participants,a=r._updateConvoStateListClientId(n)
return r._dispatch(zd(a,Ce(i),null,e.requestId)),Promise.resolve(a)}))}},{key:"createDraftConversation",value:function(e){if(this._options.enableParameterTypeChecks){var t="createDraftConversation"
if(!Array.isArray(e))return kd(this.id)(Tt.fromInvalidType(t,"recipientUrns","URN[]"))
if(!He(e,$e))return kd(this.id)(Tt.fromInvalidType(t,"recipientUrns[x]","URN"))}var n,r,i=(n=this.participant.entityUrn,r=e,{clientId:fs(),draftMessage:Ks(n),messages:new Bs,recipients:r,sending:"Ready"})
return this._dispatch({type:"ADD_DRAFT_CONVERSATION",payload:{conversation:i}}),Promise.resolve(i)}},{key:"deleteDraftConversation",value:function(e){return this._options.enableParameterTypeChecks&&!Xe(e)?kd(this.id)(Tt.fromInvalidType("deleteDraftConversation","draftConversationClientId","URN")):this.state.draftConversations.has(e)?(this._dispatch({type:"REMOVE_DRAFT_CONVERSATION",payload:{conversationId:e}}),Promise.resolve(e)):kd(this.id)(Tt.fromClientErrorMemo("DRAFT_CONVERSATION_NOT_FOUND"))}},{key:"updateDraftConversation",value:function(e,t){if(this._options.enableParameterTypeChecks){var n="deleteDraftConversation"
if(!We(e))return kd(this.id)(Tt.fromInvalidType(n,"conversationId","UUIDV4"))
if(!Array.isArray(t))return kd(this.id)(Tt.fromInvalidType(n,"newRecipientUrns","URN[]"))
if(!He(t,$e))return kd(this.id)(Tt.fromInvalidType(n,"newRecipientUrns[x]","URN"))}return this.state.draftConversations.get(e)?(this._dispatch(function(e,t){return{type:"UPDATE_DRAFT_CONVERSATION",payload:{conversationId:e,recipientUrns:t}}}(e,t)),Promise.resolve(this.state.draftConversations.get(e))):kd(this.id)(Tt.fromClientErrorMemo("DRAFT_CONVERSATION_NOT_FOUND"))}},{key:"setConversationAsActive",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{markConvoReadTypes:"NO_CHANGE",setConvoActiveSyncOption:"FALLBACK_SYNC"},n=arguments.length>2?arguments[2]:void 0
if(this._options.enableParameterTypeChecks){var r="setConversationAsActive"
if(!Xe(e))return kd(this.id)(Tt.fromInvalidType(r,"convoIdentifier","URN | UUIDV4"))
if(!tt(t))return kd(this.id)(Tt.fromInvalidType(r,"convoActivationOption","ConvoActivationOption"))
if(n&&!ut(n))return kd(this.id)(Tt.fromInvalidType(r,"trackingData","TrackingData"))}var i=this._getConversationByIdentifier(e,"FullMailboxState"),a=this.state.connected.realtime
return i?Ke(i)?("MARK_READ"!==t.markConvoReadTypes&&"MARK_UNREAD"!==t.markConvoReadTypes||this.updateConversationsReadStatus(ae({},i.entityUrn,"MARK_READ"===t.markConvoReadTypes)).then((function(){return Promise.resolve()})).catch(kd(this.id)),"ALWAYS_SYNC"!==t.setConvoActiveSyncOption&&i.metadata.syncToken&&a?Promise.resolve():this.syncConversationMessages(i.entityUrn,"FullMailboxState",n)):Promise.resolve():kd(this.id)(Tt.fromClientErrorMemoWithComment("CONVERSATION_DOES_NOT_EXIST","Setting convo as active"))}},{key:"updateConversation",value:function(e,t){if(this._options.enableParameterTypeChecks){var n="updateConversation"
if(!$e(e))return kd(this.id)(Tt.fromInvalidType(n,"conversationUrn","URN"))
if(!je(t)||Array.isArray(t))return kd(this.id)(Tt.fromInvalidType(n,"status","ConversationUpdate<C, M>"))}var r=ae({},e,t)
return this._dispatch(Vd(r)),hd(this.networkConfig,e,t).then((function(){return Promise.resolve()})).catch(kd(this.id))}},{key:"updateConversationsReadStatus",value:function(e){if(this._options.enableParameterTypeChecks&&!rt(e))return kd(this.id)(Tt.fromInvalidType("updateConversationsReadStatus","readStatusUpdateMap","UrnUpdateMap"))
var t=Ie(Ee(e).map((function(t){return[t,{read:e[t]}]})))
return this._dispatch(Vd(t)),function(e,t){var n="updateConversations",r=Ee(t),i={}
r.forEach((function(e){i[e]={patch:{$set:t[e]}}}))
var a=JSON.stringify({entities:i}),o=nd(n),s=function(e,t){var n=Ho(t),r="messengerConversations?ids=List(".concat(n,")")
return Fo("restli",e.messengerResource,r)}(e,r)
return mc(s,a).catch(ed(n)).then(o)}(this.networkConfig,t).then((function(){return Promise.resolve()})).catch(kd(this.id))}},{key:"addCategoryToConversations",value:function(e,t){if(this._options.enableParameterTypeChecks){var n="addCategoryToConversations"
if(!Array.isArray(e))return kd(this.id)(Tt.fromInvalidType(n,"conversationUrns","URN[]"))
if(!He(e,$e))return kd(this.id)(Tt.fromInvalidType(n,"conversationUrns[x]","URN"))
if(!st(t))return kd(this.id)(Tt.fromInvalidType(n,"category","ConversationCategory"))}return this._dispatchCategoryUpdate(e,t,"ADD"),function(e,t,n){var r="addCategoryToConversationsAPI",i=JSON.stringify({conversationUrns:t,category:n}),a=nd(r),o=function(e){return Fo("restli",e.messengerResource,"messengerConversations",{action:"addCategory"})}(e)
return mc(o,i).catch(ed(r)).then(a)}(this.networkConfig,e,t).then((function(){return Promise.resolve()})).catch(kd(this.id))}},{key:"removeCategoryFromConversations",value:function(e,t){if(this._options.enableParameterTypeChecks){var n="removeCategoryFromConversations"
if(!Array.isArray(e))return kd(this.id)(Tt.fromInvalidType(n,"conversationUrns","URN[]"))
if(!He(e,$e))return kd(this.id)(Tt.fromInvalidType(n,"conversationUrns[x]","URN"))
if(!st(t))return kd(this.id)(Tt.fromInvalidType(n,"category","ConversationCategory"))}return this._dispatchCategoryUpdate(e,t,"REMOVE"),function(e,t,n){var r="removeCategoryFromConversationsAPI",i=JSON.stringify({conversationUrns:t,category:n}),a=nd(r),o=function(e){return Fo("restli",e.messengerResource,"messengerConversations",{action:"removeCategory"})}(e)
return mc(o,i).catch(ed(r)).then(a)}(this.networkConfig,e,t).then((function(){return Promise.resolve()})).catch(kd(this.id))}},{key:"updateConversationTitle",value:function(e,t){if(this._options.enableParameterTypeChecks){var n="updateConversationTitle"
if(!$e(e))return kd(this.id)(Tt.fromInvalidType(n,"conversationUrn","URN"))
if(!Ve(t))return kd(this.id)(Tt.fromInvalidType(n,"title","string"))}var r=ae({},e,{title:t})
return this._dispatch(Vd(r)),function(e,t,n){var r=JSON.stringify({patch:{$set:{title:n}}})
return fd(e,t,r)}(this.networkConfig,e,t).then((function(){return Promise.resolve()})).catch(kd(this.id))}},{key:"deleteConversation",value:function(e){var t=this
return this._options.enableParameterTypeChecks&&!$e(e)?kd(this.id)(Tt.fromInvalidType("deleteConversation","conversationUrn","URN")):function(e,t){var n="deleteConversation",r="messengerConversations/".concat(encodeURIComponent(t)),i=nd(n)
return gc(e,r).catch(ed(n)).then(i)}(this.networkConfig,e).then((function(){t._dispatch(Hd(e))})).catch(kd(this.id))}},{key:"deleteConversations",value:function(e){var t=this
if(this._options.enableParameterTypeChecks){var n="deleteConversations"
if(!Array.isArray(e))return kd(this.id)(Tt.fromInvalidType(n,"conversationUrns","URN[]"))
if(!He(e,$e))return kd(this.id)(Tt.fromInvalidType(n,"conversationUrns[x]","URN"))}return function(e,t){var n="bulkDeleteConversations",r=Ho(t),i="messengerConversations?ids=List(".concat(r,")"),a=nd(n)
return gc(e,i).catch(ed(n)).then(a)}(this.networkConfig,e).then((function(){t._dispatch(Gd(e))})).catch(kd(this.id))}},{key:"loadOlderConversations",value:function(){var e=this
if(this._isLoadingConversations)return Promise.resolve(0)
if("search"!==this.filter.kind&&this.state.status.fullyLoaded)return Promise.resolve(0)
this._isLoadingConversations=!0
var t=this.state.conversations.last()
this._dispatch(Qd(!0))
var n=t?t.lastActivityAt.getTime():null,r=this._cursor
return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null
switch(n.kind){case"category":var o,s,c,d,u={category:n.category,count:r.convCount}
return a?cd(e,t,a,u,{pageInstance:null===(o=r.trackingOptions)||void 0===o||null===(s=o.getPageInstance)||void 0===s?void 0:s.call(o)}):dd(e,t,i,u,{pageInstance:null===(c=r.trackingOptions)||void 0===c||null===(d=c.getPageInstance)||void 0===d?void 0:d.call(c)})
case"search":var l,p,f=n.categories,h=n.keywords,m=n.read,g=n.firstDegreeConnections
return ld(e,t,f,null!=h?h:null,g,m,a,{pageInstance:null===(l=r.trackingOptions)||void 0===l||null===(p=l.getPageInstance)||void 0===p?void 0:p.call(l)})}}(this.networkConfig,this.id,this.filter,this.options,n,r).then(Fu).then((function(t){var n=t.data,i=t.requestId,a=function(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{kind:"category",category:"INBOX"},a=arguments.length>3?arguments[3]:void 0
if(!e||!e.elements)throw Tt.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"conversationsResponseDataToState: data or its elements is missing"})
var o={},s=e.elements.filter(Ys).map((function(e){var n=fe(Xs(e,t,oc(i)?i.id:void 0),2),r=n[0]
return n[1].forEach((function(e){a&&"enabled"===a["voyager.web.messaging-sdk-missing-participants-fix"]?o[e.hostIdentityUrn]=e:Qe(e)&&e.hostIdentityUrn.includes(e.firstName)?Ue("Failed participant decoration",e.entityUrn):o[e.hostIdentityUrn]=e})),r}))
return{conversations:s,participants:o,nextCursor:null!==(n=null===(r=e.metadata)||void 0===r?void 0:r.nextCursor)&&void 0!==n?n:null}}(n,e.createNewDraftMessage(),e.filter,e.experimentalValues),o=a.conversations,s=a.participants,c=a.nextCursor
e._cursor=c,e._fullyLoaded=null===c||c===r,e._oldestConversationTime=zu(o,e._oldestConversationTime)
var d="search"!==e.filter.kind
return e._dispatch(function(e,t){return{type:"ADD_OLDER_CONVERSATIONS",payload:{nextCursor:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,conversations:e,participants:t,fullyLoaded:arguments.length>3?arguments[3]:void 0,writeCategories:arguments.length>4?arguments[4]:void 0},requestId:arguments.length>5?arguments[5]:void 0}}(o,Ce(s),e._cursor,e._fullyLoaded,d,i)),e.clientSensorTrackers.triggerRecipientMetric("conversation-list-load-more-success"),o.length})).catch((function(t){return e.clientSensorTrackers.triggerRecipientMetric("conversation-list-load-more-fail"),e._dispatch(Qd(!1)),kd(e.id)(t)})).finally((function(){e._isLoadingConversations=!1}))}},{key:"sendMessage",value:function(e,t,n,r){if(this._options.enableParameterTypeChecks){var i="sendMessage"
if(!Xe(e))return kd(this.id)(Tt.fromInvalidType(i,"convoIdentifier","URN | UUIDV4"))
if(!at(t))return kd(this.id)(Tt.fromInvalidType(i,"content","TextFragment"))
if(!Se(n)&&!dt(n))return kd(this.id)(Tt.fromInvalidType(i,"optionalSendData","OptionalSendData"))
if(!Se(r)&&!ut(r))return kd(this.id)(Tt.fromInvalidType(i,"trackingData","TrackingData | undefined"))}var a=this._getConversationByIdentifier(e)
return a?Ke(a)?(this._throttledTypingFns[a.entityUrn]&&this._throttledTypingFns[a.entityUrn][1](),this._sendMessageInExistingConvo(a,t,n,r)):this._sendFullMessageInDraftConversation(a,t,n,r):kd(this.id)(Tt.fromClientErrorMemoWithComment("CONVERSATION_DOES_NOT_EXIST","Sending message"))}},{key:"sendPendingMessages",value:function(e){var t=this
if(this._options.enableParameterTypeChecks&&!Xe(e))return kd(this.id)(Tt.fromInvalidType("sendPendingMessages","conversationId","URN | UUIDV4"))
var n=this._getConversationByIdentifier(e)
if(!n)return kd(this.id)(Tt.fromClientErrorMemoWithComment("CONVERSATION_DOES_NOT_EXIST","Send pending messages"))
if(Ke(n)){var r
if("InProgress"===(null===(r=n.status)||void 0===r?void 0:r.sending))return kd(this.id)(Tt.fromClientErrorMemo("SENDING_QUEUE_IN_PROGRESS"))
this._dispatch(Vd(Bu(n,"InProgress")))}else{if("InProgress"===n.sending)return kd(this.id)(Tt.fromClientErrorMemo("SENDING_QUEUE_IN_PROGRESS"))
this._dispatch(au(n.clientId,"InProgress"))}return this._getRequestQueue("messageSend",n.clientId).start(Yt(this,n.clientId)).then((function(){return n.clientId})).finally((function(){0===t._getRequestQueue("messageSend",n.clientId).length&&(Ke(n)?t._dispatch(Vd(Bu(n,"Ready"))):t._dispatch(au(n.clientId,"Ready")))}))}},{key:"retrySendMessage",value:function(e,t,n){if(this._options.enableParameterTypeChecks){var r="retrySendMessage"
if(!Xe(e))return kd(this.id)(Tt.fromInvalidType(r,"convoIdentifier","URN | UUIDV4"))
if(!We(t))return kd(this.id)(Tt.fromInvalidType(r,"messageId","UUIDV4"))
if(!Se(n)&&!ut(n))return kd(this.id)(Tt.fromInvalidType(r,"trackingData","TrackingData | undefined"))}var i=this._getConversationByIdentifier(e)
if(!i)return kd(this.id)(Tt.fromClientErrorMemoWithComment("CONVERSATION_DOES_NOT_EXIST","Retry send message"))
var a=i.messages.getByIdentifier(t)
if(!a)return kd(this.id)(Tt.fromClientErrorMemo("MESSAGE_DOES_NOT_EXIST"))
this._dispatch(ou(i.clientId,t))
var o=this._getConversationByIdentifier(e)
return o?Ke(o)?this._sendMessageInExistingConvo(o,a.content,a.optionalSendData,n,"RETRY"):this._sendFullMessageInDraftConversation(o,a.content,a.optionalSendData,n,"RETRY"):kd(this.id)(Tt.fromClientErrorMemoWithComment("CONVERSATION_DOES_NOT_EXIST","Retry send message getting updated state"))}},{key:"fetchEntities",value:function(e){var t=this
if(this._options.enableParameterTypeChecks){var n="fetchEntities"
if(!Array.isArray(e))return kd(this.id)(Tt.fromInvalidType(n,"entities","GenericEntity[]"))
var r,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
if(!n){if(Array.isArray(e)||(n=me(e))){n&&(e=n)
var r=0,i=function(){}
return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1
return{s:function(){n=n.call(e)},n:function(){var e=n.next()
return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(e)
try{for(i.s();!(r=i.n()).done;){var a=r.value
if(!Lt(a))return kd(this.id)(Tt.fromInvalidType(n,"entities","GenericEntity[]"))}}catch(e){i.e(e)}finally{i.f()}}var o,s,c=fe(an(e),2),d=c[0],u=c[1],l=this.state.incompleteRetriableEntities
return function(e,t,n){var r=e.state.incompleteRetriableEntities
t&&t.length>0&&t.map((function(t){r.findIndex((function(e){return Ut(e)&&e.conversationUrn===t&&0===e.retryCount}))>-1&&e.clientSensorTrackers.triggerRecipientMetric("messenger-incomplete-data-received")})),n&&n.length>0&&n.map((function(t){r.findIndex((function(e){return Dt(e)&&e.messageUrn===t&&0===e.retryCount}))>-1&&e.clientSensorTrackers.triggerRecipientMetric("messenger-incomplete-data-received")}))}(this,d,u),o=d.length?id(this.networkConfig,d,1).then((function(e){return Zs(e,t.createNewDraftMessage())})).then((function(e){var n=e.conversations,r=e.participants,i=e.requestId
return t._dispatch(zd(n,Ce(r),null,i)),t._updateLocalParticipant(),Yu(t,l,n,void 0),Promise.resolve(n)})).catch(kd(this.id)):Promise.resolve(),s=u.length?function(e,t,n){var r="getMessagesByIds",i=Ss(e,{messengerMessagesIds:t}),a=td(r)
return Yc(e,i,r,void 0)().catch(ed(r)).then(a)}(this.networkConfig,u).then((function(e){return function(e){var t,n,r=(null!==(t=null===(n=e.data)||void 0===n?void 0:n.messengerMessagesByIds)&&void 0!==t?t:[]).filter(xe)
if(!e||!e.data)throw Tt.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"messagesByIdsResponseToStates: messengerMessagesByIds response is missing"})
var i=ac(r)
return{messages:i.messages,participants:i.participants,requestId:e.requestId}}(e)})).then((function(e){var n=e.messages,r=e.participants,i=e.requestId,a=n.filter(xe).reduce((function(e,t){return e[t.entityUrn]=t,e}),{})
return t._dispatch(tu(a,void 0,i)),t._dispatch(Fd(r)),t._updateLocalParticipant(),Yu(t,l,void 0,n),Promise.resolve(n)})).catch(kd(this.id)):Promise.resolve(),Promise.allSettled([o,s]).then((function(e){var t={conversations:{status:null},messages:{status:null}}
return e.forEach((function(e,n){var r=0===n?"conversations":"messages"
t[r]={status:e.status},"fulfilled"===e.status?t[r].value=e.value:t[r].reason=e.reason})),t}))}},{key:"editMessage",value:function(e,t,n){var r,i,a=this
if(this._options.enableParameterTypeChecks){var o="editMessage"
if(!$e(e))return kd(this.id)(Tt.fromInvalidType(o,"conversationUrn","URN"))
if(!$e(t))return kd(this.id)(Tt.fromInvalidType(o,"messageUrn","URN"))
if(!at(n))return kd(this.id)(Tt.fromInvalidType(o,"editedMessage","TextFragment"))}return(null===(r=this.state.conversations.getByIdentifier(e))||void 0===r||null===(i=r.messages)||void 0===i?void 0:i.getByIdentifier(t))?function(e,t,n){var r="editConversationMessage",i=JSON.stringify({patch:{$set:{body:n}}}),a=function(e,t){var n="messengerMessages/".concat(encodeURIComponent(t))
return Fo("restli",e.messengerResource,n)}(e,t),o=nd(r)
return mc(a,i).catch(ed(r)).then(o)}(this.networkConfig,t,n).then((function(){a._dispatch(tu(ae({},t,{content:n,messageBodyRenderFormat:"EDITED"}),e))})).catch((function(e){return kd(a.id)(Tt.fromClientErrorMemo("MESSAGE_EDIT_FAILED",e))})):kd(this.id)(Tt.fromClientErrorMemo("MESSAGE_DOES_NOT_EXIST"))}},{key:"deleteMessage",value:function(e,t){var n=this
if(this._options.enableParameterTypeChecks){var r="deleteMessage"
if(!Xe(e))return kd(this.id)(Tt.fromInvalidType(r,"conversationId","URN | UUIDV4"))
if(!Xe(t))return kd(this.id)(Tt.fromInvalidType(r,"messageId","UUIDV4 | UUIDV4"))}var i=this._getConversationByIdentifier(e)
if(!i)return kd(this.id)(Tt.fromClientErrorMemoWithComment("CONVERSATION_DOES_NOT_EXIST","Delete message"))
var a=i.messages.getByIdentifier(t)
if(!a)return kd(this.id)(Tt.fromClientErrorMemo("MESSAGE_DOES_NOT_EXIST"))
if(a.entityUrn&&Ke(i)){var o=a.entityUrn
return function(e,t){var n="deleteConversationMessage",r=JSON.stringify({messageUrn:t}),i=function(e){return Fo("restli",e.messengerResource,"messengerMessages",{action:"recall"})}(e),a=nd(n)
return mc(i,r).catch(ed(n)).then(a)}(this.networkConfig,o).then((function(){n._dispatch(tu(ae({},o,{messageBodyRenderFormat:"RECALLED"}),i.entityUrn))})).catch((function(e){return kd(n.id)(Tt.fromClientErrorMemo("MESSAGE_DELETE_FAILED",e))}))}return this._dispatch(ou(i.clientId,a.clientId)),this.options.continueOnFailure||this.sendPendingMessages(e),Promise.resolve()}},{key:"react",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"FilteredMailboxState"
if(this._options.enableParameterTypeChecks){var i="react"
if(!$e(e))return kd(this.id)(Tt.fromInvalidType(i,"messageUrn","URN"))
if(!Ve(t))return kd(this.id)(Tt.fromInvalidType(i,"emoji","string"))}var a=this.state.conversations.findMessage(e,r)
if(!a)return kd(this.id)(Tt.fromClientErrorMemo("MESSAGE_DOES_NOT_EXIST"))
var o=Ye(this.state.conversations,e,r)
return this._reactAttemptWouldExceedCap(a,t)?kd(this.id)(Tt.fromClientErrorMemo("REACTION_LIMIT_REACHED")):(this._dispatch(nu(e,{emoji:t,viewerReacted:!0})),this._getRequestQueue("reactions",o.clientId).enqueue((function(){return vd(n.networkConfig,e,t).then((function(){return Promise.resolve(o.clientId)})).catch((function(){return n._dispatch(nu(e,{emoji:t,viewerReacted:!1})),Promise.resolve(o.clientId)}))})))}},{key:"unreact",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"FilteredMailboxState"
if(this._options.enableParameterTypeChecks){var i="unreact"
if(!$e(e))return kd(this.id)(Tt.fromInvalidType(i,"messageUrn","URN"))
if(!Ve(t))return kd(this.id)(Tt.fromInvalidType(i,"emoji","string"))}var a=Ye(this.state.conversations,e,r)
return a?(this._dispatch(nu(e,{emoji:t,viewerReacted:!1})),this._getRequestQueue("reactions",a.clientId).enqueue((function(){return bd(n.networkConfig,e,t).then((function(){return Promise.resolve(a.clientId)})).catch((function(){return n._dispatch(nu(e,{emoji:t,viewerReacted:!0})),Promise.resolve(a.clientId)}))}))):kd(this.id)(Tt.fromClientErrorMemo("MESSAGE_DOES_NOT_EXIST"))}},{key:"getReactors",value:function(e,t){var n=this
if(this._options.enableParameterTypeChecks){var r="getReactors"
if(!$e(e))return kd(this.id)(Tt.fromInvalidType(r,"messageUrn","URN"))
if(!Ve(t))return kd(this.id)(Tt.fromInvalidType(r,"emoji","string"))}return function(e,t,n){var r="getReactorsByMessageAndEmojiAPI",i=Os(e,{messageUrn:t,emoji:n}),a=td(r)
return hc(i).catch(ed(r)).then(a)}(this.networkConfig,e,t).then((function(r){var i=function(e){if(!e.data||!e.data.messengerMessagingParticipantsByMessageAndEmoji||!e.data.messengerMessagingParticipantsByMessageAndEmoji.elements)throw Tt.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"reactorsResponseToReactorsState: messengerMessagingParticipantsByMessageAndEmoji response is missing"})
var t=e.requestId
return{reactors:e.data.messengerMessagingParticipantsByMessageAndEmoji.elements.reduce((function(e,t){return t&&t.hostIdentityUrn&&e.push(t.hostIdentityUrn),e}),[]),requestId:t}}(r),a=i.reactors,o=i.requestId
return n._dispatch(nu(e,{emoji:t,reactors:a},o)),Promise.resolve({reactors:a})})).catch((function(e){return kd(n.id)(Tt.fromClientErrorMemo("GET_REACTORS_FAILED",e))}))}},{key:"updateDraftMessage",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ADD"
if(this._options.enableParameterTypeChecks){var a="updateDraftMessage"
if(!Xe(e))throw Id(this.id)(Tt.fromInvalidType(a,"conversationIdentifier","URN | UUIDV4"))
if(!Se(t)&&!at(t))throw Id(this.id)(Tt.fromInvalidType(a,"content","TextFragment | undefined"))
if(!Se(n)&&!dt(n))throw Id(this.id)(Tt.fromInvalidType(a,"optionalSendData","OptionalSendData | undefined"))
if(!nt(i))throw Id(this.id)(Tt.fromInvalidType(a,"optionalSendData","ContentUpdateMode"))}var o=this._getConversationByIdentifier(e)
if(o)if(!Ke(o)&&o.messages.length>0)Id(this.id)(Tt.fromClientErrorMemo("CANNOT_ADD_MESSAGES_IN_CONVERSATION"))
else{var s=Ft(o.draftMessage.optionalSendData,null!=n?n:{renderContent:[]},i),c=Ks(this.participant.hostIdentityUrn,t,s)
if(this.options.typingIndicatorDelayInSecond>=0&&Ke(o)){var d=o.entityUrn
d in this._throttledTypingFns||(this._throttledTypingFns[d]=dn((function(){md(r.networkConfig,d).catch(wd(r.id))}),1e3*this.options.typingIndicatorDelayInSecond)),this._throttledTypingFns[d][0]()}this._dispatch(iu(o.clientId,c))}else Id(this.id)(Tt.fromClientErrorMemoWithComment("CONVERSATION_DOES_NOT_EXIST","Updating draft message"))}},{key:"sendDraftMessage",value:function(e,t){var n,r=this
if(this._options.enableParameterTypeChecks){var i="updateConversation"
if(!Xe(e))return kd(this.id)(Tt.fromInvalidType(i,"conversationId","URN | UUIDV4"))
if(!Se(t)&&!ut(t))return kd(this.id)(Tt.fromInvalidType(i,"trackingData","TrackingData | undefined"))}var a=this._getConversationByIdentifier(e)
if(!a)return kd(this.id)(Tt.fromClientErrorMemoWithComment("CONVERSATION_DOES_NOT_EXIST","Sending draft message"))
if(!Ke(a)&&a.messages.length>0)return kd(this.id)(Tt.fromClientErrorMemo("CANNOT_ADD_MESSAGES_IN_CONVERSATION"))
var o=a.draftMessage.content,s=null===(n=a.draftMessage.optionalSendData)||void 0===n?void 0:n.renderContent,c=function(e){switch(e.kind){case"MEMBER":return"".concat(e.firstName," ").concat(e.lastName)
case"ORGANIZATION":case"CUSTOM":return"".concat(e.name.text)
default:return""}}(this.participant),d=a.draftMessage.clientId
if(""==o.text&&(!s||0===s.length))return kd(this.id)(Tt.fromClientErrorMemo("DRAFT_MESSAGE_IS_EMPTY"))
this._dispatch(function(e,t,n){return{type:"DRAFT_MESSAGE_READY_TO_SEND",payload:{clientId:e,senderName:t},requestId:void 0}}(a.clientId,c))
var u,l=this._getConversationByIdentifier(e)
return l?Ke(l)?(this._throttledTypingFns[l.entityUrn]&&this._throttledTypingFns[l.entityUrn][1](),"Failed"!==(null===(u=l.status)||void 0===u?void 0:u.sending)&&this._dispatch(Vd(Bu(l,"InProgress"))),this._getRequestQueue("messageSend",l.clientId).enqueue((function(){return Nu(r.networkConfig,r.id,l,d,r._dispatch.bind(r),r,t).catch((function(e){return r.options.continueOnFailure||r._dispatch(Vd(Bu(l,"Failed"))),kd(r.id)(Tt.fromClientErrorMemo("MESSAGE_SEND_FAILED",e))}))}),d,Yt(this,l.clientId)).finally((function(){0===r._getRequestQueue("messageSend",l.clientId).length&&r._dispatch(Vd(Bu(l,"Ready")))}))):("Failed"!==l.sending&&this._dispatch(au(l.clientId,"InProgress")),this._getRequestQueue("messageSend",l.clientId).enqueue((function(){return Pu(r.networkConfig,r.participant.hostIdentityUrn,l,d,r._dispatch.bind(r),r,t).then((function(e){var t
return(null===(t=r.state.conversations.getByIdentifier(e))||void 0===t?void 0:t.clientId)||a.clientId})).catch((function(e){return r.options.continueOnFailure||r._dispatch(au(l.clientId,"Failed")),kd(r.id)(Tt.fromClientErrorMemo("MESSAGE_SEND_FAILED",e))}))}),d,Yt(this,l.clientId)).finally((function(){0===r._getRequestQueue("messageSend",l.clientId).length&&r._dispatch(au(l.clientId,"Ready"))}))):kd(this.id)(Tt.fromClientErrorMemoWithComment("CONVERSATION_DOES_NOT_EXIST","Sending draft message while getting updated conversation"))}},{key:"loadOlderMessages",value:function(e,t){if(this._options.enableParameterTypeChecks){var n="loadOlderMessages"
if(!$e(e))return kd(this.id)(Tt.fromInvalidType(n,"convoUrn","URN"))
if(!qe(t))return kd(this.id)(Tt.fromInvalidType(n,"count","number"))}var r=this.state.conversations.getByIdentifier(e,"FullMailboxState")
if(!r)return kd(this.id)(Tt.fromClientErrorMemoWithComment("CONVERSATION_DOES_NOT_EXIST","Getting older messages"))
if(r.status.fullyLoaded||r.status.loading)return Promise.resolve(0)
var i=r.metadata.prevCursor
return i?this._getOlderMessagesByCursor(e,r,t,i):this._getOlderMessagesByTimestamp(e,r,t)}},{key:"dismissInlineWarning",value:function(e){var t=this
return this._options.enableParameterTypeChecks&&!$e(e)?kd(this.id)(Tt.fromInvalidType("dismissInlineWarning","messageUrn","URN")):function(e,t){var n="dismissInlineWarningAPI",r=JSON.stringify({messageUrn:t}),i=function(e){return Fo("restli",e.messengerResource,"messengerMessages",{action:"dismissInlineWarning"})}(e),a=nd(n)
return mc(i,r).catch(ed(n)).then(a)}(this.networkConfig,e).then((function(){return Promise.resolve()})).catch((function(e){return kd(t.id)(Tt.fromClientErrorMemo("CANNOT_DISMISS_INLINE_WARNING",e))}))}},{key:"addParticipantsToConversation",value:function(e,t,n){var r=this
if(this._options.enableParameterTypeChecks){var i="addParticipantsToConversation"
if(!$e(e))return kd(this.id)(Tt.fromInvalidType(i,"convoUrn","URN"))
if(!Array.isArray(t))return kd(this.id)(Tt.fromInvalidType(i,"participantUrns","URN[]"))
if(!He(t,$e))return kd(this.id)(Tt.fromInvalidType(i,"participantUrns[x]","URN"))
if(n&&!Array.isArray(n))return kd(this.id)(Tt.fromInvalidType(i,"messageRequestContextByRecipient","MessageRequestContextByRecipient[]"))}return this._getConversationByIdentifier(e)?function(e,t,n,r){var i="addParticipantsToConversation",a=JSON.stringify({participants:t,conversationUrn:n,messageRequestContextByRecipient:r}),o=Fo("restli",e.messengerResource,"messengerConversations",{action:"addParticipants"}),s=nd(i)
return mc(o,a).catch(ed(i)).then(s)}(this.networkConfig,t,e,n).then((function(){return Promise.resolve()})).catch((function(e){return kd(r.id)(Tt.fromClientErrorMemo("CANNOT_ADD_PARTICIPANTS_IN_CONVERSATION",e))})):kd(this.id)(Tt.fromClientErrorMemoWithComment("CONVERSATION_DOES_NOT_EXIST","Adding participants"))}},{key:"removeParticipantsFromConversation",value:function(e,t){var n,r,i,a,o,s,c,d=this,u="removeParticipantsFromConversation"
return $e(e)?Array.isArray(t)?He(t,$e)?this._getConversationByIdentifier(e)?(n=this.networkConfig,r=t,i=e,a="removeParticipantsFromConversation",o=JSON.stringify({participants:r,conversationUrn:i}),s=Fo("restli",n.messengerResource,"messengerConversations",{action:"removeParticipants"}),c=nd(a),mc(s,o).catch(ed(a)).then(c)).then((function(){return Promise.resolve()})).catch((function(e){return kd(d.id)(Tt.fromClientErrorMemo("CANNOT_REMOVE_PARTICIPANTS_FROM_CONVERSATION",e))})):kd(this.id)(Tt.fromClientErrorMemoWithComment("CONVERSATION_DOES_NOT_EXIST","Removing participants")):kd(this.id)(Tt.fromInvalidType(u,"participantUrns[x]","URN")):kd(this.id)(Tt.fromInvalidType(u,"participantUrns","URN[]")):kd(this.id)(Tt.fromInvalidType(u,"convoUrn","URN"))}},{key:"markAllConversationsAsRead",value:function(e){var t=this
if(this._options.enableParameterTypeChecks){var n="markAllConversationsAsRead"
if(!Array.isArray(e))return kd(this.id)(Tt.fromInvalidType(n,"categories","ConversationCategory[]"))
if(!He(e,st))return kd(this.id)(Tt.fromInvalidType(n,"categories[x]","ConversationCategory"))}var r=e.map((function(e){return e.toUpperCase()}))
return function(e,t,n){var r="markAllConversationsAsReadAPI",i=Ms(e,{mailboxUrn:t,categories:n}),a=td(r)
return hc(i).catch(ed(r)).then(a)}(this.networkConfig,this.id,e).then((function(e){var n=function(e){var t,n
if(void 0===(null===(t=e.data)||void 0===t||null===(n=t.doMarkAllConversationsAsReadMessengerConversations)||void 0===n?void 0:n.result))throw Tt.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"markAllConversationsAsReadResponseToState: doMarkAllConversationsAsReadMessengerConversations is missing"})
return{allSynchronouslyProcessed:e.data.doMarkAllConversationsAsReadMessengerConversations.result.allSynchronouslyProcessed,requestId:e.requestId}}(e),i=n.allSynchronouslyProcessed,a=n.requestId
return i&&t._dispatch(function(e,t,n){return{type:"UPDATE_ALL_CONVERSATIONS_IN_CATEGORIES",payload:{categories:e,conversationUpdate:{read:!0}},requestId:n}}(r,0,a)),Promise.resolve()}))}},{key:"conversationAccept",value:function(e,t,n){if(this._options.enableParameterTypeChecks){var r="conversationAccept"
if(!$e(e))return kd(this.id)(Tt.fromInvalidType(r,"convoUrn","URN"))
if(!function(e){return"boolean"==typeof e}(t))return kd(this.id)(Tt.fromInvalidType(r,"state","boolean"))
if(!Se(n)&&!at(n))return kd(this.id)(Tt.fromInvalidType(r,"message","TextFragment | undefined"))}var i=this._getConversationByIdentifier(e)
return i&&Ke(i)?n?this.sendMessage(e,n,{renderContent:[],conversationState:t?"ACCEPTED":"DECLINED"}):this.updateConversation(e,{state:t?"ACCEPTED":"DECLINED"}):kd(this.id)(Tt.fromClientErrorMemoWithComment("CONVERSATION_DOES_NOT_EXIST","Conversation accept"))}},{key:"_getSeenReceipts",value:function(e){var t,n,r,i,a,o=this
return(t=this.networkConfig,n=e,r="getSeenReceiptsByConversation",i=ks(t,{conversationUrn:n}),a=td(r),hc(i).catch(ed(r)).then(a)).then((function(t){var n=function(e){if(!e.data||!e.data.messengerSeenReceiptsByConversation||!e.data.messengerSeenReceiptsByConversation.elements)throw Tt.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"seenReceiptsResponseToSeenReceiptsState: messengerSeenReceiptsByConversation response is missing"})
var t=e.data.messengerSeenReceiptsByConversation.elements,n=e.requestId,r={}
return t.forEach((function(e){var t={participantUrn:e.seenByParticipant.hostIdentityUrn,seenAt:e.seenAt},n=e.message.entityUrn
r[n]?r[n].push(t):r[n]=[t]})),{seenReceiptsMap:r,requestId:n}}(t),r=n.seenReceiptsMap,i=n.requestId
return o._dispatch(Vd(ae({},e,{seenReceiptsMap:r}),i)),Promise.resolve(r)}))}},{key:"_getQuickReplies",value:function(e){var t,n,r,i,a,o=this
return(t=this.networkConfig,n=e,r="getQuickRepliesByConversationAPI",i=Ns(t,{conversationUrn:n}),a=td(r),hc(i).catch(ed(r)).then(a)).then((function(t){var n=function(e){if(!e.data||!e.data.messengerQuickRepliesByConversation||!e.data.messengerQuickRepliesByConversation.elements)throw Tt.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"quickRepliesResponseToQuickRepliesState: messengerQuickRepliesByConversation response is missing"})
return{quickReplies:e.data.messengerQuickRepliesByConversation.elements,requestId:e.requestId}}(t),r=n.quickReplies,i=n.requestId,a=o._getConversationByIdentifier(e)
if(!a||!Ke(a))return Promise.resolve(void 0)
var s=Jt(a,r)
return o._dispatch(function(e,t,n){return{type:"UPDATE_CONVERSATION_QUICK_REPLIES",payload:{conversationUrn:e,quickReplies:t},requestId:n}}(e,s,i)),Promise.resolve(r)}))}},{key:"createNewDraftMessage",value:function(){return Ks(this.participant.hostIdentityUrn)}},{key:"_getConversationByIdentifier",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FullMailboxState"
return We(e)&&this.state.draftConversations.has(e)?this.state.draftConversations.get(e):this.state.conversations.getByIdentifier(e,t)}},{key:"networkConfig",get:function(){return this._retrieveNetworkConfig()}},{key:"_notifyErrorSubscribers",value:function(e){this._stateSubscribers.length>0?this._stateSubscribers.forEach((function(t){var n
return null===(n=t.error)||void 0===n?void 0:n.call(t,e)})):this._pendingErrors.push(e)}},{key:"_getOlderMessagesByTimestamp",value:function(e,t,n,r){var i=this
this._dispatch(Xd(t.clientId,!0))
var a=t.messages.length>0?t.messages.at(0).deliveredAt.getTime():Date.now()
return function(e,t,n,r,i,a){var o="getConversationMessagesByTimestamp",s=As(e,{deliveredAt:n,conversationUrn:t,countBefore:r,countAfter:0}),c=td(o)
return Yc(e,s,o,a)().catch(ed(o)).then(c)}(this.networkConfig,e,a,n,0,r).then((function(e){var n,r,a,o,s,c,d=null===(n=e.data)||void 0===n||null===(r=n.messengerMessagesByAnchorTimestamp)||void 0===r||null===(a=r.metadata)||void 0===a?void 0:a.prevCursor,u=null!==(o=null===(s=e.data)||void 0===s||null===(c=s.messengerMessagesByAnchorTimestamp)||void 0===c?void 0:c.elements)&&void 0!==o?o:[],l=ac(u),p=l.messages,f=l.participants,h=null===d
return i._dispatch(Xd(t.clientId,!1)),i._dispatch(Fd(f,e.requestId)),i._dispatch(Yd(p,t.entityUrn,h,d,e.requestId)),i.clientSensorTrackers.triggerRecipientMetric("message-list-load-more-success"),p.length})).catch((function(e){return i._dispatch(Xd(t.clientId,!1)),i.clientSensorTrackers.triggerRecipientMetric("message-list-load-more-fail"),kd(i.id)(Tt.fromClientErrorMemo("LOAD_OLDER_MESSAGES_FAILED",e))}))}},{key:"_getOlderMessagesByCursor",value:function(e,t,n,r,i){var a=this
return this._dispatch(Xd(t.clientId,!0)),function(e,t,n,r,i){var a="getConversationMessagesByConversation",o={conversationUrn:t,count:n}
r&&(o.prevCursor=r)
var s=Cs(e,o),c=td(a)
return Yc(e,s,a,i)().catch(ed(a)).then(c)}(this.networkConfig,e,n,r,i).then((function(e){var n,i,o,s,c,d,u=null===(n=e.data)||void 0===n||null===(i=n.messengerMessagesByConversation)||void 0===i||null===(o=i.metadata)||void 0===o?void 0:o.prevCursor,l=null!==(s=null===(c=e.data)||void 0===c||null===(d=c.messengerMessagesByConversation)||void 0===d?void 0:d.elements)&&void 0!==s?s:[],p=ac(l),f=p.messages,h=p.participants,m=null===u||r===u
return a._dispatch(Xd(t.clientId,!1)),a._dispatch(Fd(h,e.requestId)),a._dispatch(Yd(f,t.entityUrn,m,u,e.requestId)),a.clientSensorTrackers.triggerRecipientMetric("message-list-load-more-success"),f.length})).catch((function(e){return a._dispatch(Xd(t.clientId,!1)),a.clientSensorTrackers.triggerRecipientMetric("message-list-load-more-fail"),kd(a.id)(Tt.fromClientErrorMemo("LOAD_OLDER_MESSAGES_FAILED",e))}))}},{key:"_getRequestQueue",value:function(t,n){return e._queues[t][n]||(e._queues[t][n]=new Zu(this.options.continueOnFailure)),e._queues[t][n]}},{key:"_sendMessageInExistingConvo",value:function(e,t,n,r){var i,a=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"FIRST",s=Vs({senderUrn:this.participant.hostIdentityUrn,content:t,optionalSendData:n})
this._dispatch($d(s,e.clientId))
var c=this.state.conversations.getByIdentifier(e.entityUrn,"FullMailboxState")
return c?("Failed"!==(null===(i=c.status)||void 0===i?void 0:i.sending)&&this._dispatch(Vd(Bu(c,"InProgress"))),this._getRequestQueue("messageSend",c.clientId).enqueue((function(){return Nu(a.networkConfig,a.id,c,s.clientId,a._dispatch.bind(a),a,r,o).catch((function(e){return a.options.continueOnFailure||a._dispatch(Vd(Bu(c,"Failed"))),kd(a.id)(Tt.fromClientErrorMemo("MESSAGE_SEND_FAILED",e))}))}),s.clientId,Yt(this,c.clientId)).finally((function(){0===a._getRequestQueue("messageSend",c.clientId).length&&a._dispatch(Vd(Bu(c,"Ready")))}))):kd(this.id)(Tt.fromClientErrorMemoWithComment("CONVERSATION_DOES_NOT_EXIST","Send message in existing conversation"))}},{key:"_updateLocalParticipant",value:function(){var e,t=this
this._localParticipant=null!==(e=Ce(_d(this._id).participants).find((function(e){return e.entityUrn===t._localParticipant.entityUrn})))&&void 0!==e?e:this._localParticipant}},{key:"_dispatchCategoryUpdate",value:function(e,t,n){var r=this,i=e.reduce((function(e,i){var a,o,s=null!==(a=null===(o=r.state.conversations.getByIdentifier(i))||void 0===o?void 0:o.categories)&&void 0!==a?a:[]
return J(J({},e),{},ae({},i,"ADD"===n?{categories:[].concat(he(s.filter((function(e){return e!==t}))),[t])}:{categories:s.filter((function(e){return e!==t}))}))}),{})
this._dispatch(Vd(i))}},{key:"_reactAttemptWouldExceedCap",value:function(e,t){return 20===e.reactions.length&&!e.reactions.find((function(e){return e.emoji===t}))}},{key:"_updateConvoStateListClientId",value:function(e){var t=this,n=[]
return e.forEach((function(e){var r=e.entityUrn,i=t.state.conversations.getByIdentifier(r,"FullMailboxState")
if(i){var a=J(J({},e),{},{clientId:i.clientId})
n.push(a)}else n.push(e)})),n}}]),e}()
ae(il,"_queues",{messageSend:{},reactions:{}})
var al=function(){function e(){ne(this,e)}return ie(e,null,[{key:"prioritySortedListMaxSize",get:function(){return e.poolCap-e.pinnedMailboxList.length}},{key:"prioritySortedListAvailableSpace",get:function(){return e.prioritySortedListMaxSize-e.prioritySortedMailboxList.length}},{key:"sortedPrioritySortedMailboxList",get:function(){return e.prioritySortedMailboxList.sort((function(e,t){var n,r,i=null===(n=_d(e.urn))||void 0===n?void 0:n.lastActivityAt,a=null===(r=_d(t.urn))||void 0===r?void 0:r.lastActivityAt
return!i&&a?1:i&&!a?-1:i||a?a.getTime()-i.getTime():0}))}},{key:"sortAndUpdatePrioritySortedMailboxList",value:function(){e.prioritySortedMailboxList=e.sortedPrioritySortedMailboxList}},{key:"clear",value:function(){e.pinnedMailboxList=[],e.prioritySortedMailboxList=[]}},{key:"findConnection",value:function(t){return e.pinnedMailboxList.concat(e.prioritySortedMailboxList).find((function(e){return e.urn===t}))}},{key:"addMailbox",value:function(t,n,r){if(Uu(n))e.pinnedMailboxList=e.pinnedMailboxList.concat(t)
else{var i,a=null===(i=n.experimental)||void 0===i?void 0:i["voyager.web.messaging-sdk-unlimited-mailboxes"]
if(0===e.prioritySortedListAvailableSpace)if("m2"===a){e.sortAndUpdatePrioritySortedMailboxList()
var o=e.prioritySortedMailboxList[e.prioritySortedMailboxList.length-1]
o&&e.disconnectMailbox(o.urn,r)}else{var s=e.prioritySortedMailboxList[0]
s&&e.disconnectMailbox(s.urn,r)}e.prioritySortedMailboxList="m2"===a?[t].concat(e.prioritySortedMailboxList):e.prioritySortedMailboxList.concat(t)}}},{key:"disconnectMailbox",value:function(t,n){var r=e.findConnection(t)
r&&(e.prioritySortedMailboxList=e.prioritySortedMailboxList.filter((function(e){return e.urn!==t})),null==n||n.triggerGeneralMetric("unlimited-mailboxes-disconnect-mailbox"),Q().removeContext(t),r.mailboxHandlers&&function(e,t){var n=Q(),r=he(fe(e.getRealtimeTopics(),2)[1].values()).filter((function(e){return!e.endsWith(":myself")}))
r.length>0&&(Pe("Unsubscribing from broadcast topics","Number of topics: ".concat(r.length)),n.removeSubscriptions(r).then((function(e){7===e.succeeded.length?null==t||t.triggerGeneralMetric("unlimited-mailboxes-unsubscribe-topics"):Pe("Removing broadcast topics subscriptions failed for these topics:",e.failed.join(", "))})).catch((function(e){Pe("Removing broadcast topics subscriptions failed! ❌",e)})))}(r.mailboxHandlers,n),function(e){(function(e){var t=At[e]
St(t)&&t.observers.forEach((function(e){return e.complete()}))})(e),At[e]=xt}(t))}}]),e}()
ae(al,"pinnedMailboxList",[]),ae(al,"prioritySortedMailboxList",[]),ae(al,"poolCap",5)
var ol=function(){function e(t,n){var r,i=this
ne(this,e),ae(this,"_participantClientId",fs()),ae(this,"_urn",void 0),ae(this,"_options",void 0),ae(this,"_realtimeEventsTopics",new Map),ae(this,"_realtimeAuthToken",null),ae(this,"_networkConfig",null),ae(this,"_renewAuthTokenTask",null),ae(this,"mailboxHandlers",null),this._urn=t,this._options=n,this._renewAuthTokenTask=new j((function(){i._fetchAndUpdateAuth(i._options)})),e.clientSensorTrackersMap[t]=nl(null===(r=n.trackingOptions)||void 0===r?void 0:r.incrementMetricCounterHandler)}return ie(e,[{key:"_retrieveNetworkConfig",value:function(){return Se(this._networkConfig)&&(this._networkConfig=qu(this._options)),this._networkConfig}},{key:"networkConfig",get:function(){return this._retrieveNetworkConfig()}},{key:"_dispatch",value:function(e){var t,n=this,r=this._options.decorators,i=r.mailboxDecorator,a=r.messagesDecorator,o=r.participantsDecorator,s=xd(this._urn)
if(function(e,t){if(null!=e)return!0
throw new Error(t||"Assertion failed")}(s,"Could not link to the Redux store for this MailBox for urn: ".concat(this._urn))){var c=_d(this._urn),d=c.status.lastRequestId
switch(e.requestId&&d>e.requestId&&Ue("Invalid requestId: the store was updated since the request was made. Store lastRequestId: ".concat(d,", action requestId: ").concat(e.requestId)),s.dispatch(e),c=_d(this._urn),e.type){case"CONNECT":if(i)try{i(c).then((function(e){e&&s.dispatch(function(e){return{type:"DECORATE_MAILBOX",payload:e}}(e))})).catch(Rd(this._urn,"MAILBOX_DECORATE_FAILED"))}catch(e){Rd(this._urn,"MAILBOX_DECORATE_FAILED")(e)}break
case"ADD_MAILBOX_PARTICIPANTS":var u=e.payload.participants
u.length>0&&o&&this._invokeParticipantsDecorator(o,u,s)
break
case"ADD_CONVERSATION":var l=e.payload,p=l.conversation,f=l.participants,h=Kt([p])
this._invokeDecorators([p],f,h)
break
case"ADD_OLDER_CONVERSATIONS":case"ADD_CONVERSATIONS":var m=e.payload,g=m.conversations,y=m.participants,v=Kt(g)
this._invokeDecorators(g,y,v)
break
case"ADD_NEW_MESSAGE_BY_CONVO_URN":var b=e.payload,T=b.message,_=b.conversationUrn
a&&this._invokeMessageDecorator(a,_,[T],s)
break
case"ADD_NEW_MESSAGES":case"ADD_OLDER_MESSAGES":var E=e.payload,x=E.messages,S=E.conversationUrn
x.length&&a&&this._invokeMessageDecorator(a,S,x,s)
break
case"UPDATE_MESSAGES":if(a){var C=e.payload.conversationUrn,A=e.payload.messageUpdateMap
if(!C){var k=Ee(A),I=c.conversations.find((function(e){return void 0!==e.messages.getByIdentifier(k[0])}),"FullMailboxState")
if(!I)return
C=I.entityUrn}(t=A,Object.entries(t)).forEach((function(e){var t=fe(e,2),r=t[0],i=t[1]
if(C)try{a([i]).then(function(e,t,n){return function(r){e.dispatch(function(e,t,n){return{type:"DECORATE_MESSAGE",payload:{messageUrn:t,conversationUrn:n,data:e}}}(r,n,t))}}(s,C,r)).catch(Rd(n._urn,"MESSAGE_DECORATE_FAILED"))}catch(e){Rd(n._urn,"MESSAGE_DECORATE_FAILED")(e)}}))}}}}},{key:"_invokeParticipantsDecorator",value:function(e,t,n){try{e(t).then(function(e,t){return function(n){var r
e.dispatch((r=Ie(t.map((function(e,t){return[e.entityUrn,n[t]]}))),{type:"DECORATE_PARTICIPANTS",payload:{data:r}}))}}(n,t)).catch(Rd(this._urn,"PARTICIPANTS_DECORATE_FAILED"))}catch(e){var r=Tt.fromUnknown(e,"PARTICIPANTS_DECORATE_FAILED")
wd(this._urn)(r)}}},{key:"_invokeAllMessageDecorator",value:function(e,t,n){try{e(t).then(function(e,t){return function(n){var r
n.length>0&&e.dispatch((r=Ie(t.map((function(e,t){return[e.clientId,n[t]]}))),{type:"DECORATE_ALL_MESSAGES",payload:{data:r}}))}}(n,t)).catch(Rd(this._urn,"MESSAGE_DECORATE_FAILED"))}catch(e){var r=Tt.fromUnknown(e,"MESSAGE_DECORATE_FAILED")
wd(this._urn)(r)}}},{key:"_invokeMessageDecorator",value:function(e,t,n,r){try{e(n).then(function(e,t,n){return function(r){r.length>0&&e.dispatch(function(e,t){return{type:"DECORATE_MESSAGES",payload:{data:t,conversationUrn:e}}}(t,Ie(n.map((function(e,t){return[e.clientId,r[t]]})))))}}(r,t,n)).catch(Rd(this._urn,"MESSAGE_DECORATE_FAILED"))}catch(e){var i=Tt.fromUnknown(e,"MESSAGE_DECORATE_FAILED")
wd(this._urn)(i)}}},{key:"_invokeDecorators",value:function(e,t,n){var r=this._options.decorators,i=r.messagesDecorator,a=r.conversationsDecorator,o=r.participantsDecorator,s=xd(this._urn)
s&&(e.length>0&&a&&this._invokeConversationsDecorator(a,e,s),t.length>0&&o&&this._invokeParticipantsDecorator(o,t,s),n.length>0&&i&&this._invokeAllMessageDecorator(i,n,s))}},{key:"_invokeConversationsDecorator",value:function(e,t,n){try{var r=cn.fromConversationArray(t)
e(r).then(function(e,t){return function(n){var r
n.length>0&&e.dispatch((r=Ie(t.map((function(e,t){return[e.clientId,n[t]]}))),{type:"DECORATE_CONVERSATIONS",payload:{data:r}}))}}(n,r)).catch(Rd(this._urn,"CONVERSATION_DECORATE_FAILED"))}catch(e){var i=Tt.fromUnknown(e,"CONVERSATION_DECORATE_FAILED")
wd(this._urn)(i)}}},{key:"_getRealtimeTopics",value:function(){return[this._realtimeAuthToken,this._realtimeEventsTopics]}},{key:"_updateRealtimeAuth",value:function(e){var t,n
this._realtimeEventsTopics=(n=e.realtimeTopics)?new Map([["TypingIndicator",n.typingIndicatorsBroadcastTopicUrn],["NewMessage",n.messagesBroadcastTopicUrn],["ConversationUpdate",n.conversationsBroadcastTopicUrn],["ConversationDelete",n.conversationDeletesBroadcastTopicUrn],["SeenReceipt",n.messageSeenReceiptsBroadcastTopicUrn],["QuickReplies",n.replySuggestionBroadcastTopicUrn],["ReactionSummary",n.messageReactionSummariesBroadcastTopicUrn]]):new Map([["TypingIndicator","urn:li-realtime:typingIndicatorsTopic:urn:li-realtime:myself"],["NewMessage","urn:li-realtime:messagesTopic:urn:li-realtime:myself"],["ConversationUpdate","urn:li-realtime:conversationsTopic:urn:li-realtime:myself"],["ConversationDelete","urn:li-realtime:conversationDeletesTopic:urn:li-realtime:myself"],["SeenReceipt","urn:li-realtime:messageSeenReceiptsTopic:urn:li-realtime:myself"],["QuickReplies","urn:li-realtime:replySuggestionTopicV2:urn:li-realtime:myself"],["ReactionSummary","urn:li-realtime:messageReactionSummariesTopic:urn:li-realtime:myself"]]),this._realtimeAuthToken=null!==(t=e.authToken)&&void 0!==t?t:null}},{key:"_fetchAndUpdateAuth",value:function(e){var t=this
return Pe("Fetching mailbox metadata for ".concat(this._urn)),function(e,t,n){var r
return"enabled"!==(null===(r=e.experimental)||void 0===r?void 0:r.RealtimeForSecondaryMailbox)||n?Promise.resolve({}):(Pe("Retrieving mailbox broadcast topics for ",t),function(e,t){var n="getRealtimeAuthTokenAPI",r=Ps(e,{mailboxUrn:t}),i=td(n)
return hc(r).catch(ed(n)).then(i)}(e,t).then((function(e){var n,r
dc(e,"messengerMailboxRealtimeSubscriptionAuthorizationTokensByMailboxUrnsInBatch")
var i,a=(i=(null!==(n=null===(r=e.data)||void 0===r?void 0:r.messengerMailboxRealtimeSubscriptionAuthorizationTokensByMailboxUrnsInBatch)&&void 0!==n?n:[]).filter(xe).map((function(e){var t
return null!==(t=e.elements)&&void 0!==t?t:[]})),i.reduce(((e,t)=>[...e,...t]),[])).filter(xe),o=a.find(gn(function(e){return function(t){return e===t}}(t),(function(e){return e.mailboxUrn})))
return o?{realtimeTopics:o,authToken:o.token}:{}})).catch((function(e){var t
if(422===(null===(t=e.originalStatusCodes)||void 0===t?void 0:t[0]))return Promise.resolve({})
throw e})))}(this.networkConfig,this._urn,Uu(e)).then((function(n){var r
t._renewAuthTokenTask&&t._renewAuthTokenTask.cancel(),t._realtimeAuthToken&&n.authToken&&(Pe("updating auth token for ".concat(t.urn," to realtime"),"...".concat(Ge(20,n.authToken))),function(e,t){if(e&&t&&e!==t){var n=Q()
n&&n.updateAuthToken(e,t)}}(n.authToken,t._realtimeAuthToken),t._realtimeAuthToken=n.authToken),n.authToken&&(Pe("Start countdown to renew JWT in ".concat(12," minutes")),null===(r=t._renewAuthTokenTask)||void 0===r||r.start(72e4)),t._updateRealtimeAuth(n)
try{var i,a
n.authToken&&(null===(i=e.trackingOptions)||void 0===i||null===(a=i.incrementMetricCounterHandler)||void 0===a||a.call(i,{groupName:"messengerData",metricName:"fetch-jwt-token-success"}))}catch(e){Pe("Error while firing client sensor for JWT",e)}return n})).catch((function(t){var n,r
throw null===(n=e.trackingOptions)||void 0===n||null===(r=n.incrementMetricCounterHandler)||void 0===r||r.call(n,{groupName:"messengerData",metricName:"fetch-jwt-token-failed"}),Pe("Error fetching JWT",t),t}))}},{key:"_createMailboxHandlers",value:function(e,t){var n=this
return this.mailboxHandlers={dispatch:this._dispatch.bind(this),handleRealtimeNewMessage:Gu(e,t,this._dispatch.bind(this)),triggerChainSync:e.syncConversations.bind(e),triggerMessagesSync:function(t,n){return e.syncConversationMessages(t,"FullMailboxState",n)},getRealtimeTopics:this._getRealtimeTopics.bind(this),fetchAndUpdateTopics:function(){return n._fetchAndUpdateAuth(n._options)},mailboxType:this._options.mailboxType,actorUrn:this._options.viewerUrn},this.mailboxHandlers}},{key:"urn",get:function(){return this._urn}},{key:"getMailbox",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Td,n=arguments.length>1?arguments[1]:void 0
if(this._options.enableParameterTypeChecks){if(!pt(t))return kd(this.urn)(Tt.fromInvalidType("getMailbox","filter","InputMailboxFilter"))
if(n&&(Array.isArray(n)||!ut(n)))return kd(this.urn)(Tt.fromInvalidType("getMailbox","trackingData","TrackingData"))}var r=oc(t)?J(J({},t),{},{id:fs()}):t,i=new il(this._urn,this._options,this._participantClientId,r,this._dispatch.bind(this),this._retrieveNetworkConfig.bind(this)),a=_d(this._urn)
return a&&!jt(a)?this._fetchAndUpdateAuth(this._options).then((function(){return Du(e._urn,e._options,i.participant,e._createMailboxHandlers(i,e.networkConfig),n,i.clientSensorTrackers)})).then((function(t){var n,r=t.data,a=r.conversations,o=r.participants,s=r.status,c=a.filter(Ke)
return i._oldestConversationTime=a.length>0?zu(he(a)):0,e._dispatch({type:"CONNECT"}),e._dispatch(zd(c,Ce(o),s.syncToken,s.lastRequestId)),i._updateLocalParticipant(),Iu(a.map((function(e){return e.backendUrn})),!0,e._urn,i.options.viewerUrn,null===(n=i.options.trackingOptions)||void 0===n?void 0:n.trackingFireEvent),i.clientSensorTrackers.triggerRecipientMetric("conversation-list-sync-success"),s.syncToken||Cd(e.urn,Tt.fromApiErrorMemo("ERRORS_IN_RESPONSE",{msg:"SyncToken is null on initial Mailbox bootstrap"})),pd(e.networkConfig,e._urn).then((function(e){return sc(e)})).then((function(t){xd(e._urn)?e._dispatch(cu(t.counters,t.requestId)):Ue("Mailbox was destroyed before unread counts were received")})).catch(kd(e._urn)),i})):(i.state.conversations.length<20&&i.loadOlderConversations(),Promise.resolve(i))}},{key:"disconnect",value:function(){this.networkConfig.teardown()}},{key:"teardown",value:function(){this.networkConfig.teardown()}}],[{key:"create",value:function(t,n){var r,i
n.headers&&(r=n.headers,Ls=r),n.graphQlQueryIds&&(i=n.graphQlQueryIds,Object.keys(i).forEach((function(e){Wo.set(e,i[e])}))),function(e,t){if(At[e])return!1
var n=function(e,t){return{entityUrn:e,lastActivityAt:new Date,conversations:cn.fromConversationArray(),participants:{},draftConversations:Md(),connected:{api:t.connected,realtime:t.connected},additionalData:null,status:J(J({},Et),{},{loading:t.loading}),unreadCounts:{},incompleteRetriableEntities:[]}}(e,{connected:!1,loading:!0}),r=mn(Ld,n)
At[e]={store:r,observers:[]},r.subscribe((function(){!function(e){var t=At[e]
St(t)&&(t.observers.forEach((function(e){return e.next(t.store.getState())})),t.observers.length)}(e)}))}(t)
var a=new e(t,n)
return Promise.resolve(a)}}]),e}()
function sl(e,t){var n
if(Se(e)||!$e(e))return Promise.reject(Tt.fromInvalidType("connectToMailbox","mailboxUrn","URN"))
if(!je(t))return Promise.reject(Tt.fromInvalidType("connectToMailbox","options","Partial<MailboxOptions>"))
var r=null===(n=t.experimental)||void 0===n?void 0:n["voyager.web.messaging-sdk-unlimited-mailboxes"]
if("mvp"===r||"m2"===r){var i=al.findConnection(e)
if(!i){var a=J(J({},js),t),o=ol.create(e,a)
return function(e,t,n){cl.apply(this,arguments)}(o,a,e),ol.clientSensorTrackersMap[e].triggerGeneralMetric("unlimited-mailboxes-connect-mailbox"),o}return Promise.resolve(i)}var s=J(J({},js),t)
return ol.create(e,s)}function cl(){return cl=function(e){return function(){var t=this,n=arguments
return new Promise((function(r,i){var a=e.apply(t,n)
function o(e){te(a,r,i,o,s,"next",e)}function s(e){te(a,r,i,o,s,"throw",e)}o(void 0)}))}}(Z().mark((function e(t,n,r){var i
return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t
case 2:i=e.sent,al.addMailbox(i,n,ol.clientSensorTrackersMap[r])
case 4:case"end":return e.stop()}}),e)}))),cl.apply(this,arguments)}ae(ol,"clientSensorTrackersMap",{})},83173:(e,t)=>{"use strict"
function n(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function r(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var n=e[Symbol.toPrimitive]
if(void 0!==n){var r=n.call(e,"string")
if("object"!=typeof r)return r
throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e)
return"symbol"==typeof t?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0})
var a="function"==typeof Symbol&&Symbol.observable||"@@observable",o=()=>{}
function s(e){var t=[e]
return t.tag=0,t}function c(e){var t=[e]
return t.tag=1,t}function d(e){return t=>n=>{var r=o
t((t=>{0===t?n(0):0===t.tag?(r=t[0],n(t)):e(t[0])?n(t):r(0)}))}}function u(e){return t=>n=>t((t=>{0===t||0===t.tag?n(t):n(c(e(t[0])))}))}var l,p=()=>Symbol.observable||"@@observable"
function f(e){return e=e[p()]?e[p()]():e,t=>{var n=e.subscribe({next(e){t(c(e))},complete(){t(0)},error(){}})
t(s((e=>{1===e&&n.unsubscribe()})))}}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
for(var r=t[0],i=1,a=t.length;i<a;i++)r=t[i](r)
return r}l=Symbol.observable
var m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"_subscribers",new Set),r(this,"_lastState",void 0),r(this,"_complete",!1),this._lastState=null!=t?t:null}var t,i
return t=e,(i=[{key:"subscribe",value:function(e){var t=this,n="function"==typeof e?{next:e}:e
return this._subscribers.add(n),null!==this._lastState&&n.next(this._lastState),{unsubscribe:function(){return t._subscribers.delete(n)}}}},{key:"subscribersCount",get:function(){return this._subscribers.size}},{key:"state",get:function(){return this._lastState}},{key:"observable",get:function(){return this}},{key:l,value:function(){return this}},{key:a,value:function(){return this}},{key:"emit",value:function(e){this._complete||(this._lastState=e,this._subscribers.forEach((function(t){return t.next(e)})))}},{key:"error",value:function(e){this._complete||this._subscribers.forEach((function(t){var n
return null===(n=t.error)||void 0===n?void 0:n.call(t,e)}))}},{key:"complete",value:function(){this._complete||(this._complete=!0,this._subscribers.forEach((function(e){var t
return null===(t=e.complete)||void 0===t?void 0:t.call(e)})))}}])&&n(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),g=function(e){return function(t){return h(t,function(e,t){return e=>n=>{var r=t
e((e=>{0===e?n(0):0===e.tag?n(e):n(c(r=function(e,t){return e.prev=e.current,e.current=t,e}(r,e[0])))}))}}(0,{prev:void 0,current:void 0}),d((function(t){return null==t.prev||!e(t.prev,t.current)})),u((function(e){return e.current})))}},y=function(){return g((function(e,t){return e===t}))},v=function(e){var t,n=new m
return h(e,(t=function(e){n.emit(e)},e=>{var n=o,r=!1
return e((e=>{0===e?r=!0:0===e.tag?(n=e[0])(0):r||(t(e[0]),n(0))})),{unsubscribe(){r||(r=!0,n(1))}}})),n},b=new Map,T=function(e,t){return d((function(n){var r,i=null!==(r=b.get(e))&&void 0!==r?r:new Set
if(n&&n.entityUrn){var a=!i.has(n.entityUrn)&&function(e,t){var n=Date.now()
return e.deliveredAt.getTime()>n-t}(n,t)
return i.add(n.entityUrn),b.set(e,i),a}return!1}))},_=function(e){return d((function(t){return void 0!==t&&t.senderUrn!==e}))}
t.Subject=m,t.conversationDraftMessageObservable=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"FilteredMailboxState",r=u((function(e){return e.conversations.getByIdentifier(t,n)})),i=f(e)
return v(h(i,r,u((function(e){return null==e?void 0:e.draftMessage})),y()))},t.conversationMessagesObservable=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"FilteredMailboxState",r=u((function(e){return e.conversations.getByIdentifier(t,n)})),i=f(e)
return v(h(i,r,u((function(e){return null==e?void 0:e.messages})),y()))},t.conversationObservable=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"FilteredMailboxState",r=u((function(e){return e.conversations.getByIdentifier(t,n)})),i=f(e)
return v(h(i,r,y()))},t.distinct=y,t.distinctUntilChanged=g,t.incompleteRetriableEntitiesObservable=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=f(e),r=u((function(e){return e.incompleteRetriableEntities})),i=d((function(e){return e.length>0}))
return v(h(n,r,y(),i,function(e){return t=>n=>{var r=0
t((t=>{0!==t&&0===t.tag?n(t):(r++,setTimeout((()=>{r&&(r--,n(t))}),e))}))}}(t),function(e){return t=>n=>{var r,i=!1
t((t=>{if(0===t)r&&clearTimeout(r),n(0)
else if(0===t.tag){var a=t[0]
n(s((e=>{1===e?(r&&clearTimeout(r),a(1)):a(0)})))}else i||(i=!0,r&&clearTimeout(r),r=setTimeout((()=>{r=void 0,i=!1}),e(t[0])),n(t))}))}}((function(){return t}))))},t.newMessageFromMailboxObservable=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,i=u((function(e){var t
return null===(t=e.conversations.first())||void 0===t?void 0:t.messages.last()})),a=_(n),o=T(t,1e3*r),s=f(e)
return v(h(s,i,a,o))},t.resetAlertedMessages=function(){b.clear()},t.toMessengerObservable=v},17:e=>{var t
self,t=()=>(()=>{"use strict"
var e={150:(e,t)=>{var n
Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorCode=void 0,(n=t.ErrorCode||(t.ErrorCode={})).BadArgument="BadArgument",n.Timeout="Timeout",n.TokenExpired="TokenExpired",n.Throttled="Throttled",n.ServerError="ServerError",n.InvalidSubdomain="InvalidSubdomain"},925:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])
return e},r.apply(this,arguments)}
Object.defineProperty(t,"__esModule",{value:!0}),t.isValidSubdomain=t.close=t.launchAsync=void 0
var i=n(411),a=n(150),o="ImmersiveReader-Preferences:",s="ImmersiveReader-LaunchResponse:",c={}
c[a.ErrorCode.TokenExpired]="The access token supplied is expired.",c[a.ErrorCode.Throttled]="You have exceeded your quota.",c[a.ErrorCode.ServerError]="An error occurred when calling the server to process the text.",c[a.ErrorCode.InvalidSubdomain]="The subdomain supplied is invalid."
var d=!1
function u(e){return!!e&&new RegExp("^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\-]{0,61}[a-zA-Z0-9])$").test(e)}t.launchAsync=function(e,t,n,l){return d?Promise.reject("Immersive Reader is already launching"):new Promise((function(p,f){if(e)if(n)if(n.chunks)if(n.chunks.length)if(u(t)||l&&l.customDomain){d=!0
var h=Date.now();(l=r({uiZIndex:1e3,timeout:15e3,useWebview:!1,allowFullscreen:!0,hideExitButton:!1,cookiePolicy:i.CookiePolicy.Disable},l)).uiZIndex&&"number"==typeof l.uiZIndex||(l.uiZIndex=1e3)
var m=null,g=document.createElement("div"),y=l.useWebview?document.createElement("webview"):document.createElement("iframe")
y.allow="autoplay; microphone",y.title="Immersive Reader Frame",y.setAttribute("aria-modal","true")
var v=document.createElement("style")
v.innerHTML="body{height:100%;overflow:hidden;}"
var b=function(){m&&(window.clearTimeout(m),m=null)},T=l.parent&&document.contains(l.parent)?l.parent:document.body,_=function(){T.contains(g)&&T.removeChild(g),window.removeEventListener("message",x),b(),v.parentNode&&v.parentNode.removeChild(v)},E=function(){if(_(),d=!1,l.onExit)try{l.onExit()}catch(e){}}
_()
var x=function(r){if(r&&r.data&&"string"==typeof r.data)if("ImmersiveReader-ReadyForContent"===r.data){b()
var i={cogSvcsAccessToken:e,cogSvcsSubdomain:t,request:n,launchToPostMessageSentDurationInMs:Date.now()-h,disableFirstRun:l.disableFirstRun,readAloudOptions:l.readAloudOptions,translationOptions:l.translationOptions,displayOptions:l.displayOptions,sendPreferences:!!l.onPreferencesChanged,preferences:l.preferences,disableTranslation:l.disableTranslation,disableGrammar:l.disableGrammar,disableLanguageDetection:l.disableLanguageDetection}
y.contentWindow.postMessage(JSON.stringify({messageType:"Content",messageValue:i}),"*")}else if("ImmersiveReader-Exit"===r.data)E()
else if(r.data.startsWith(s)){var u=null,m=null,v=null
try{v=JSON.parse(r.data.substring(s.length))}catch(e){}v&&v.success?u={container:g,sessionId:v.sessionId,charactersProcessed:v.meteredContentSize}:m=v&&!v.success?{code:v.errorCode,message:c[v.errorCode],sessionId:v.sessionId}:{code:a.ErrorCode.ServerError,message:c[a.ErrorCode.ServerError]},d=!1,u?(b(),p(u)):m&&(E(),f(m))}else if(r.data.startsWith(o)&&l.onPreferencesChanged&&"function"==typeof l.onPreferencesChanged)try{l.onPreferencesChanged(r.data.substring(o.length))}catch(e){}}
window.addEventListener("message",x),m=window.setTimeout((function(){_(),d=!1,f({code:a.ErrorCode.Timeout,message:"Page failed to load after timeout ("+l.timeout+" ms)"})}),l.timeout),l.allowFullscreen&&y.setAttribute("allowfullscreen",""),y.style.cssText=l.parent?"position: static; width: 100%; height: 100%; left: 0; top: 0; border-width: 0":"position: static; width: 100vw; height: 100vh; left: 0; top: 0; border-width: 0",l.useWebview&&y.addEventListener("loadstop",(function(){y.contentWindow.postMessage(JSON.stringify({messageType:"WebviewHost"}),"*")}))
var S=(l.customDomain?l.customDomain:"https://"+t+".cognitiveservices.azure.com/immersivereader/webapp/v1.0/")+"reader?exitCallback=ImmersiveReader-Exit&sdkPlatform=js&sdkVersion=1.3.0"
S+="&cookiePolicy="+(l.cookiePolicy===i.CookiePolicy.Enable?"enable":"disable"),l.hideExitButton&&(S+="&hideExitButton=true"),l.uiLang&&(S+="&omkt="+l.uiLang),y.src=S,g.style.cssText=l.parent?"position: relative; width: 100%; height: 100%; border-width: 0; -webkit-perspective: 1px; z-index: "+l.uiZIndex+"; background: white; overflow: hidden":"position: fixed; width: 100vw; height: 100vh; left: 0; top: 0; border-width: 0; -webkit-perspective: 1px; z-index: "+l.uiZIndex+"; background: white; overflow: hidden",g.appendChild(y),T.appendChild(g),document.head.appendChild(v)}else f({code:a.ErrorCode.InvalidSubdomain,message:c[a.ErrorCode.InvalidSubdomain]})
else f({code:a.ErrorCode.BadArgument,message:"Chunks must not be empty"})
else f({code:a.ErrorCode.BadArgument,message:"Chunks must not be null"})
else f({code:a.ErrorCode.BadArgument,message:"Content must not be null"})
else f({code:a.ErrorCode.BadArgument,message:"Token must not be null"})}))},t.close=function(){window.postMessage("ImmersiveReader-Exit","*")},t.isValidSubdomain=u},411:(e,t)=>{var n,r
Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeOption=t.CookiePolicy=void 0,(r=t.CookiePolicy||(t.CookiePolicy={}))[r.Disable=0]="Disable",r[r.Enable=1]="Enable",(n=t.ThemeOption||(t.ThemeOption={}))[n.Light=0]="Light",n[n.Dark=1]="Dark"},848:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.renderButtons=void 0
var n="data-locale",r={af:"Indompelende leser",am:"በህያው ስሜት ፈጣሪ ዕይታ አንባቢ",ar:"القارئ الشامل",as:"ইমাৰচিভ ৰিডাৰ",az:"İmmersiv Oxuyucu",be:"Імерсіўны чытальнік",bg:"Концентриран четец",bn:"মনোগ্রাহী পাঠক","bn-bd":"ইমার্সিভ পাঠক",bs:"Koncentrirani čitalac",ca:"Lector immersiu",cs:"Asistivní čtečka","cy-gb":"Darllenydd Ymdrwythol",da:"Forenklet læser",de:"Plastischer Reader",el:"Προηγμένο πρόγραμμα ανάγνωσης",en:"Immersive Reader",es:"Lector inmersivo",et:"Süvaluger",eu:"Irakurgailu murgiltzailea",fa:"خواننده همه‌جانبه",fi:"Syventävä lukuohjelma",fil:"Immersive Reader",fr:"Lecteur immersif","ga-ie":"Léitheoir tumthach",gd:"An leughadair ùr-nòsach",gl:"Lector avanzado",gu:"ઇમર્સિવ રીડર",ha:"Mai karatu Mai barbazawa",he:"תצוגת קריאה מודרנית",hi:"इमर्सिव रीडर",hr:"Stopljeni čitač",hu:"Modern olvasó",hy:"Խորասուզված ընթերցիչ",id:"Pembaca Imersif",ig:"Ọgụụ Kenzipụtara",is:"Aðgengilegt lestrarumhverfi",it:"Strumento di lettura immersiva",ja:"イマーシブ リーダー",ka:"იმერსიული წამკითხველი",kk:"Иммерсивті оқу құралы",km:"កម្មវិធីអានពណ៌រំលេចនៅលើអេក្រង់",kn:"ಇಮ್ಮರ್ಸಿವ್ ಓದುಗ",ko:"몰입형 리더",kok:"तंद्री लागिल्लो वाचक","ku-arab":"خوێنەری پڕ",ky:"Курчаган Окугуч",lb:"Immersive Reader",lo:"ຕົວອ່ານອິມເມີສີບ",lt:"Įtraukianti skaitytuvė",lv:"Tīrskata lasītājs",mi:"Pūpānui Rumaki",mk:"Сеопфатен читач",ml:"ഇമ്മേഴ്‌സീവ് റീഡർ",mn:"Идэвхтэй уншигч",mr:"इमर्सिव्ह वाचक",ms:"Pembaca Imersif",mt:"Qarrej Immersiv",ne:"इमेर्सिभ रिडर",nl:"Insluitende lezer","nn-no":"Engasjerande lesar",no:"Engasjerende leser",nso:"Go Bala ka Mongwalo o Mokoto",or:"ଇମରସିଭ୍ ରିଡର୍",pa:"ਇਮਰਸਿਵ ਰੀਡਰ","pa-arab":"گھیرن آلا مطالعہ کار",pl:"Czytnik immersyjny",prs:"خواننده نمایش",pt:"Leitura Avançada",quc:"Nim ucholajil sik'inel uwach",quz:"Wankisqa Ñawiq",ro:"Immersive Reader",ru:"Иммерсивное средство чтения",rw:"Insakazasoma",sd:"امرسو ريڊر",si:"ගිලෙන සුළු කියවනය",sk:"Imerzná čítačka",sl:"Potopni bralnik",sq:"Lexuesi kredhës","sr-cyrl-ba":"Концентрисани читалац","sr-cyrl-rs":"Концентрисани читалац","sr-latn-rs":"Koncentrisani čitalac",sv:"Avancerad läsare",sw:"Kisomaji cha Kuzamisha",ta:"அற்புதமான ரீடர்",te:"మంత్రముగ్ధులను చేసే పఠన సాధనం","tg-cyrl-tj":"Хонандаи фарогир",th:"โปรแกรมช่วยอ่าน",ti:"ኣንባቢ ሕሉው ስምዒት ፈጣሪ",tk:"Giňişleýin okaýjy",tn:"Sebadi sa Imesife",tr:"Tam Ekran Okuyucu",tt:"Чолгап алучы уку чарасы","ug-cn":"چۆكمە ئوقۇغۇچ",uk:"Занурення в текст",ur:"امرسیو مطالعہ کار",uz:"Immersiv mutolaa vositasi",vi:"Trình đọc Chân thực",wo:"Jàngukaay bu Rafet",xh:"Isifundi Esikhulu",yo:"Ìwò Alámùtán",zh:"沉浸式阅读器","zh-hant":"沈浸式閱讀程式",zu:"Isifundi Sokuzizwisa"}
function i(e){var t=document.createElement("img")
t.src="https://ircdname.azureedge.net/permanent-static-resources/immersive-reader-icon.svg"
var r=e.getAttribute("data-icon-px-size")||"20"
t.style.height=t.style.width=r+"px",t.style.verticalAlign="middle",t.style.marginTop="-2px"
var i=e.getAttribute(n)||"en"
t.alt=s(i),e.appendChild(t)}function a(e){var t=document.createElement("span")
t.style.marginLeft="8px",e.appendChild(t)}function o(e){var t=document.createElement("span"),r=e.getAttribute(n)||"en"
t.textContent=s(r),e.appendChild(t)}function s(e){return e=e.toLowerCase(),r[e]?r[e]:"zh-hk"===e||"zh-mo"===e||"zh-tw"===e?r["zh-hant"]:(e=e.substring(0,e.lastIndexOf("-")),r[e]?r[e]:(e=e.substring(0,e.lastIndexOf("-")),r[e]?r[e]:r.en))}t.renderButtons=function(e){var t=document.createElement("style")
t.innerHTML=".immersive-reader-button{cursor:pointer;display:inline-block;padding:5px;} .immersive-reader-button:hover{background:rgba(0,0,0,.05);border-radius:2px",document.head.appendChild(t)
var r=[].slice.call(document.getElementsByClassName("immersive-reader-button"))
e&&e.elements&&(r=e.elements)
for(var c=0,d=r;c<d.length;c++){var u=d[c]
u.setAttribute("role","button")
var l=u.getAttribute(n)||"en"
switch(u.setAttribute("aria-label",s(l)),u.textContent="",u.getAttribute("data-button-style")||"icon"){case"icon":i(u)
break
case"text":o(u)
break
case"iconAndText":i(u),a(u),o(u)}}}}},t={}
function n(r){var i=t[r]
if(void 0!==i)return i.exports
var a=t[r]={exports:{}}
return e[r].call(a.exports,a,a.exports,n),a.exports}var r={}
return(()=>{var e=r
Object.defineProperty(e,"__esModule",{value:!0}),e.CookiePolicy=e.launchAsync=e.close=e.renderButtons=void 0
var t=n(848)
Object.defineProperty(e,"renderButtons",{enumerable:!0,get:function(){return t.renderButtons}})
var i=n(925)
Object.defineProperty(e,"close",{enumerable:!0,get:function(){return i.close}}),Object.defineProperty(e,"launchAsync",{enumerable:!0,get:function(){return i.launchAsync}})
var a=n(411)
Object.defineProperty(e,"CookiePolicy",{enumerable:!0,get:function(){return a.CookiePolicy}}),"undefined"!=typeof window&&window.addEventListener("load",(function(){var e
window.hasOwnProperty("Promise")||((e=document.createElement("script")).src="https://ircdname.azureedge.net/permanent-static-resources/promise-polyfill.min.js",document.head.appendChild(e)),t.renderButtons()}))})(),r})(),e.exports=t()},7440:(e,t,n)=>{"use strict"
function r(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator]
if(!n)return e
var r,i,a=n.call(e),o=[]
try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}var i
n.r(t),n.d(t,{InterpreterStatus:()=>i,assign:()=>s,createMachine:()=>f,interpret:()=>m}),function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(i||(i={}))
var a={type:"xstate.init"}
function o(e){return void 0===e?[]:[].concat(e)}function s(e){return{type:"xstate.assign",assignment:e}}function c(e,t){return"string"==typeof(e="string"==typeof e&&t&&t[e]?t[e]:e)?{type:e}:"function"==typeof e?{type:e.name,exec:e}:e}function d(e){return function(t){return e===t}}function u(e){return"string"==typeof e?{type:e}:e}function l(e,t){return{value:e,context:t,actions:[],changed:!1,matches:d(e)}}function p(e,t,n){var r=t,i=!1
return[e.filter((function(e){if("xstate.assign"===e.type){i=!0
var t=Object.assign({},r)
return"function"==typeof e.assignment?t=e.assignment(r,n):Object.keys(e.assignment).forEach((function(i){t[i]="function"==typeof e.assignment[i]?e.assignment[i](r,n):e.assignment[i]})),r=t,!1}return!0})),r,i]}function f(e,t){void 0===t&&(t={})
var n=r(p(o(e.states[e.initial].entry).map((function(e){return c(e,t.actions)})),e.context,a),2),i=n[0],s=n[1],f={config:e,_options:t,initialState:{value:e.initial,actions:i,context:s,matches:d(e.initial)},transition:function(t,n){var i,a,s="string"==typeof t?{value:t,context:e.context}:t,h=s.value,m=s.context,g=u(n),y=e.states[h]
if(y.on){var v=o(y.on[g.type])
try{for(var b=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0
if(n)return n.call(e)
if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}
throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(v),T=b.next();!T.done;T=b.next()){var _=T.value
if(void 0===_)return l(h,m)
var E="string"==typeof _?{target:_}:_,x=E.target,S=E.actions,C=void 0===S?[]:S,A=E.cond,k=void 0===x
if((void 0===A?function(){return!0}:A)(m,g)){var I=e.states[null!=x?x:h],R=r(p((k?o(C):[].concat(y.exit,C,I.entry).filter((function(e){return e}))).map((function(e){return c(e,f._options.actions)})),m,g),3),w=R[0],M=R[1],O=R[2],N=null!=x?x:h
return{value:N,context:M,actions:w,changed:x!==h||w.length>0||O,matches:d(N)}}}}catch(e){i={error:e}}finally{try{T&&!T.done&&(a=b.return)&&a.call(b)}finally{if(i)throw i.error}}}return l(h,m)}}
return f}var h=function(e,t){return e.actions.forEach((function(n){var r=n.exec
return r&&r(e.context,t)}))}
function m(e){var t=e.initialState,n=i.NotStarted,r=new Set,o={_machine:e,send:function(a){n===i.Running&&(t=e.transition(t,a),h(t,u(a)),r.forEach((function(e){return e(t)})))},subscribe:function(e){return r.add(e),e(t),{unsubscribe:function(){return r.delete(e)}}},start:function(r){if(r){var s="object"==typeof r?r:{context:e.config.context,value:r}
t={value:s.value,actions:[],context:s.context,matches:d(s.value)}}return n=i.Running,h(t,a),o},stop:function(){return n=i.Stopped,r.clear(),o},get state(){return t},get status(){return n}}
return o}},56131:(e,t,n)=>{"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.OPEN_BROADCAST_CHANNELS=t.BroadcastChannel=void 0,t.clearNodeFolder=function(e){e=(0,a.fillOptionsWithDefaults)(e)
var t=(0,i.chooseMethod)(e)
return"node"===t.type?t.clearNodeFolder().then((function(){return!0})):r.PROMISE_RESOLVED_FALSE},t.enforceOptions=function(e){s=e}
var r=n(79774),i=n(69678),a=n(67229),o=new Set
t.OPEN_BROADCAST_CHANNELS=o
var s,c=0,d=function(e,t){var n,d
this.id=c++,o.add(this),this.name=e,s&&(t=s),this.options=(0,a.fillOptionsWithDefaults)(t),this.method=(0,i.chooseMethod)(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,d=(n=this).method.create(n.name,n.options),(0,r.isPromise)(d)?(n._prepP=d,d.then((function(e){n._state=e}))):n._state=d}
function u(e,t,n){var i={time:e.method.microSeconds(),type:t,data:n}
return(e._prepP?e._prepP:r.PROMISE_RESOLVED_VOID).then((function(){var t=e.method.postMessage(e._state,i)
return e._uMP.add(t),t.catch().then((function(){return e._uMP.delete(t)})),t}))}function l(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function p(e,t,n){e._addEL[t].push(n),function(e){if(!e._iL&&l(e)){var t=function(t){e._addEL[t.type].forEach((function(e){var n=e.time-1e5
t.time>=n&&e.fn(t.data)}))},n=e.method.microSeconds()
e._prepP?e._prepP.then((function(){e._iL=!0,e.method.onMessage(e._state,t,n)})):(e._iL=!0,e.method.onMessage(e._state,t,n))}}(e)}function f(e,t,n){e._addEL[t]=e._addEL[t].filter((function(e){return e!==n})),function(e){if(e._iL&&!l(e)){e._iL=!1
var t=e.method.microSeconds()
e.method.onMessage(e._state,null,t)}}(e)}t.BroadcastChannel=d,d._pubkey=!0,d.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed")
return u(this,"message",e)},postInternal:function(e){return u(this,"internal",e)},set onmessage(e){var t={time:this.method.microSeconds(),fn:e}
f(this,"message",this._onML),e&&"function"==typeof e?(this._onML=t,p(this,"message",t)):this._onML=null},addEventListener:function(e,t){p(this,e,{time:this.method.microSeconds(),fn:t})},removeEventListener:function(e,t){f(this,e,this._addEL[e].find((function(e){return e.fn===t})))},close:function(){var e=this
if(!this.closed){o.delete(this),this.closed=!0
var t=this._prepP?this._prepP:r.PROMISE_RESOLVED_VOID
return this._onML=null,this._addEL.message=[],t.then((function(){return Promise.all(Array.from(e._uMP))})).then((function(){return Promise.all(e._befC.map((function(e){return e()})))})).then((function(){return e.method.close(e._state)}))}},get type(){return this.method.type},get isClosed(){return this.closed}}},3446:(e,t,n)=>{"use strict"
var r=n(33335)
e.exports={BroadcastChannel:r.BroadcastChannel,createLeaderElection:r.createLeaderElection,clearNodeFolder:r.clearNodeFolder,enforceOptions:r.enforceOptions,beLeader:r.beLeader}},33335:(e,t,n)=>{"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BroadcastChannel",{enumerable:!0,get:function(){return r.BroadcastChannel}}),Object.defineProperty(t,"OPEN_BROADCAST_CHANNELS",{enumerable:!0,get:function(){return r.OPEN_BROADCAST_CHANNELS}}),Object.defineProperty(t,"beLeader",{enumerable:!0,get:function(){return i.beLeader}}),Object.defineProperty(t,"clearNodeFolder",{enumerable:!0,get:function(){return r.clearNodeFolder}}),Object.defineProperty(t,"createLeaderElection",{enumerable:!0,get:function(){return i.createLeaderElection}}),Object.defineProperty(t,"enforceOptions",{enumerable:!0,get:function(){return r.enforceOptions}})
var r=n(56131),i=n(93145)},93145:(e,t,n)=>{"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.beLeader=s,t.createLeaderElection=function(e,t){if(e._leaderElector)throw new Error("BroadcastChannel already has a leader-elector")
t=function(e,t){return e||(e={}),(e=JSON.parse(JSON.stringify(e))).fallbackInterval||(e.fallbackInterval=3e3),e.responseTime||(e.responseTime=t.method.averageResponseTime(t.options)),e}(t,e)
var n=new a(e,t)
return e._befC.push((function(){return n.die()})),e._leaderElector=n,n}
var r=n(79774),i=n(5365),a=function(e,t){var n=this
this.broadcastChannel=e,this._options=t,this.isLeader=!1,this.hasLeader=!1,this.isDead=!1,this.token=(0,r.randomToken)(),this._aplQ=r.PROMISE_RESOLVED_VOID,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1
var i=function(e){"leader"===e.context&&("death"===e.action&&(n.hasLeader=!1),"tell"===e.action&&(n.hasLeader=!0))}
this.broadcastChannel.addEventListener("internal",i),this._lstns.push(i)}
function o(e,t){var n={context:"leader",action:t,token:e.token}
return e.broadcastChannel.postInternal(n)}function s(e){e.isLeader=!0,e.hasLeader=!0
var t=(0,i.add)((function(){return e.die()}))
e._unl.push(t)
var n=function(t){"leader"===t.context&&"apply"===t.action&&o(e,"tell"),"leader"!==t.context||"tell"!==t.action||e._dpLC||(e._dpLC=!0,e._dpL(),o(e,"tell"))}
return e.broadcastChannel.addEventListener("internal",n),e._lstns.push(n),o(e,"tell")}a.prototype={applyOnce:function(e){var t=this
return this.isLeader?(0,r.sleep)(0,!0):this.isDead?(0,r.sleep)(0,!1):this._aplQC>1?this._aplQ:(this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then((function(){return function(){if(t.isLeader)return r.PROMISE_RESOLVED_TRUE
var n,i=!1,a=new Promise((function(e){n=function(){i=!0,e()}})),c=[],d=function(e){"leader"===e.context&&e.token!=t.token&&(c.push(e),"apply"===e.action&&e.token>t.token&&n(),"tell"===e.action&&(n(),t.hasLeader=!0))}
t.broadcastChannel.addEventListener("internal",d)
var u=e?4*t._options.responseTime:t._options.responseTime
return o(t,"apply").then((function(){return Promise.race([(0,r.sleep)(u),a.then((function(){return Promise.reject(new Error)}))])})).then((function(){return o(t,"apply")})).then((function(){return Promise.race([(0,r.sleep)(u),a.then((function(){return Promise.reject(new Error)}))])})).catch((function(){})).then((function(){return t.broadcastChannel.removeEventListener("internal",d),!i&&s(t).then((function(){return!0}))}))}()})).then((function(){t._aplQC=t._aplQC-1})),this._aplQ.then((function(){return t.isLeader})))},awaitLeadership:function(){return this._aLP||(this._aLP=(e=this).isLeader?r.PROMISE_RESOLVED_VOID:new Promise((function(t){var n=!1
function i(){n||(n=!0,e.broadcastChannel.removeEventListener("internal",a),t(!0))}e.applyOnce().then((function(){e.isLeader&&i()})),function t(){return(0,r.sleep)(e._options.fallbackInterval).then((function(){if(!e.isDead&&!n)return e.isLeader?void i():e.applyOnce(!0).then((function(){e.isLeader?i():t()}))}))}()
var a=function(t){"leader"===t.context&&"death"===t.action&&(e.hasLeader=!1,e.applyOnce().then((function(){e.isLeader&&i()})))}
e.broadcastChannel.addEventListener("internal",a),e._lstns.push(a)}))),this._aLP
var e},set onduplicate(e){this._dpL=e},die:function(){var e=this
return this._lstns.forEach((function(t){return e.broadcastChannel.removeEventListener("internal",t)})),this._lstns=[],this._unl.forEach((function(e){return e.remove()})),this._unl=[],this.isLeader&&(this.hasLeader=!1,this.isLeader=!1),this.isDead=!0,o(this,"death")}}},69678:(e,t,n)=>{"use strict"
var r=n(9154)
n(61264),Object.defineProperty(t,"__esModule",{value:!0}),t.chooseMethod=function(e){var t=[].concat(e.methods,d).filter(Boolean)
if(e.type){if("simulate"===e.type)return s.default
var n=t.find((function(t){return t.type===e.type}))
if(n)return n
throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||c.isNode||(t=t.filter((function(e){return"idb"!==e.type})))
var r=t.find((function(e){return e.canBeUsed()}))
if(r)return r
throw new Error("No useable method found in "+JSON.stringify(d.map((function(e){return e.type}))))}
var i=r(n(97594)),a=r(n(76777)),o=r(n(1095)),s=r(n(9981)),c=n(79774),d=[i.default,a.default,o.default]},76777:(e,t,n)=>{"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.averageResponseTime=E,t.canBeUsed=_,t.cleanOldMessages=h,t.close=v,t.create=m,t.createDatabase=d,t.default=void 0,t.getAllMessages=function(e){var t=e.transaction(s).objectStore(s),n=[]
return new Promise((function(e){t.openCursor().onsuccess=function(t){var r=t.target.result
r?(n.push(r.value),r.continue()):e(n)}}))},t.getIdb=c,t.getMessagesHigherThan=l,t.getOldMessages=f,t.microSeconds=void 0,t.onMessage=T,t.postMessage=b,t.removeMessageById=p,t.type=void 0,t.writeMessage=u
var r=n(79774),i=n(63583),a=n(67229),o=r.microSeconds
t.microSeconds=o
var s="messages"
function c(){if("undefined"!=typeof indexedDB)return indexedDB
if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB
if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB
if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function d(e){var t="pubkey.broadcast-channel-0-"+e,n=c().open(t,1)
return n.onupgradeneeded=function(e){e.target.result.createObjectStore(s,{keyPath:"id",autoIncrement:!0})},new Promise((function(e,t){n.onerror=function(e){return t(e)},n.onsuccess=function(){e(n.result)}}))}function u(e,t,n){var r={uuid:t,time:(new Date).getTime(),data:n},i=e.transaction([s],"readwrite")
return new Promise((function(e,t){i.oncomplete=function(){return e()},i.onerror=function(e){return t(e)},i.objectStore(s).add(r)}))}function l(e,t){var n=e.transaction(s).objectStore(s),r=[]
return new Promise((function(e){(function(){try{var e=IDBKeyRange.bound(t+1,1/0)
return n.openCursor(e)}catch(e){return n.openCursor()}}()).onsuccess=function(n){var i=n.target.result
i?i.value.id<t+1?i.continue(t+1):(r.push(i.value),i.continue()):e(r)}}))}function p(e,t){var n=e.transaction([s],"readwrite").objectStore(s).delete(t)
return new Promise((function(e){n.onsuccess=function(){return e()}}))}function f(e,t){var n=(new Date).getTime()-t,r=e.transaction(s).objectStore(s),i=[]
return new Promise((function(e){r.openCursor().onsuccess=function(t){var r=t.target.result
if(r){var a=r.value
if(!(a.time<n))return void e(i)
i.push(a),r.continue()}else e(i)}}))}function h(e,t){return f(e,t).then((function(t){return Promise.all(t.map((function(t){return p(e,t.id)})))}))}function m(e,t){return t=(0,a.fillOptionsWithDefaults)(t),d(e).then((function(n){var a={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:(0,r.randomToken)(),eMIs:new i.ObliviousSet(2*t.idb.ttl),writeBlockPromise:r.PROMISE_RESOLVED_VOID,messagesCallback:null,readQueuePromises:[],db:n}
return n.onclose=function(){a.closed=!0,t.idb.onclose&&t.idb.onclose()},g(a),a}))}function g(e){e.closed||y(e).then((function(){return(0,r.sleep)(e.options.idb.fallbackInterval)})).then((function(){return g(e)}))}function y(e){return e.closed?r.PROMISE_RESOLVED_VOID:e.messagesCallback?l(e.db,e.lastCursorId).then((function(t){var n=t.filter((function(e){return!!e})).map((function(t){return t.id>e.lastCursorId&&(e.lastCursorId=t.id),t})).filter((function(t){return function(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}(t,e)})).sort((function(e,t){return e.time-t.time}))
return n.forEach((function(t){e.messagesCallback&&(e.eMIs.add(t.id),e.messagesCallback(t.data))})),r.PROMISE_RESOLVED_VOID})):r.PROMISE_RESOLVED_VOID}function v(e){e.closed=!0,e.db.close()}function b(e,t){return e.writeBlockPromise=e.writeBlockPromise.then((function(){return u(e.db,e.uuid,t)})).then((function(){0===(0,r.randomInt)(0,10)&&h(e.db,e.options.idb.ttl)})),e.writeBlockPromise}function T(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,y(e)}function _(){return!r.isNode&&!!c()}function E(e){return 2*e.idb.fallbackInterval}t.type="idb"
var x={create:m,close:v,onMessage:T,postMessage:b,canBeUsed:_,type:"idb",averageResponseTime:E,microSeconds:o}
t.default=x},1095:(e,t,n)=>{"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.addStorageEventListener=l,t.averageResponseTime=y,t.canBeUsed=g,t.close=h,t.create=f,t.default=void 0,t.getLocalStorage=c,t.microSeconds=void 0,t.onMessage=m,t.postMessage=u,t.removeStorageEventListener=p,t.storageKey=d,t.type=void 0
var r=n(63583),i=n(67229),a=n(79774),o=a.microSeconds
t.microSeconds=o
var s="localstorage"
function c(){var e
if("undefined"==typeof window)return null
try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(e){}return e}function d(e){return"pubkey.broadcastChannel-"+e}function u(e,t){return new Promise((function(n){(0,a.sleep)().then((function(){var r=d(e.channelName),i={token:(0,a.randomToken)(),time:(new Date).getTime(),data:t,uuid:e.uuid},o=JSON.stringify(i)
c().setItem(r,o)
var s=document.createEvent("Event")
s.initEvent("storage",!0,!0),s.key=r,s.newValue=o,window.dispatchEvent(s),n()}))}))}function l(e,t){var n=d(e),r=function(e){e.key===n&&t(JSON.parse(e.newValue))}
return window.addEventListener("storage",r),r}function p(e){window.removeEventListener("storage",e)}function f(e,t){if(t=(0,i.fillOptionsWithDefaults)(t),!g())throw new Error("BroadcastChannel: localstorage cannot be used")
var n=(0,a.randomToken)(),o=new r.ObliviousSet(t.localstorage.removeTimeout),s={channelName:e,uuid:n,eMIs:o}
return s.listener=l(e,(function(e){s.messagesCallback&&e.uuid!==n&&e.token&&!o.has(e.token)&&(e.data.time&&e.data.time<s.messagesCallbackTime||(o.add(e.token),s.messagesCallback(e.data)))})),s}function h(e){p(e.listener)}function m(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t}function g(){if(a.isNode)return!1
var e=c()
if(!e)return!1
try{var t="__broadcastchannel_check"
e.setItem(t,"works"),e.removeItem(t)}catch(e){return!1}return!0}function y(){var e=navigator.userAgent.toLowerCase()
return e.includes("safari")&&!e.includes("chrome")?240:120}t.type=s
var v={create:f,close:h,onMessage:m,postMessage:u,canBeUsed:g,type:s,averageResponseTime:y,microSeconds:o}
t.default=v},97594:(e,t,n)=>{"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.averageResponseTime=l,t.canBeUsed=u,t.close=s,t.create=o,t.microSeconds=t.default=void 0,t.onMessage=d,t.postMessage=c,t.type=void 0
var r=n(79774),i=r.microSeconds
t.microSeconds=i
var a="native"
function o(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]}
return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t}function s(e){e.bc.close(),e.subFns=[]}function c(e,t){try{return e.bc.postMessage(t,!1),r.PROMISE_RESOLVED_VOID}catch(e){return Promise.reject(e)}}function d(e,t){e.messagesCallback=t}function u(){if(r.isNode&&"undefined"==typeof window)return!1
if("function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill")
return!0}return!1}function l(){return 150}t.type=a
var p={create:o,close:s,onMessage:d,postMessage:c,canBeUsed:u,type:a,averageResponseTime:l,microSeconds:i}
t.default=p},9981:(e,t,n)=>{"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.averageResponseTime=l,t.canBeUsed=u,t.close=s,t.create=o,t.microSeconds=t.default=void 0,t.onMessage=d,t.postMessage=c,t.type=void 0
var r=n(79774).microSeconds
t.microSeconds=r
var i="simulate"
t.type=i
var a=new Set
function o(e){var t={name:e,messagesCallback:null}
return a.add(t),t}function s(e){a.delete(e)}function c(e,t){return new Promise((function(n){return setTimeout((function(){Array.from(a).filter((function(t){return t.name===e.name})).filter((function(t){return t!==e})).filter((function(e){return!!e.messagesCallback})).forEach((function(e){return e.messagesCallback(t)})),n()}),5)}))}function d(e,t){e.messagesCallback=t}function u(){return!0}function l(){return 5}var p={create:o,close:s,onMessage:d,postMessage:c,canBeUsed:u,type:i,averageResponseTime:l,microSeconds:r}
t.default=p},67229:(e,t)=>{"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.fillOptionsWithDefaults=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(e))
return void 0===t.webWorkerSupport&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&"function"==typeof e.idb.onclose&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),void 0===t.node.useFastPath&&(t.node.useFastPath=!0),t}},79774:(e,t)=>{"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.isNode=t.PROMISE_RESOLVED_VOID=t.PROMISE_RESOLVED_TRUE=t.PROMISE_RESOLVED_FALSE=void 0,t.isPromise=function(e){return!(!e||"function"!=typeof e.then)},t.microSeconds=function(){var e=(new Date).getTime()
return e===a?1e3*e+ ++o:(a=e,o=0,1e3*e)},t.randomInt=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},t.randomToken=function(){return Math.random().toString(36).substring(2)},t.sleep=function(e,t){return e||(e=0),new Promise((function(n){return setTimeout((function(){return n(t)}),e)}))}
var n=Promise.resolve(!1)
t.PROMISE_RESOLVED_FALSE=n
var r=Promise.resolve(!0)
t.PROMISE_RESOLVED_TRUE=r
var i=Promise.resolve()
t.PROMISE_RESOLVED_VOID=i
var a=0,o=0,s="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)
t.isNode=s},83924:e=>{"use strict"
var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e)
return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103
function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?s((n=e,Array.isArray(n)?[]:{}),e,t):e
var n}function i(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function a(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function o(e,t){try{return t in e}catch(e){return!1}}function s(e,n,c){(c=c||{}).arrayMerge=c.arrayMerge||i,c.isMergeableObject=c.isMergeableObject||t,c.cloneUnlessOtherwiseSpecified=r
var d=Array.isArray(n)
return d===Array.isArray(e)?d?c.arrayMerge(e,n,c):function(e,t,n){var i={}
return n.isMergeableObject(e)&&a(e).forEach((function(t){i[t]=r(e[t],n)})),a(t).forEach((function(a){(function(e,t){return o(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,a)||(o(e,a)&&n.isMergeableObject(t[a])?i[a]=function(e,t){if(!t.customMerge)return s
var n=t.customMerge(e)
return"function"==typeof n?n:s}(a,n)(e[a],t[a],n):i[a]=r(t[a],n))})),i}(e,n,c):r(n,c)}s.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array")
return e.reduce((function(e,n){return s(e,n,t)}),{})}
var c=s
e.exports=c},38612:e=>{e.exports=!1},77577:(e,t,n)=>{"use strict"
n.r(t),n.d(t,{default:()=>u})
var r,i=function(){function e(){this.registry=new WeakMap}return e.prototype.elementExists=function(e){return this.registry.has(e)},e.prototype.getElement=function(e){return this.registry.get(e)},e.prototype.addElement=function(e,t){e&&this.registry.set(e,t||{})},e.prototype.removeElement=function(e){this.registry.delete(e)},e.prototype.destroyRegistry=function(){this.registry=new WeakMap},e}(),a=function(){}
!function(e){e.enter="enter",e.exit="exit"}(r||(r={}))
var o,s=function(){function e(){this.registry=new i}return e.prototype.addCallback=function(e,t,n){var i,a,o
e===r.enter?((i={})[r.enter]=n,o=i):((a={})[r.exit]=n,o=a),this.registry.addElement(t,Object.assign({},this.registry.getElement(t),o))},e.prototype.dispatchCallback=function(e,t,n){if(e===r.enter){var i=this.registry.getElement(t).enter;(void 0===i?a:i)(n)}else{var o=this.registry.getElement(t)
o&&o.exit&&o.exit(n)}},e}(),c=(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null")
function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])
return e},d.apply(this,arguments)}
const u=function(e){function t(){var t=e.call(this)||this
return t.elementRegistry=new i,t}return c(t,e),t.prototype.observe=function(e,t){void 0===t&&(t={}),e&&(this.elementRegistry.addElement(e,d({},t)),this.setupObserver(e,d({},t)))},t.prototype.unobserve=function(e,t){var n=this.findMatchingRootEntry(t)
n&&n.intersectionObserver.unobserve(e)},t.prototype.addEnterCallback=function(e,t){this.addCallback(r.enter,e,t)},t.prototype.addExitCallback=function(e,t){this.addCallback(r.exit,e,t)},t.prototype.dispatchEnterCallback=function(e,t){this.dispatchCallback(r.enter,e,t)},t.prototype.dispatchExitCallback=function(e,t){this.dispatchCallback(r.exit,e,t)},t.prototype.destroy=function(){this.elementRegistry.destroyRegistry()},t.prototype.setupOnIntersection=function(e){var t=this
return function(n){return t.onIntersection(e,n)}},t.prototype.setupObserver=function(e,t){var n,r,i=t.root,a=void 0===i?window:i,o=this.findRootFromRegistry(a)
if(o&&(r=this.determineMatchingElements(t,o)),r){var s=r.elements,c=r.intersectionObserver
s.push(e),c&&c.observe(e)}else{var d={elements:[e],intersectionObserver:c=this.newObserver(e,t),options:t},u=this.stringifyOptions(t)
o?o[u]=d:this.elementRegistry.addElement(a,((n={})[u]=d,n))}},t.prototype.newObserver=function(e,t){var n=t.root,r=t.rootMargin,i=t.threshold,a=new IntersectionObserver(this.setupOnIntersection(t).bind(this),{root:n,rootMargin:r,threshold:i})
return a.observe(e),a},t.prototype.onIntersection=function(e,t){var n=this
t.forEach((function(t){var r=t.isIntersecting,i=t.intersectionRatio,a=e.threshold||0
Array.isArray(a)&&(a=a[a.length-1])
var o=n.findMatchingRootEntry(e)
r||i>a?o&&o.elements.some((function(e){return!(!e||e!==t.target||(n.dispatchEnterCallback(e,t),0))})):o&&o.elements.some((function(e){return!(!e||e!==t.target||(n.dispatchExitCallback(e,t),0))}))}))},t.prototype.findRootFromRegistry=function(e){if(this.elementRegistry)return this.elementRegistry.getElement(e)},t.prototype.findMatchingRootEntry=function(e){var t=e.root,n=void 0===t?window:t,r=this.findRootFromRegistry(n)
if(r)return r[this.stringifyOptions(e)]},t.prototype.determineMatchingElements=function(e,t){var n=this,r=Object.keys(t).filter((function(r){var i=t[r].options
return n.areOptionsSame(e,i)}))[0]
return t[r]},t.prototype.areOptionsSame=function(e,t){if(e===t)return!0
var n=Object.prototype.toString.call(e),r=Object.prototype.toString.call(t)
if(n!==r)return!1
if("[object Object]"!==n&&"[object Object]"!==r)return e===t
if(e&&t&&"object"==typeof e&&"object"==typeof t)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&!1===this.areOptionsSame(e[i],t[i]))return!1
return!0},t.prototype.stringifyOptions=function(e){var t=e.root
return JSON.stringify(e,(function(e,n){if("root"===e&&t){var r=Array.prototype.slice.call(t.classList).reduce((function(e,t){return e+t}),""),i=t.id
return"".concat(i,"-").concat(r)}return n}))},t}(s)},63583:(e,t,n)=>{"use strict"
n.r(t),n.d(t,{ObliviousSet:()=>r,now:()=>a,removeTooOldValues:()=>i})
var r=function(){function e(e){this.ttl=e,this.set=new Set,this.timeMap=new Map}return e.prototype.has=function(e){return this.set.has(e)},e.prototype.add=function(e){var t=this
this.timeMap.set(e,a()),this.set.add(e),setTimeout((function(){i(t)}),0)},e.prototype.clear=function(){this.set.clear(),this.timeMap.clear()},e}()
function i(e){for(var t=a()-e.ttl,n=e.set[Symbol.iterator]();;){var r=n.next().value
if(!r)return
if(!(e.timeMap.get(r)<t))return
e.timeMap.delete(r),e.set.delete(r)}}function a(){return(new Date).getTime()}},79103:(e,t,n)=>{"use strict"
n.r(t),n.d(t,{default:()=>De})
var r=Object.create
function i(){var e=r(null)
return e.__=void 0,delete e.__,e}var a=function(e,t,n){this.path=e,this.matcher=t,this.delegate=n}
a.prototype.to=function(e,t){var n=this.delegate
if(n&&n.willAddRoute&&(e=n.willAddRoute(this.matcher.target,e)),this.matcher.add(this.path,e),t){if(0===t.length)throw new Error("You must have an argument in the function passed to `to`")
this.matcher.addChild(this.path,e,t,this.delegate)}}
var o=function(e){this.routes=i(),this.children=i(),this.target=e}
function s(e,t,n){return function(r,i){var o=e+r
if(!i)return new a(o,t,n)
i(s(o,t,n))}}function c(e,t,n){for(var r=0,i=0;i<e.length;i++)r+=e[i].path.length
var a={path:t=t.substr(r),handler:n}
e.push(a)}function d(e,t,n,r){for(var i=t.routes,a=Object.keys(i),o=0;o<a.length;o++){var s=a[o],u=e.slice()
c(u,s,i[s])
var l=t.children[s]
l?d(u,l,n,r):n.call(r,u)}}function u(e){return e.split("/").map(p).join("/")}o.prototype.add=function(e,t){this.routes[e]=t},o.prototype.addChild=function(e,t,n,r){var i=new o(t)
this.children[e]=i
var a=s(e,i,r)
r&&r.contextEntered&&r.contextEntered(t,a),n(a)}
var l=/%|\//g
function p(e){return e.length<3||-1===e.indexOf("%")?e:decodeURIComponent(e).replace(l,encodeURIComponent)}var f=/%(?:2(?:4|6|B|C)|3(?:B|D|A)|40)/g
function h(e){return encodeURIComponent(e).replace(f,decodeURIComponent)}var m=/(\/|\.|\*|\+|\?|\||\(|\)|\[|\]|\{|\}|\\)/g,g=Array.isArray,y=Object.prototype.hasOwnProperty
function v(e,t){if("object"!=typeof e||null===e)throw new Error("You must pass an object as the second argument to `generate`.")
if(!y.call(e,t))throw new Error("You must provide param `"+t+"` to `generate`.")
var n=e[t],r="string"==typeof n?n:""+n
if(0===r.length)throw new Error("You must provide a param `"+t+"`.")
return r}var b=[]
b[0]=function(e,t){for(var n=t,r=e.value,i=0;i<r.length;i++){var a=r.charCodeAt(i)
n=n.put(a,!1,!1)}return n},b[1]=function(e,t){return t.put(47,!0,!0)},b[2]=function(e,t){return t.put(-1,!1,!0)},b[4]=function(e,t){return t}
var T=[]
T[0]=function(e){return e.value.replace(m,"\\$1")},T[1]=function(){return"([^/]+)"},T[2]=function(){return"(.+)"},T[4]=function(){return""}
var _=[]
_[0]=function(e){return e.value},_[1]=function(e,t){var n=v(t,e.value)
return M.ENCODE_AND_DECODE_PATH_SEGMENTS?h(n):n},_[2]=function(e,t){return v(t,e.value)},_[4]=function(){return""}
var E=Object.freeze({}),x=Object.freeze([])
function S(e,t,n){t.length>0&&47===t.charCodeAt(0)&&(t=t.substr(1))
for(var r=t.split("/"),i=void 0,a=void 0,o=0;o<r.length;o++){var s,c,d=r[o]
12&(s=2<<(c=""===d?4:58===d.charCodeAt(0)?1:42===d.charCodeAt(0)?2:0))&&(d=d.slice(1),(i=i||[]).push(d),(a=a||[]).push(0!=(4&s))),14&s&&n[c]++,e.push({type:c,value:p(d)})}return{names:i||x,shouldDecodes:a||x}}function C(e,t,n){return e.char===t&&e.negate===n}var A=function(e,t,n,r,i){this.states=e,this.id=t,this.char=n,this.negate=r,this.nextStates=i?t:null,this.pattern="",this._regex=void 0,this.handlers=void 0,this.types=void 0}
function k(e,t){return e.negate?e.char!==t&&-1!==e.char:e.char===t||-1===e.char}function I(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var a=e[r]
n=n.concat(a.match(t))}return n}A.prototype.regex=function(){return this._regex||(this._regex=new RegExp(this.pattern)),this._regex},A.prototype.get=function(e,t){var n=this.nextStates
if(null!==n)if(g(n))for(var r=0;r<n.length;r++){var i=this.states[n[r]]
if(C(i,e,t))return i}else{var a=this.states[n]
if(C(a,e,t))return a}},A.prototype.put=function(e,t,n){var r
if(r=this.get(e,t))return r
var i=this.states
return r=new A(i,i.length,e,t,n),i[i.length]=r,null==this.nextStates?this.nextStates=r.id:g(this.nextStates)?this.nextStates.push(r.id):this.nextStates=[this.nextStates,r.id],r},A.prototype.match=function(e){var t=this.nextStates
if(!t)return[]
var n=[]
if(g(t))for(var r=0;r<t.length;r++){var i=this.states[t[r]]
k(i,e)&&n.push(i)}else{var a=this.states[t]
k(a,e)&&n.push(a)}return n}
var R=function(e){this.length=0,this.queryParams=e||{}}
function w(e){var t
e=e.replace(/\+/gm,"%20")
try{t=decodeURIComponent(e)}catch(e){t=""}return t}R.prototype.splice=Array.prototype.splice,R.prototype.slice=Array.prototype.slice,R.prototype.push=Array.prototype.push
var M=function(){this.names=i()
var e=[],t=new A(e,0,-1,!0,!1)
e[0]=t,this.states=e,this.rootState=t}
M.prototype.add=function(e,t){for(var n,r=this.rootState,i="^",a=[0,0,0],o=new Array(e.length),s=[],c=!0,d=0,u=0;u<e.length;u++){for(var l=e[u],p=S(s,l.path,a),f=p.names,h=p.shouldDecodes;d<s.length;d++){var m=s[d]
4!==m.type&&(c=!1,r=r.put(47,!1,!1),i+="/",r=b[m.type](m,r),i+=T[m.type](m))}o[u]={handler:l.handler,names:f,shouldDecodes:h}}c&&(r=r.put(47,!1,!1),i+="/"),r.handlers=o,r.pattern=i+"$",r.types=a,"object"==typeof t&&null!==t&&t.as&&(n=t.as),n&&(this.names[n]={segments:s,handlers:o})},M.prototype.handlersFor=function(e){var t=this.names[e]
if(!t)throw new Error("There is no route named "+e)
for(var n=new Array(t.handlers.length),r=0;r<t.handlers.length;r++){var i=t.handlers[r]
n[r]=i}return n},M.prototype.hasRoute=function(e){return!!this.names[e]},M.prototype.generate=function(e,t){var n=this.names[e],r=""
if(!n)throw new Error("There is no route named "+e)
for(var i=n.segments,a=0;a<i.length;a++){var o=i[a]
4!==o.type&&(r+="/",r+=_[o.type](o,t))}return"/"!==r.charAt(0)&&(r="/"+r),t&&t.queryParams&&(r+=this.generateQueryString(t.queryParams)),r},M.prototype.generateQueryString=function(e){var t=[],n=Object.keys(e)
n.sort()
for(var r=0;r<n.length;r++){var i=n[r],a=e[i]
if(null!=a){var o=encodeURIComponent(i)
if(g(a))for(var s=0;s<a.length;s++){var c=i+"[]="+encodeURIComponent(a[s])
t.push(c)}else o+="="+encodeURIComponent(a),t.push(o)}}return 0===t.length?"":"?"+t.join("&")},M.prototype.parseQueryString=function(e){for(var t=e.split("&"),n={},r=0;r<t.length;r++){var i=t[r].split("="),a=w(i[0]),o=a.length,s=!1,c=void 0
1===i.length?c="true":(o>2&&"[]"===a.slice(o-2)&&(s=!0,n[a=a.slice(0,o-2)]||(n[a]=[])),c=i[1]?w(i[1]):""),s?n[a].push(c):n[a]=c}return n},M.prototype.recognize=function(e){var t,n=[this.rootState],r={},i=!1,a=e.indexOf("#");-1!==a&&(e=e.substr(0,a))
var o=e.indexOf("?")
if(-1!==o){var s=e.substr(o+1,e.length)
e=e.substr(0,o),r=this.parseQueryString(s)}"/"!==e.charAt(0)&&(e="/"+e)
var c=e
M.ENCODE_AND_DECODE_PATH_SEGMENTS?e=u(e):(e=decodeURI(e),c=decodeURI(c))
var d=e.length
d>1&&"/"===e.charAt(d-1)&&(e=e.substr(0,d-1),c=c.substr(0,c.length-1),i=!0)
for(var l=0;l<e.length&&(n=I(n,e.charCodeAt(l))).length;l++);for(var p=[],f=0;f<n.length;f++)n[f].handlers&&p.push(n[f])
n=function(e){return e.sort((function(e,t){var n=e.types||[0,0,0],r=n[0],i=n[1],a=n[2],o=t.types||[0,0,0],s=o[0],c=o[1],d=o[2]
if(a!==d)return a-d
if(a){if(r!==s)return s-r
if(i!==c)return c-i}return i!==c?i-c:r!==s?s-r:0}))}(p)
var h=p[0]
return h&&h.handlers&&(i&&h.pattern&&"(.+)$"===h.pattern.slice(-5)&&(c+="/"),t=function(e,t,n){var r=e.handlers,i=e.regex()
if(!i||!r)throw new Error("state not initialized")
var a=t.match(i),o=1,s=new R(n)
s.length=r.length
for(var c=0;c<r.length;c++){var d=r[c],u=d.names,l=d.shouldDecodes,p=E,f=!1
if(u!==x&&l!==x)for(var h=0;h<u.length;h++){f=!0
var m=u[h],g=a&&a[o++]
p===E&&(p={}),M.ENCODE_AND_DECODE_PATH_SEGMENTS&&l[h]?p[m]=g&&decodeURIComponent(g):p[m]=g}s[c]={handler:d.handler,params:p,isDynamic:f}}return s}(h,c,r)),t},M.VERSION="0.3.4",M.ENCODE_AND_DECODE_PATH_SEGMENTS=!0,M.Normalizer={normalizeSegment:p,normalizePath:u,encodePathSegment:h},M.prototype.map=function(e,t){var n=new o
e(s("",n,this.delegate)),d([],n,(function(e){t?t(this,e):this.add(e)}),this)}
const O=M
var N=function(e,t,n,r){this.type=e,this.bubbles=t,this.cancelable=n,this.target=r}
N.prototype={stopPropagation:function(){},preventDefault:function(){this.defaultPrevented=!0}}
var P={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choice",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"},U={"Accept-Charset":!0,"Accept-Encoding":!0,Connection:!0,"Content-Length":!0,Cookie:!0,Cookie2:!0,"Content-Transfer-Encoding":!0,Date:!0,Expect:!0,Host:!0,"Keep-Alive":!0,Referer:!0,TE:!0,Trailer:!0,"Transfer-Encoding":!0,Upgrade:!0,"User-Agent":!0,Via:!0}
function D(e,t){t.addEventListener(e,(function(n){var r=t["on"+e]
r&&"function"==typeof r&&r.call(n.target,n)}))}function L(){this._eventListeners={}
for(var e=["loadstart","progress","load","abort","loadend"],t=e.length-1;t>=0;t--)D(e[t],this)}function F(){L.call(this),this.readyState=F.UNSENT,this.requestHeaders={},this.requestBody=null,this.status=0,this.statusText="",this.upload=new L,this.onabort=null,this.onerror=null,this.onload=null,this.onloadend=null,this.onloadstart=null,this.onprogress=null,this.onreadystatechange=null,this.ontimeout=null}L.prototype={addEventListener:function(e,t){this._eventListeners[e]=this._eventListeners[e]||[],this._eventListeners[e].push(t)},removeEventListener:function(e,t){for(var n=this._eventListeners[e]||[],r=0,i=n.length;r<i;++r)if(n[r]==t)return n.splice(r,1)},dispatchEvent:function(e){for(var t=e.type,n=this._eventListeners[t]||[],r=0;r<n.length;r++)"function"==typeof n[r]?n[r].call(this,e):n[r].handleEvent(e)
return!!e.defaultPrevented},_progress:function(e,t,n){var r=new N("progress")
r.target=this,r.lengthComputable=e,r.loaded=t,r.total=n,this.dispatchEvent(r)}},F.prototype=new L,F.UNSENT=0,F.OPENED=1,F.HEADERS_RECEIVED=2,F.LOADING=3,F.DONE=4
var B={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4,async:!0,withCredentials:!1,open:function(e,t,n,r,i){this.method=e,this.url=t,this.async="boolean"!=typeof n||n,this.username=r,this.password=i,this.responseText=null,this.response=this.responseText,this.responseXML=null,this.responseURL=t,this.requestHeaders={},this.sendFlag=!1,this._readyStateChange(F.OPENED)},setRequestHeader:function(e,t){if(q(this),U[e]||/^(Sec-|Proxy-)/.test(e))throw new Error('Refused to set unsafe header "'+e+'"')
this.requestHeaders[e]?this.requestHeaders[e]+=","+t:this.requestHeaders[e]=t},send:function(e){if(q(this),!/^(get|head)$/i.test(this.method)){var t=!1
Object.keys(this.requestHeaders).forEach((function(e){"content-type"===e.toLowerCase()&&(t=!0)})),t||(e||"").toString().match("FormData")||(this.requestHeaders["Content-Type"]="text/plain;charset=UTF-8"),this.requestBody=e}this.errorFlag=!1,this.sendFlag=this.async,this._readyStateChange(F.OPENED),"function"==typeof this.onSend&&this.onSend(this),this.dispatchEvent(new N("loadstart",!1,!1,this))},abort:function(){this.aborted=!0,this.responseText=null,this.response=this.responseText,this.errorFlag=!0,this.requestHeaders={},this.dispatchEvent(new N("abort",!1,!1,this)),this.readyState>F.UNSENT&&this.sendFlag&&(this._readyStateChange(F.UNSENT),this.sendFlag=!1),"function"==typeof this.onerror&&this.onerror()},getResponseHeader:function(e){if(this.readyState<F.HEADERS_RECEIVED)return null
if(/^Set-Cookie2?$/i.test(e))return null
for(var t in e=e.toLowerCase(),this.responseHeaders)if(t.toLowerCase()==e)return this.responseHeaders[t]
return null},getAllResponseHeaders:function(){if(this.readyState<F.HEADERS_RECEIVED)return""
var e=""
for(var t in this.responseHeaders)this.responseHeaders.hasOwnProperty(t)&&!/^Set-Cookie2?$/i.test(t)&&(e+=t+": "+this.responseHeaders[t]+"\r\n")
return e},overrideMimeType:function(e){"string"==typeof e&&(this.forceMimeType=e.toLowerCase())},_readyStateChange:function(e){this.readyState=e,"function"==typeof this.onreadystatechange&&this.onreadystatechange(new N("readystatechange")),this.dispatchEvent(new N("readystatechange")),this.readyState==F.DONE&&this.dispatchEvent(new N("load",!1,!1,this)),this.readyState!=F.UNSENT&&this.readyState!=F.DONE||this.dispatchEvent(new N("loadend",!1,!1,this))},_setResponseHeaders:function(e){for(var t in this.responseHeaders={},e)e.hasOwnProperty(t)&&(this.responseHeaders[t]=e[t])
this.forceMimeType&&(this.responseHeaders["Content-Type"]=this.forceMimeType),this.async?this._readyStateChange(F.HEADERS_RECEIVED):this.readyState=F.HEADERS_RECEIVED},_setResponseBody:function(e){!function(e){if(e.readyState==F.DONE)throw new Error("Request done")}(this),function(e){if(e.async&&e.readyState!=F.HEADERS_RECEIVED)throw new Error("No headers received")}(this),function(e){if("string"!=typeof e){var t=new Error("Attempted to respond to fake XMLHttpRequest with "+e+", which is not a string.")
throw t.name="InvalidBodyException",t}}(e)
var t=this.chunkSize||10,n=0
this.responseText="",this.response=this.responseText
do{this.async&&this._readyStateChange(F.LOADING),this.responseText+=e.substring(n,n+t),this.response=this.responseText,n+=t}while(n<e.length)
var r,i,a=this.getResponseHeader("Content-Type")
if(this.responseText&&(!a||/(text\/xml)|(application\/xml)|(\+xml)/.test(a)))try{this.responseXML=(r=this.responseText,"undefined"!=typeof DOMParser?i=(new DOMParser).parseFromString(r,"text/xml"):((i=new ActiveXObject("Microsoft.XMLDOM")).async="false",i.loadXML(r)),i)}catch(e){}this.async?this._readyStateChange(F.DONE):this.readyState=F.DONE},respond:function(e,t,n){this._setResponseHeaders(t||{}),this.status="number"==typeof e?e:200,this.statusText=P[this.status],this._setResponseBody(n||"")}}
for(var j in B)F.prototype[j]=B[j]
function q(e){if(e.readyState!==F.OPENED)throw new Error("INVALID_STATE_ERR")
if(e.sendFlag)throw new Error("INVALID_STATE_ERR")}const V=F
var H="URLSearchParams"in self,G="Symbol"in self&&"iterator"in Symbol,K="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),W="FormData"in self,z="ArrayBuffer"in self
if(z)var $=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],X=ArrayBuffer.isView||function(e){return e&&$.indexOf(Object.prototype.toString.call(e))>-1}
function Q(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name")
return e.toLowerCase()}function Y(e){return"string"!=typeof e&&(e=String(e)),e}function J(e){var t={next:function(){var t=e.shift()
return{done:void 0===t,value:t}}}
return G&&(t[Symbol.iterator]=function(){return t}),t}function Z(e){this.map={},e instanceof Z?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function ee(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"))
e.bodyUsed=!0}function te(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function ne(e){var t=new FileReader,n=te(t)
return t.readAsArrayBuffer(e),n}function re(e){if(e.slice)return e.slice(0)
var t=new Uint8Array(e.byteLength)
return t.set(new Uint8Array(e)),t.buffer}function ie(){return this.bodyUsed=!1,this._initBody=function(e){var t
this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:K&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:W&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:H&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():z&&K&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=re(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):z&&(ArrayBuffer.prototype.isPrototypeOf(e)||X(e))?this._bodyArrayBuffer=re(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):H&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},K&&(this.blob=function(){var e=ee(this)
if(e)return e
if(this._bodyBlob)return Promise.resolve(this._bodyBlob)
if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]))
if(this._bodyFormData)throw new Error("could not read FormData body as blob")
return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?ee(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(ne)}),this.text=function(){var e,t,n,r=ee(this)
if(r)return r
if(this._bodyBlob)return e=this._bodyBlob,n=te(t=new FileReader),t.readAsText(e),n
if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r])
return n.join("")}(this._bodyArrayBuffer))
if(this._bodyFormData)throw new Error("could not read FormData body as text")
return Promise.resolve(this._bodyText)},W&&(this.formData=function(){return this.text().then(se)}),this.json=function(){return this.text().then(JSON.parse)},this}Z.prototype.append=function(e,t){e=Q(e),t=Y(t)
var n=this.map[e]
this.map[e]=n?n+", "+t:t},Z.prototype.delete=function(e){delete this.map[Q(e)]},Z.prototype.get=function(e){return e=Q(e),this.has(e)?this.map[e]:null},Z.prototype.has=function(e){return this.map.hasOwnProperty(Q(e))},Z.prototype.set=function(e,t){this.map[Q(e)]=Y(t)},Z.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},Z.prototype.keys=function(){var e=[]
return this.forEach((function(t,n){e.push(n)})),J(e)},Z.prototype.values=function(){var e=[]
return this.forEach((function(t){e.push(t)})),J(e)},Z.prototype.entries=function(){var e=[]
return this.forEach((function(t,n){e.push([n,t])})),J(e)},G&&(Z.prototype[Symbol.iterator]=Z.prototype.entries)
var ae=["DELETE","GET","HEAD","OPTIONS","POST","PUT"]
function oe(e,t){var n,r,i=(t=t||{}).body
if(e instanceof oe){if(e.bodyUsed)throw new TypeError("Already read")
this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Z(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e)
if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new Z(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),ae.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests")
this._initBody(i)}function se(e){var t=new FormData
return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ")
t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function ce(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new Z(t.headers),this.url=t.url||"",this._initBody(e)}oe.prototype.clone=function(){return new oe(this,{body:this._bodyInit})},ie.call(oe.prototype),ie.call(ce.prototype),ce.prototype.clone=function(){return new ce(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Z(this.headers),url:this.url})},ce.error=function(){var e=new ce(null,{status:0,statusText:""})
return e.type="error",e}
var de=[301,302,303,307,308]
ce.redirect=function(e,t){if(-1===de.indexOf(t))throw new RangeError("Invalid status code")
return new ce(null,{status:t,headers:{location:e}})}
var ue=self.DOMException
try{new ue}catch(e){(ue=function(e,t){this.message=e,this.name=t
var n=Error(e)
this.stack=n.stack}).prototype=Object.create(Error.prototype),ue.prototype.constructor=ue}function le(e,t){return new Promise((function(n,r){var i=new oe(e,t)
if(i.signal&&i.signal.aborted)return r(new ue("Aborted","AbortError"))
var a=new XMLHttpRequest
function o(){a.abort()}a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new Z,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim()
if(r){var i=n.join(":").trim()
t.append(r,i)}})),t)}
r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL")
var i="response"in a?a.response:a.responseText
n(new ce(i,r))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.onabort=function(){r(new ue("Aborted","AbortError"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&K&&(a.responseType="blob"),i.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),i.signal&&(i.signal.addEventListener("abort",o),a.onreadystatechange=function(){4===a.readyState&&i.signal.removeEventListener("abort",o)}),a.send(void 0===i._bodyInit?null:i._bodyInit)}))}le.polyfill=!0,self.fetch||(self.fetch=le,self.Headers=Z,self.Request=oe,self.Response=ce)
var pe=Object.freeze({__proto__:null,Headers:Z,Request:oe,Response:ce,get DOMException(){return ue},fetch:le}),fe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},he=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1
switch(t){case"http":case"ws":return 80!==e
case"https":case"wss":return 443!==e
case"ftp":return 21!==e
case"gopher":return 70!==e
case"file":return!1}return 0!==e},me=Object.prototype.hasOwnProperty
function ge(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}var ye={stringify:function(e,t){t=t||""
var n,r,i=[]
for(r in"string"!=typeof t&&(t="?"),e)if(me.call(e,r)){if((n=e[r])||null!=n&&!isNaN(n)||(n=""),r=encodeURIComponent(r),n=encodeURIComponent(n),null===r||null===n)continue
i.push(r+"="+n)}return i.length?t+i.join("&"):""},parse:function(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,r={};t=n.exec(e);){var i=ge(t[1]),a=ge(t[2])
null===i||null===a||i in r||(r[i]=a)}return r}},ve=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,be=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,Te=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+")
function _e(e){return(e||"").toString().replace(Te,"")}var Ee=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],xe={hash:1,query:1}
function Se(e){var t,n=("undefined"!=typeof window?window:void 0!==fe?fe:"undefined"!=typeof self?self:{}).location||{},r={},i=typeof(e=e||n)
if("blob:"===e.protocol)r=new Ae(unescape(e.pathname),{})
else if("string"===i)for(t in r=new Ae(e,{}),xe)delete r[t]
else if("object"===i){for(t in e)t in xe||(r[t]=e[t])
void 0===r.slashes&&(r.slashes=ve.test(e.href))}return r}function Ce(e){e=_e(e)
var t=be.exec(e)
return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function Ae(e,t,n){if(e=_e(e),!(this instanceof Ae))return new Ae(e,t,n)
var r,i,a,o,s,c,d=Ee.slice(),u=typeof t,l=this,p=0
for("object"!==u&&"string"!==u&&(n=t,t=null),n&&"function"!=typeof n&&(n=ye.parse),t=Se(t),r=!(i=Ce(e||"")).protocol&&!i.slashes,l.slashes=i.slashes||r&&t.slashes,l.protocol=i.protocol||t.protocol||"",e=i.rest,i.slashes||(d[3]=[/(.*)/,"pathname"]);p<d.length;p++)"function"!=typeof(o=d[p])?(a=o[0],c=o[1],a!=a?l[c]=e:"string"==typeof a?~(s=e.indexOf(a))&&("number"==typeof o[2]?(l[c]=e.slice(0,s),e=e.slice(s+o[2])):(l[c]=e.slice(s),e=e.slice(0,s))):(s=a.exec(e))&&(l[c]=s[1],e=e.slice(0,s.index)),l[c]=l[c]||r&&o[3]&&t[c]||"",o[4]&&(l[c]=l[c].toLowerCase())):e=o(e)
n&&(l.query=n(l.query)),r&&t.slashes&&"/"!==l.pathname.charAt(0)&&(""!==l.pathname||""!==t.pathname)&&(l.pathname=function(e,t){if(""===e)return t
for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],a=!1,o=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),o++):o&&(0===r&&(a=!0),n.splice(r,1),o--)
return a&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(l.pathname,t.pathname)),he(l.port,l.protocol)||(l.host=l.hostname,l.port=""),l.username=l.password="",l.auth&&(o=l.auth.split(":"),l.username=o[0]||"",l.password=o[1]||""),l.origin=l.protocol&&l.host&&"file:"!==l.protocol?l.protocol+"//"+l.host:"null",l.href=l.toString()}Ae.prototype={set:function(e,t,n){var r=this
switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||ye.parse)(t)),r[e]=t
break
case"port":r[e]=t,he(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="")
break
case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t
break
case"host":r[e]=t,/:\d+$/.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="")
break
case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n
break
case"pathname":case"hash":if(t){var i="pathname"===e?"/":"#"
r[e]=t.charAt(0)!==i?i+t:t}else r[e]=t
break
default:r[e]=t}for(var a=0;a<Ee.length;a++){var o=Ee[a]
o[4]&&(r[o[1]]=r[o[1]].toLowerCase())}return r.origin=r.protocol&&r.host&&"file:"!==r.protocol?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(e){e&&"function"==typeof e||(e=ye.stringify)
var t,n=this,r=n.protocol
r&&":"!==r.charAt(r.length-1)&&(r+=":")
var i=r+(n.slashes?"//":"")
return n.username&&(i+=n.username,n.password&&(i+=":"+n.password),i+="@"),i+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(i+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(i+=n.hash),i}},Ae.extractProtocol=Ce,Ae.location=Se,Ae.trimLeft=_e,Ae.qs=ye
var ke=Ae
function Ie(e){var t=new ke(e)
t.host||(t.href=t.href)
var n=t.pathname
"/"!==n.charAt(0)&&(n="/"+n)
var r=t.host
return"80"!==t.port&&"443"!==t.port||(r=t.hostname),{host:r,protocol:t.protocol,search:t.query,hash:t.hash,href:t.href,pathname:n,fullpath:n+(t.query||"")+(t.hash||"")}}var Re=function(){this.verbs={GET:new O,PUT:new O,POST:new O,DELETE:new O,PATCH:new O,HEAD:new O,OPTIONS:new O}},we=function(){function e(){this.registries={}}return e.prototype.forURL=function(e){var t=Ie(e).host,n=this.registries[t]
return void 0===n&&(n=this.registries[t]=new Re),n.verbs},e}()
function Me(e){function t(){V.call(this)}return t.prototype=Object.create(V.prototype),t.prototype.constructor=t,t.prototype.send=function(){if(this.sendArguments=arguments,!e.pretender.running)throw new Error("You shut down a Pretender instance while there was a pending request. That request just tried to complete. Check to see if you accidentally shut down a pretender earlier than you intended to")
V.prototype.send.apply(this,arguments),e.pretender.checkPassthrough(this)?this.passthrough():e.pretender.handleRequest(this)},t.prototype.passthrough=function(){if(!this.sendArguments)throw new Error("You attempted to passthrough a FakeRequest that was never sent. Call `.send()` on the original request first")
var t=function(e,t){var n,r=["error","timeout","abort","readystatechange"],i=[],a=["readyState","responseText","response","responseXML","responseURL","status","statusText"],o=e._passthroughRequest=new t
function s(e,t,n){e.dispatchEvent(n),e["on"+t]&&e["on"+t](n)}function c(t){o["on"+t]=function(n){!function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r]
i in t&&(n[i]=t[i])}}(a,o,e),s(e,t,n)}}function d(t){o.upload&&e.upload&&e.upload["on"+t]&&(o.upload["on"+t]=function(n){s(e.upload,t,n)})}o.open(e.method,e.url,e.async,e.username,e.password),"arraybuffer"===e.responseType&&(a=["readyState","response","status","statusText"],o.responseType=e.responseType),"onload"in o&&r.push("load"),e.async&&"arraybuffer"!==e.responseType&&(r.push("progress"),i.push("progress"))
for(n=0;n<r.length;n++)c(r[n])
for(n=0;n<i.length;n++)d(i[n])
for(var u in e.async&&(o.timeout=e.timeout,o.withCredentials=e.withCredentials),e.requestHeaders)o.setRequestHeader(u,e.requestHeaders[u])
return o}(this,e.pretender._nativeXMLHttpRequest)
return t.send.apply(t,this.sendArguments),t},t.prototype._passthroughCheck=function(e,t){return this._passthroughRequest?this._passthroughRequest[e].apply(this._passthroughRequest,t):V.prototype[e].apply(this,t)},t.prototype.abort=function(){return this._passthroughCheck("abort",arguments)},t.prototype.getResponseHeader=function(){return this._passthroughCheck("getResponseHeader",arguments)},t.prototype.getAllResponseHeaders=function(){return this._passthroughCheck("getAllResponseHeaders",arguments)},e.pretender._nativeXMLHttpRequest.prototype._passthroughCheck&&console.warn("You created a second Pretender instance while there was already one running. Running two Pretender servers at once will lead to unexpected results and will be removed entirely in a future major version.Please call .shutdown() on your instances when you no longer need them to respond."),t}function Oe(){this.hosts=new we
var e=arguments[arguments.length-1],t="object"==typeof e?e:null,n=t&&!1===t.trackRequests,r={push:function(){},length:0}
this.handlers=[],this.handledRequests=n?r:[],this.passthroughRequests=n?r:[],this.unhandledRequests=n?r:[],this.requestReferences=[],this.forcePassthrough=t&&!0===t.forcePassthrough,this.disableUnhandled=t&&!0===t.disableUnhandled,this._nativeXMLHttpRequest=self.XMLHttpRequest,this.running=!1
var i={pretender:this}
this.ctx=i,self.XMLHttpRequest=Me(i),this._fetchProps=pe?["fetch","Headers","Request","Response"]:[],this._fetchProps.forEach((function(e){this["_native"+e]=self[e],self[e]=pe[e]}),this),this.running=!0
for(var a=t?arguments.length-1:arguments.length,o=0;o<a;o++)this.map(arguments[o])}function Ne(e){return function(t,n,r){return this.register(e,t,n,r)}}function Pe(e,t,n){setTimeout((function(){if(!e.aborted&&!e.status){var r,i=(new Date).getTime()-t.getTime(),a=e.requestBody
r=a&&(a.byteLength||a.size||a.length)||0
var o=n<=0?0:i/n*r
e.upload._progress(!0,o,r),e._progress(!0,o,r),Pe(e,t,n)}}),50)}var Ue={}
Oe.prototype={get:Ne("GET"),post:Ne("POST"),put:Ne("PUT"),delete:Ne("DELETE"),patch:Ne("PATCH"),head:Ne("HEAD"),options:Ne("OPTIONS"),map:function(e){e.call(this)},register:function(e,t,n,r){if(!n)throw new Error("The function you tried passing to Pretender to handle "+e+" "+t+" is undefined or missing.")
return n.numberOfCalls=0,n.async=r,this.handlers.push(n),this.hosts.forURL(t)[e].add([{path:Ie(t).fullpath,handler:n}]),n},passthrough:Ue,checkPassthrough:function(e){var t=e.method.toUpperCase(),n=Ie(e.url).fullpath,r=this.hosts.forURL(e.url)[t].recognize(n),i=r&&r[0]
return!!(i&&i.handler===Ue||this.forcePassthrough)&&(this.passthroughRequests.push(e),this.passthroughRequest(t,n,e),!0)},handleRequest:function(e){var t=e.method.toUpperCase(),n=e.url,r=this._handlerFor(t,n,e)
if(r){r.handler.numberOfCalls++
var i=r.handler.async
this.handledRequests.push(e)
var a=this,o=function(r){if(o=r,"[object Array]"!==Object.prototype.toString.call(o))throw new Error("Nothing returned by handler for "+n+". Remember to `return [status, headers, body];` in your route handler.")
var o,s=r[0],c=a.prepareHeaders(r[1]),d=a.prepareBody(r[2],c)
a.handleResponse(e,i,(function(){e.respond(s,c,d),a.handledRequest(t,n,e)}))}
try{var s=r.handler(e)
s&&"function"==typeof s.then?s.then((function(e){o(e)})):o(s)}catch(r){this.erroredRequest(t,n,e,r),this.resolve(e)}}else this.disableUnhandled||(this.unhandledRequests.push(e),this.unhandledRequest(t,n,e))},handleResponse:function(e,t,n){var r="function"==typeof t?t():t
if(!1===(r="boolean"==typeof r||"number"==typeof r?r:0))n()
else{var i=this
i.requestReferences.push({request:e,callback:n}),!0!==r&&(Pe(e,new Date,r),setTimeout((function(){i.resolve(e)}),r))}},resolve:function(e){for(var t=0,n=this.requestReferences.length;t<n;t++){var r=this.requestReferences[t]
if(r.request===e){r.callback(),this.requestReferences.splice(t,1)
break}}},requiresManualResolution:function(e,t){var n=this._handlerFor(e.toUpperCase(),t,{})
if(!n)return!1
var r=n.handler.async
return"function"==typeof r?!0===r():!0===r},prepareBody:function(e){return e},prepareHeaders:function(e){return e},handledRequest:function(){},passthroughRequest:function(){},unhandledRequest:function(e,t){throw new Error("Pretender intercepted "+e+" "+t+" but no handler was defined for this type of request")},erroredRequest:function(e,t,n,r){throw r.message="Pretender intercepted "+e+" "+t+" but encountered an error: "+r.message,r},_handlerFor:function(e,t,n){var r=this.hosts.forURL(t)[e].recognize(Ie(t).fullpath),i=r?r[0]:null
return i&&(n.params=i.params,n.queryParams=r.queryParams),i},shutdown:function(){self.XMLHttpRequest=this._nativeXMLHttpRequest,this._fetchProps.forEach((function(e){self[e]=this["_native"+e]}),this),this.ctx.pretender=void 0,this.running=!1}},Oe.parseURL=Ie,Oe.Hosts=we,Oe.Registry=Re
const De=Oe},9516:(e,t,n)=>{"use strict"
n.r(t),n.d(t,{decode:()=>y,default:()=>_,encode:()=>v,toASCII:()=>T,toUnicode:()=>b,ucs2decode:()=>f,ucs2encode:()=>h})
const r=2147483647,i=36,a=/^xn--/,o=/[^\0-\x7E]/,s=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,u=String.fromCharCode
function l(e){throw new RangeError(c[e])}function p(e,t){const n=e.split("@")
let r=""
n.length>1&&(r=n[0]+"@",e=n[1])
const i=function(e,t){const n=[]
let r=e.length
for(;r--;)n[r]=t(e[r])
return n}((e=e.replace(s,".")).split("."),t).join(".")
return r+i}function f(e){const t=[]
let n=0
const r=e.length
for(;n<r;){const i=e.charCodeAt(n++)
if(i>=55296&&i<=56319&&n<r){const r=e.charCodeAt(n++)
56320==(64512&r)?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),n--)}else t.push(i)}return t}const h=e=>String.fromCodePoint(...e),m=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},g=function(e,t,n){let r=0
for(e=n?d(e/700):e>>1,e+=d(e/t);e>455;r+=i)e=d(e/35)
return d(r+36*e/(e+38))},y=function(e){const t=[],n=e.length
let a=0,o=128,s=72,c=e.lastIndexOf("-")
c<0&&(c=0)
for(let n=0;n<c;++n)e.charCodeAt(n)>=128&&l("not-basic"),t.push(e.charCodeAt(n))
for(let p=c>0?c+1:0;p<n;){let c=a
for(let t=1,o=i;;o+=i){p>=n&&l("invalid-input")
const c=(u=e.charCodeAt(p++))-48<10?u-22:u-65<26?u-65:u-97<26?u-97:i;(c>=i||c>d((r-a)/t))&&l("overflow"),a+=c*t
const f=o<=s?1:o>=s+26?26:o-s
if(c<f)break
const h=i-f
t>d(r/h)&&l("overflow"),t*=h}const f=t.length+1
s=g(a-c,f,0==c),d(a/f)>r-o&&l("overflow"),o+=d(a/f),a%=f,t.splice(a++,0,o)}var u
return String.fromCodePoint(...t)},v=function(e){const t=[]
let n=(e=f(e)).length,a=128,o=0,s=72
for(const n of e)n<128&&t.push(u(n))
let c=t.length,p=c
for(c&&t.push("-");p<n;){let n=r
for(const t of e)t>=a&&t<n&&(n=t)
const f=p+1
n-a>d((r-o)/f)&&l("overflow"),o+=(n-a)*f,a=n
for(const n of e)if(n<a&&++o>r&&l("overflow"),n==a){let e=o
for(let n=i;;n+=i){const r=n<=s?1:n>=s+26?26:n-s
if(e<r)break
const a=e-r,o=i-r
t.push(u(m(r+a%o,0))),e=d(a/o)}t.push(u(m(e,0))),s=g(o,f,p==c),o=0,++p}++o,++a}return t.join("")},b=function(e){return p(e,(function(e){return a.test(e)?y(e.slice(4).toLowerCase()):e}))},T=function(e){return p(e,(function(e){return o.test(e)?"xn--"+v(e):e}))},_={version:"2.1.0",ucs2:{decode:f,encode:h},decode:y,encode:v,toASCII:T,toUnicode:b}},2777:e=>{self,e.exports=(()=>{"use strict"
var e={170:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={hour:36e5,minute:6e4,second:1e3}},544:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0})
var r=n(916),i=n(234)
t.default={parse:r.default,serialize:i.default}},916:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseTimeStamp=void 0
var r=n(734),i=n(572),a=n(170),o=/\r?\n/,s=/\s$/,c=/^(\d{2}):(\d{2}):(\d{2}),(\d{3})$/
function d(e,t){if(!e)throw new i.default("Missing sequence number",t,r.default.PARSER_ERROR_MISSING_SEQUENCE_NUMBER)
var n=Number(e)
if(!Number.isInteger(n)||s.test(e))throw new i.default("Expected Integer for sequence number: ".concat(e),t,r.default.PARSER_ERROR_INVALID_SEQUENCE_NUMBER)
return n}function u(e,t){var n=c.exec(e)
if(!n)throw new i.default("Invalid time stamp: ".concat(e),t,r.default.PARSER_ERROR_INVALID_TIME_STAMP)
var o=n.slice(1).map(Number),s=o[0],d=o[1],u=o[2],l=o[3]
return s*a.default.hour+d*a.default.minute+u*a.default.second+l}function l(e,t){if(!e)throw new i.default("Missing time span",t,r.default.PARSER_ERROR_MISSING_TIME_SPAN)
var n=e.split(" --\x3e "),a=n[0],o=n[1]
if(!a||!o||s.test(e))throw new i.default("Invalid time span: ".concat(e),t,r.default.PARSER_ERROR_INVALID_TIME_SPAN)
return{start:u(a,t),end:u(o,t)}}t.parseTimeStamp=u,t.default=function(e){for(var t=e.trimEnd().split(o),n=[],a=0;a<t.length;a+=1){var s={chunkStart:a,timeSpan:a,text:a,chunkEnd:a},c=d(t[a],a)
a+=1,s.timeSpan=a
var u=l(t[a],a)
a+=1,s.text=a
for(var p=[];t[a]&&t[a].trim();)p.push(t[a]),a+=1
var f=p.join("\n")
if(!f)throw new i.default("Missing caption text",a,r.default.PARSER_ERROR_MISSING_TEXT)
s.chunkEnd=a-1,n.push({lineNumbers:s,sequenceNumber:c,time:u,text:f})}return n}},234:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])
return e},r.apply(this,arguments)}
Object.defineProperty(t,"__esModule",{value:!0})
var i=n(170),a="\n"
function o(e,t){var n=e,r=e/i.default.hour,a=(n%=i.default.hour)/i.default.minute,o=(n%=i.default.minute)/i.default.second
n%=i.default.second
var s=[2,2,2,3],c=[r,a,o,n].map((function(e,t){return"".concat(Math.floor(e)).padStart(s[t],"0")})),d=c[0],u=c[1],l=c[2],p=c[3]
return"".concat(d,":").concat(u,":").concat(l).concat(t).concat(p)}t.default=function(e,t){void 0===t&&(t="SRT")
var n={FILE_HEADER:"",MS_SEPERATOR:",",FORMAT_TEXT:function(e){return e},CHUNK_SEPARATOR:"".concat(a).concat(a)}
switch(t.toLowerCase()){case"webvtt":n=r(r({},n),{FILE_HEADER:"WEBVTT".concat(a).concat(a),MS_SEPERATOR:"."})
break
case"srt":break
default:throw new Error("Unrecognized format: ".concat(t))}return n.FILE_HEADER+e.map((function(e){return"".concat(e.sequenceNumber,"\n").concat((t=e.time,r=n.MS_SEPERATOR,"".concat(o(t.start,r)," --\x3e ").concat(o(t.end,r))),"\n").concat(n.FORMAT_TEXT(e.text))
var t,r})).join(n.CHUNK_SEPARATOR)}},734:(e,t)=>{var n
Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.PARSER_ERROR_MISSING_TEXT="parserErrorMissingText",e.PARSER_ERROR_MISSING_SEQUENCE_NUMBER="parserErrorMissingSequenceNumber",e.PARSER_ERROR_INVALID_SEQUENCE_NUMBER="parserErrorInvalidSequenceNumber",e.PARSER_ERROR_MISSING_TIME_SPAN="parserErrorMissingTimeSpan",e.PARSER_ERROR_INVALID_TIME_SPAN="parserErrorInvalidTimeSpan",e.PARSER_ERROR_INVALID_TIME_STAMP="parserErrorInvalidTimeStamp",e.VALIDATOR_ERROR_START_TIME="validatorErrorStartTime",e.VALIDATOR_ERROR_END_TIME="validatorErrorEndTime",e.VALIDATOR_ERROR_SEQUENCE_NUMBER_START="validatorErrorSequenceNumberStart",e.VALIDATOR_ERROR_SEQUENCE_NUMBER_INCREMENT="validatorErrorSequenceNumberIncrement"}(n||(n={})),t.default=n},572:function(e,t){var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null")
function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})
Object.defineProperty(t,"__esModule",{value:!0})
var i=function(e){function t(t,n,r){var i=e.call(this,t)||this
return i.lineNumber=n,i.errorCode=r,i.lineNumber=n+1,i.errorCode=r,i}return r(t,e),t}(Error)
t.default=i},969:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})
var n=function(){function e(e){this.parsedJSON=e,this.result=[],this.parsedJSON=e}return e.prototype.addToResult=function(e){this.result.push(e)},e}()
t.default=n},513:function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null")
function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})
Object.defineProperty(t,"__esModule",{value:!0})
var a=n(969),o=n(734),s=function(e){function t(t){var n=e.call(this,t)||this
return n.parsedJSON=t,n.validator="CaptionTimeSpanValidator",n}return i(t,e),t.prototype.validate=function(){var e=this
if(!this.parsedJSON.length)return this.result
var t=0
return this.parsedJSON.map((function(t){var n=t.time,r=n.start,i=n.end,a=t.lineNumbers
return r>=i&&e.addToResult({errorCode:o.default.VALIDATOR_ERROR_START_TIME,message:"start time should be less than end time",lineNumber:a.timeSpan+1,validator:e.validator}),{start:r,end:i,lineNumbers:a}})).forEach((function(n,r){var i=n.start,a=n.end,s=n.lineNumbers
0!==r?(t>i&&e.addToResult({errorCode:o.default.VALIDATOR_ERROR_END_TIME,message:"start time should be less than previous end time",lineNumber:s.timeSpan+1,validator:e.validator}),t=a):t=a})),this.result},t}(a.default)
t.default=s},531:function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null")
function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})
Object.defineProperty(t,"__esModule",{value:!0})
var a=n(969),o=n(734),s=function(e){function t(t){var n=e.call(this,t)||this
return n.parsedJSON=t,n.validator="LineNumberValidator",n}return i(t,e),t.prototype.validate=function(){if(!this.parsedJSON.length)return this.result
1!==this.parsedJSON[0].sequenceNumber&&this.addToResult({errorCode:o.default.VALIDATOR_ERROR_SEQUENCE_NUMBER_START,message:"number of sequence need to start with 1",lineNumber:this.parsedJSON[0].lineNumbers.chunkStart+1,validator:this.validator})
for(var e=1;e<this.parsedJSON.length;e+=1){var t=this.parsedJSON[e],n=t.sequenceNumber,r=t.lineNumbers
n!==e+1&&this.addToResult({errorCode:o.default.VALIDATOR_ERROR_SEQUENCE_NUMBER_INCREMENT,message:"number of sequence need to increment by 1",lineNumber:r.chunkStart+1,validator:this.validator})}return this.result},t}(a.default)
t.default=s}},t={}
function n(r){var i=t[r]
if(void 0!==i)return i.exports
var a=t[r]={exports:{}}
return e[r].call(a.exports,a,a.exports,n),a.exports}var r={}
return(()=>{var e=r
Object.defineProperty(e,"__esModule",{value:!0}),e.parser=e.validator=void 0
var t=n(544),i=n(513),a=n(531)
function o(e){var n,r,o,s=[]
try{n=t.default.parse(e)}catch(e){s.push(e)}return s.length?s:(s.push.apply(s,(r=[a.default,i.default],o=n,r.map((function(e){return new e(o).validate()})).reduce((function(e,t){return e.push.apply(e,t),e}),[]))),s.sort((function(e,t){return e.lineNumber-t.lineNumber})))}e.validator=o,e.parser=t.default,e.default=o})(),r})()},39705:e=>{function t(){}t.prototype={on:function(e,t,n){var r=this.e||(this.e={})
return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this
function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t)
return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[]
if(r&&t)for(var a=0,o=r.length;a<o;a++)r[a].fn!==t&&r[a].fn._!==t&&i.push(r[a])
return i.length?n[e]=i:delete n[e],this}},e.exports=t,e.exports.TinyEmitter=t},5365:(e,t,n)=>{"use strict"
n.r(t),n.d(t,{add:()=>l,getSize:()=>h,removeAll:()=>f,runAll:()=>p})
var r=n(38612),i=n.n(r)
const a={add:function(e){if("function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);else{if("function"!=typeof window.addEventListener)return
window.addEventListener("beforeunload",(function(){e()}),!0),window.addEventListener("unload",(function(){e()}),!0)}}}
var o=n(99707),s=n.n(o),c=i()?s():a,d=new Set,u=!1
function l(e){if(u||(u=!0,c.add(p)),"function"!=typeof e)throw new Error("Listener is no function")
return d.add(e),{remove:function(){return d.delete(e)},run:function(){return d.delete(e),e()}}}function p(){var e=[]
return d.forEach((function(t){e.push(t()),d.delete(t)})),Promise.all(e)}function f(){d.clear()}function h(){return d.size}},76196:e=>{"use strict"
function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function o(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t
if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")
return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return e}(e)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
if(null!=n){var r,i,a=[],o=!0,s=!1
try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return d(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}var u="aria-[a-z0-9_\\-]+|class|data-[a-z0-9_\\-]+|dir|id|role|tabindex",l="undefined"==typeof document||"textContent"in document.createElement("div")?"textContent":"innerText",p=["b","del","em","i","s","strong","sub","sup"],f=p.concat(["a","abbr","address","area","article","aside","audio","bdi","bdo","big","blockquote","br","button","center","cite","code","datalist","dd","details","dfn","div","dl","dt","fieldset","figcaption","figure","font","footer","h1","h2","h3","h4","h5","h6","header","hgroup","hr","img","ins","kbd","label","legend","li","map","mark","marquee","nav","nobr","ol","p","pre","q","rp","rt","ruby","samp","section","small","source","span","strike","table","tbody","td","tfoot","th","thead","time","tr","u","ul","var","video","wbr"]),h=[u,"alt|checked|selected|colgroup|cols|colspan|disabled|height|hidden|maxlength|method|multiple|name|placeholder|readonly|rel|required|rows|rowspan|spellcheck|target|title|width","border|caption|color|controls|coords|hreflang|label|lang|loop|marginheight|marginwidth|preload|reversed|type|usemap|clear|headers|ismap|start|datetime|accept|max|min|size|step|style|cellspacing|cellpadding|attributionsrc"].join("|"),m=r((function e(){t(this,e)}))
function g(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var y,v,b,T,_,E,x=(y=/[&<>"'\u0000\\=]/g,v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","\0":"�","\\":"&#92;","=":"&#61;"},function(e){return null==e?null:e.toString().replace(y,(function(e){return function(e){return e in v}(e)?v[e]:e}))}),S=(T="undefined"!=typeof document?document.createElement("div"):null,_=/&(?:([a-z0-9]+)|#x([\da-f]{1,6})|#(\d{1,8}));/gi,E={nbsp:" ",lt:"<",gt:">",amp:"&",quot:'"'},b="function"==typeof String.fromCodePoint?function(e){return String.fromCodePoint(e)}:function(e){return e<=65535?String.fromCharCode(e):"�"},function(e){return null==e?null:(e+"").replace(_,(function(e,t,n,r){return t?function(e){if(function(e){return g(E,e)}(e))return E[e]
if(!T)return e
T.innerHTML="&".concat(e,";")
var t=T[l]
return E[e]=t,t}(t):n||r?b(parseInt(n||r,n?16:10)||65533):"�"}))})
function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log",n="undefined"!=typeof window
if(n&&window&&window.jet&&"error"===t.toLowerCase())try{throw new Error(e)}catch(e){try{window.jet.error(e)}catch(e){}}"undefined"!=typeof console&&"function"==typeof console[t]&&console[t](e)}function A(e){return/[<&]/.test(e)}var k,I="[ \t\r\n]*"
function R(e){e=Array.isArray(e)?e:[e]
var t,n,r,i=0,a="<(?!/?"
return a+="(?:",e.forEach((function(e,o){t=e.tags||f,n=e.attrs||h,r=e.checkUrlAttrs||!1,0!==o&&(a+="|"),a+="(?:"+t.join("|")+")",a+="(?:",a+=I,a+="|[ \t\r\n]+",a+="(?:(?:",a+="(?:".concat(n,")(?:=([\"'])[^'\"<>]*\\").concat(++i,")?"),r&&(a+="|(?:".concat("href|src",")=([\"'])(?:(?:").concat("https?|ftp|mailto|invalid",")(?::|&#(?:58|x3a);)|(?:").concat("data:image/(?:gif|jpg|jpeg|png);base64,",")|[/.#?]|&#(?:35|4[67]|63|x(?:2[3ef]|3f));)[^'\"<>]*\\").concat(++i)),a+=")"+I+")+",a+=")"})),a+=")",a+="/?>)",new RegExp(a,"i")}function w(e){return R({tags:e=e||f,checkUrlAttrs:!0})}function M(e,t){var n=(t=t||{}).allowTags,r=!1!==t.hasCustomElementMarkup
return n&&n.length>0?!w(n).test(e):r?!M.R_UNSAFE_CUSTOM_ELEMENT.test(e):!M.R_UNSAFE_HTML.test(e)}function O(e){return e.replace(/<[^>]*>|[<>'"&\\]/g,"")}M.R_UNSAFE_HTML=w(),M.R_UNSAFE_CUSTOM_ELEMENT=R([{tags:f,checkUrlAttrs:!0},{tags:[(k={tag:"li-icon",attrs:"active|a11y-text|animate|color|size|type"}).tag],attrs:[u,k.attrs].join("|"),checkUrlAttrs:!1}])
var N={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]},P=/<([\w:]+)/
function U(e){return e in N}function D(e,t){var n,r,i,a,o,u,l=t.createDocumentFragment(),p=[]
for(i=0,o=e.length;i<o;i++)if(r=e[i])if("string"==typeof r){n=n||l.appendChild(t.createElement("div"))
var f=s(P.exec(r)||["",""],2)[1]
if(void 0!==f){var h=f.toLowerCase(),m=U(h)&&N[h]||N._default
for(j(n,m[1]+r+m[2]),a=m[0];a--;)n&&n.lastChild&&n.lastChild.nodeType===Node.ELEMENT_NODE&&(n=n.lastChild)
p.push.apply(p,function(e){if(Array.isArray(e))return d(e)}(u=Array.from(n.childNodes))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(u)||c(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),(n=l.firstChild)&&(n.textContent="")}}else r instanceof Node&&p.push(r)
for(l.textContent="",r=p[i=0];r;)l.appendChild(r),r=p[++i]
return l}function L(e,t,n){e=e.toString()
var r=t?function(e,t){var n={}
return e.replace(/\{([^}]+)\}/g,(function(e,r){if(g(n,r))return n[r]
if(g(t,r)){var i=t[r],a="string"==typeof i
if(!(a||i instanceof m||"number"==typeof i))throw new Error("Only strings, numbers, and jSecure types are allowed as placeholder replacements.")
return i?(i=a?"".concat(x(i)):i.toString(),n[r]=i,i):e}return e}))}(e,t):e,i=e
return A(r)&&!M(r,n)&&(r=O(r),C("Content contains tags or attributes that are not allowed:\nContent: "+i,"error")),r}var F=L,B=L
function j(e,t,n){var r=L(t,n)
return r&&A(r)?e.innerHTML=r:r&&(e[l]=r),r}var q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(d,e)
var n,s,c=(n=d,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
if(Reflect.construct.sham)return!1
if("function"==typeof Proxy)return!0
try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=i(n)
if(s){var r=i(this).constructor
e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments)
return o(this,e)})
function d(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
return t(this,d),(n=c.call(this)).options=r,n.tags=n.options.allowTags?n.options.allowTags.flat():[],n.str=e,n}return r(d,[{key:"toString",value:function(){var e=this.str,t=this.strValue,n=e
return void 0!==t?t:(M(e,{allowTags:this.tags,hasCustomElementMarkup:this.options.hasCustomElementMarkup})||(n=e,e=O(e),C("UnsafeString contains tags or attributes that are not allowed.\nString: "+n,"error")),this.strValue=e,e)}}]),d}(m),V=/ /g,H=/[\s\u0000<>"]|%00/,G=/\\/,K=/([.]|%2e){2}/i,W=new RegExp("^(?:HTTPS?|https?|ftp|mailto|tel|sms|blob|voyager|android-app|linkedin|chrome-extension|invalid|data:(?:(?:image/(?:gif|jpe?g|png|webp|bmp|tiff))|(?:application/x-font-woff)|(?:font/(?:opentype|ttf)))[;,]|[/.#?])")
function z(e){var t,n="invalid://"
if("string"!=typeof e)return C("jSecure Warning: url must be a string","error"),n
if((t=e.trim()).indexOf(" ")>-1&&(C("jSecure Warning: url should not contain spaces: "+e,"warn"),t=t.replace(V,"+")),!W.test(t))return C("jSecure Error: URL should be absolute with allowed schemas, relative, a hash fragment or query string. "+e,"error"),n
if(H.test(t))return C("jSecure Error: not valid url character found in url: "+e,"error"),n
var r,i=t.split("?")[0],a=!1
if(i){try{if(r=decodeURI(i),K.test(r))return C("jSecure Error: malicious data found in url path: "+i,"error"),n}catch(e){a=!0}if(a)return C("jSecure Error: malformed url path detected: "+i),n
if(G.test(i)||K.test(i))return C("jSecure Error: malicious data found in url path: "+i,"error"),n}return e}var $={redirect:function(e){window&&(window.location.href=e)}},X={ALLOWED_TAGS:f,FORMATTING_TAGS:p,htmlEncode:x,htmlUnencode:S,log:C,mk:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r]
var i,a="",o=n.length
return e&&e.forEach((function(e,t){a+=e,t<o&&(i=n[t],a+=i instanceof q?i:x(i))})),"".concat(B(a))},parseHTML:function(e,t){var n
if(t=t||document.implementation&&document.implementation.createHTMLDocument?document.implementation.createHTMLDocument(""):document,"string"==typeof e)n=D([e],t)
else{if(!Array.isArray(e))return e
n=D(e,t)}return Array.from(n.childNodes)},parseSelector:function(e){return"string"==typeof e&&/^(?:\s*(<[\w\W]+>)[^>]*)$/.test(e)?[]:e},processTemplate:F,reEncode:function(e){return x(S(e))},_redirector:$,redirect:function(e){var t=z(e)
t===e&&$.redirect(t)},sanitizeHTML:B,sanitizeUrl:z,setElementContent:j,unsafe:function(e){return e},UnsafeString:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
return this instanceof e||console.warn("Calling 'UnsafeString' without the 'new' keword is deprecated"),new q(t,n)}}
e.exports=X},61825:(e,t)=>{"use strict"
const n="List(",r="(",i="fields",a=/^(\/[^?]+)\??(.*)$/
function o(e=""){const t=a.exec(e)
if(t){const[,e="",n=""]=t
return{path:e,queryString:n}}return{path:"",queryString:""}}function s(e=""){let t=e.indexOf("//")
return t=t>0?t+2:t+1,t=e.indexOf("/",t),t<0&&(t=e.indexOf("?",t)),t=t<0?0:t,{origin:e.substring(0,t),rest:e.substring(t)}}const c=/(%2C|%28|%29|%27|%3A)/g,d=/(%2C|%28|%29|%27|%3A)/
function u(e,t,n=0){return e.indexOf(t,n)===n}function l(e,t){if(e[e.length-1]!==t)throw new Error(`Input has unbalanced prefix and suffix: ${e}`)}function p(e,t=0){let n=0,r=!1
for(;t<e.length;){const i=e[t]
if("("===i&&(n++,r=!0),")"===i&&n--,0===n&&r)break
t++}return t}function f(e,t){return t?d.test(e)&&(e=e.replace(c,unescape)):e=decodeURIComponent(e),void 0===e||"''"===e?"":e}function h(e){return m(e,!1)}function m(e,t){return void 0!==e&&"''"!==e||(e=""),u(e,n)?(l(e,")"),g(e.substring(5,e.length-1),t)):u(e,r)?(l(e,")"),y(e.substring(1,e.length-1),t)):f(e,t)}function g(e,t=!1){const i=[]
let a=0
for(;a<e.length;){if(u(e,n,a)||u(e,r,a)){const n=p(e,a)
i.push(m(e.substring(a,n+1),t)),a=n+2
continue}let o=e.indexOf(",",a)
o<0&&(o=e.length),i.push(f(e.substring(a,o),t)),a=o+1}return i}function y(e,t=!1){const i={}
let a=0
for(;a<e.length;){const o=e.indexOf(":",a),s=f(e.substring(a,o),t)
if(a=o+1,e.startsWith(n,a)||e.startsWith(r,a)){const n=p(e,a)
i[s]=m(e.substring(a,n+1),t),a=n+2
continue}let c=e.indexOf(",",a)
c<0&&(c=e.length)
const d=f(e.substring(a,c),t)
i[s]=d,a=c+1}return i}const v=/[,()':]/g,b=/[,()':]/
function T(e,t){if("object"!=typeof e)throw new Error(t)}function _(e){const t=JSON.parse(JSON.stringify(e))
return function(e,t){if(Array.isArray(e)||"object"!=typeof e||null===e)throw new Error("You must pass an object to the paramEncode function. Use arrayParamEncode.")}(t),Object.keys(t).map((e=>e===i?`${i}=${t[i]}`:`${S(e)}=${x(t[e],!1)}`)).join("&")}function E(e){if(e=JSON.parse(JSON.stringify(e)),!Array.isArray(e))throw new Error("You must pass an array to the arrayParamEncode function.")
return e.reduce((function(e,t){if(!t||!t.hasOwnProperty("name")||!t.hasOwnProperty("value"))throw new Error("Objects passed to the arrayParamEncode function must have name and value properties.")
if("object"==typeof t.value&&null!==t.value)throw new Error("Only primitives may be passed to arrayParamEncode as item values.")
const n=t.name,r=e.hasOwnProperty(n),i=e[n]
return r?Array.isArray(i)?i.push(t.value):e[n]=[i,t.value]:e[n]=t.value,e}),{})}function x(e,t){return Array.isArray(e)?function(e,t){const r=new Array(e.length)
for(let n=0;n<e.length;n++)r[n]=x(e[n],t)
return`${n}${r.join(",")})`}(e,t):function(e){return"object"==typeof e&&null!==e}(e)?function(e,t){const n=Object.keys(e).map((n=>`${S(n,t)}:${x(e[n],t)}`))
return`${r}${n.join(",")})`}(e,t):S(e,t)}function S(e,t=!1){return""===e?"''":t&&"string"==typeof e&&b.test(e)?e.replace(v,escape):t?e:encodeURIComponent(e).replace(v,escape)}var C=Object.freeze({S_100_CONTINUE:100,S_101_SWITCHING_PROTOCOLS:101,S_200_OK:200,S_201_CREATED:201,S_202_ACCEPTED:202,S_203_NON_AUTHORITATIVE_INFORMATION:203,S_204_NO_CONTENT:204,S_205_RESET_CONTENT:205,S_206_PARTIAL_CONTENT:206,S_207_MULTI_STATUS:207,S_300_MULTIPLE_CHOICES:300,S_301_MOVED_PERMANENTLY:301,S_302_FOUND:302,S_303_SEE_OTHER:303,S_304_NOT_MODIFIED:304,S_305_USE_PROXY:305,S_307_TEMPORARY_REDIRECT:307,S_400_BAD_REQUEST:400,S_401_UNAUTHORIZED:401,S_402_PAYMENT_REQUIRED:402,S_403_FORBIDDEN:403,S_404_NOT_FOUND:404,S_405_METHOD_NOT_ALLOWED:405,S_406_NOT_ACCEPTABLE:406,S_407_PROXY_AUTHENTICATION_REQUIRED:407,S_408_REQUEST_TIMEOUT:408,S_409_CONFLICT:409,S_410_GONE:410,S_411_LENGTH_REQUIRED:411,S_412_PRECONDITION_FAILED:412,S_413_REQUEST_ENTITY_TOO_LARGE:413,S_414_REQUEST_URI_TOO_LONG:414,S_415_UNSUPPORTED_MEDIA_TYPE:415,S_416_REQUESTED_RANGE_NOT_SATISFIABLE:416,S_417_EXPECTATION_FAILED:417,S_422_UNPROCESSABLE_ENTITY:422,S_423_LOCKED:423,S_424_FAILED_DEPENDENCY:424,S_428_PRECONDITION_REQUIRED:428,S_429_TOO_MANY_REQUESTS:429,S_500_INTERNAL_SERVER_ERROR:500,S_501_NOT_IMPLEMENTED:501,S_502_BAD_GATEWAY:502,S_503_SERVICE_UNAVAILABLE:503,S_504_GATEWAY_TIMEOUT:504,S_505_HTTP_VERSION_NOT_SUPPORTED:505})
const A="application/x-www-form-urlencoded"
function k(e){if(!0===e.forceQueryTunnel){const{path:t,queryString:n}=o(e.url||void 0)
if(n){const r={}
for(const t in e.headers)"CONTENT-TYPE"!==t.toUpperCase()&&(r[t]=e.headers[t]||"")
let i,a
if(r["X-HTTP-Method-Override"]=e.method||"GET",e.body){const t=`RESTLI_${Date.now()}`
a="multipart/mixed; boundary="+t,i=["--"+t,"Content-Type: "+A,"",n,"--"+t,"Content-Type: application/json","",e.body,"--"+t+"--"].join("\r\n")}else a=A,i=n
return r["Content-Type"]=a,{body:i,headers:r,method:"POST",url:t}}}const t={method:e.method,url:e.url}
return e.body&&(t.body=e.body),t}function I(e,t={}){return R(e)?w(e,t):{url:e,request:t}}function R(e){const{path:t,queryString:n}=o(e)
if(t.length>8e3)throw new Error(`Per AFD limitations, this request url ${e} will not work. Please contact ask_traffic@.`)
return e.length>8e3||n.length>4e3}function w(e,t={}){const n=Object.assign({},t)
n.url=e,n.forceQueryTunnel=!0
const r=k(n)
if(t.method=r.method,t.headers=r.headers,t.body=r.body,t.data=r.body,null==r.url)throw new Error("Invalid: URL to be encoded cannot be 'null' or 'undefined' when performing query tunneling")
return{url:r.url,request:t}}t.FIELDS_PARAM=i,t.LIST_PREFIX=n,t.LIST_SUFFIX=")",t.OBJ_PREFIX=r,t.OBJ_SUFFIX=")",t.arrayParamEncode=function(e){return _(E(e))},t.arrayParamToQueryStringObject=E,t.checkAndEncodeLongUrl=I,t.decode=h,t.decodeList=g,t.decodeObject=y,t.encode=function(e){const t=JSON.parse(JSON.stringify(e))
return T(t,"You must pass either an array or an object to the encode function."),x(t,!1)},t.encodeRequest=k,t.extractOriginAndRestFromUrl=s,t.extractPathAndQueryStringFromUrl=o,t.httpStatus=C,t.paramDecode=function(e){return e.split("&").reduce((function(e,t){if(!t.length)return e
if(0===t.indexOf("="))return e
let[n="",r]=t.split("=")
return"''"===n&&(n=""),void 0!==r&&""!==r||(r="''"),e[decodeURIComponent(n)]=h(r),e}),{})},t.paramEncode=_,t.queryTunnel=function(e){const{origin:t,rest:n}=s(e.url)
if(R(n)){const r=e.headers,i={}
r?.forEach(((e,t)=>i[t]=e))
let{method:a,body:o}=e
const{url:s,request:c}=w(n,{url:n,body:o,headers:i,method:a})
for(const e in r)r.delete(e)
for(const e in c.headers)r.set(e,c.headers[e]||"")
return({method:a="GET",body:o=""}=c),{url:t+s,method:a,body:o,headers:r}}return null},t.queryTunnelRequest=function(e,t={}){return function(){const e=document.querySelector('meta[name="isQueryTunnelRequestSupported"]')
return e&&"true"===e.getAttribute("content")||!1}()?I(e,t):{url:e,request:t}},t.reducedDecode=function(e){return m(e,!0)},t.reducedEncode=function(e){const t=JSON.parse(JSON.stringify(e))
return T(t,"You must pass either an array or an object to the reducedEncode function."),x(t,!0)},t.urlRequiresQueryTunneling=R},9154:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},61264:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},39068:(e,t,n)=>{"use strict"
n.r(t),n.d(t,{Leaf:()=>r,RadixTrie:()=>i,eventToHotkeyString:()=>o,install:()=>g,uninstall:()=>y})
class r{constructor(e){this.children=[],this.parent=e}delete(e){const t=this.children.indexOf(e)
return-1!==t&&(this.children=this.children.slice(0,t).concat(this.children.slice(t+1)),0===this.children.length&&this.parent.delete(this),!0)}add(e){return this.children.push(e),this}}class i{constructor(e){this.parent=null,this.children={},this.parent=e||null}get(e){return this.children[e]}insert(e){let t=this
for(let n=0;n<e.length;n+=1){const a=e[n]
let o=t.get(a)
if(n===e.length-1)return o instanceof i&&(t.delete(o),o=null),o||(o=new r(t),t.children[a]=o),o
o instanceof r&&(o=null),o||(o=new i(t),t.children[a]=o),t=o}return t}delete(e){for(const t in this.children)if(this.children[t]===e){const e=delete this.children[t]
return 0===Object.keys(this.children).length&&this.parent&&this.parent.delete(this),e}return!1}}function a(e){if(!(e instanceof HTMLElement))return!1
const t=e.nodeName.toLowerCase(),n=(e.getAttribute("type")||"").toLowerCase()
return"select"===t||"textarea"===t||"input"===t&&"submit"!==n&&"reset"!==n&&"checkbox"!==n&&"radio"!==n&&"file"!==n||e.isContentEditable}function o(e){const{ctrlKey:t,altKey:n,metaKey:r,key:i}=e,a=[],o=[t,n,r,c(e)]
for(const[e,t]of o.entries())t&&a.push(s[e])
return s.includes(i)||a.push(i),a.join("+")}const s=["Control","Alt","Meta","Shift"]
function c(e){const{shiftKey:t,code:n,key:r}=e
return t&&!(n.startsWith("Key")&&r.toUpperCase()===r)}const d=new i,u=new WeakMap
let l=d,p=null,f=[]
function h(){f=[],p=null,l=d}function m(e){if(e.defaultPrevented)return
if(!(e.target instanceof Node))return
if(a(e.target)){const t=e.target
if(!t.id)return
if(!t.ownerDocument.querySelector(`[data-hotkey-scope="${t.id}"]`))return}null!=p&&window.clearTimeout(p),p=window.setTimeout(h,1500)
const t=l.get(o(e))
if(t){if(f.push(o(e)),l=t,t instanceof r){const n=e.target
let r,i=!1
const o=a(n)
for(let e=t.children.length-1;e>=0;e-=1){r=t.children[e]
const a=r.getAttribute("data-hotkey-scope")
if(!o&&!a||o&&n.id===a){i=!0
break}}r&&i&&(function(e,t){const n=new CustomEvent("hotkey-fire",{cancelable:!0,detail:{path:t}})
!e.dispatchEvent(n)||(a(e)?e.focus():e.click())}(r,f),e.preventDefault()),h()}}else h()}function g(e,t){0===Object.keys(d.children).length&&document.addEventListener("keydown",m)
const n=function(e){const t=[]
let n=[""],r=!1
for(let i=0;i<e.length;i++)r&&","===e[i]?(t.push(n),n=[""],r=!1):" "!==e[i]?(r="+"!==e[i],n[n.length-1]+=e[i]):(n.push(""),r=!1)
return t.push(n),t.map((e=>e.filter((e=>""!==e)))).filter((e=>e.length>0))}(t||e.getAttribute("data-hotkey")||""),r=n.map((t=>d.insert(t).add(e)))
u.set(e,r)}function y(e){const t=u.get(e)
if(t&&t.length)for(const n of t)n&&n.delete(e)
0===Object.keys(d.children).length&&document.removeEventListener("keydown",m)}}}])

//# sourceMappingURL=chunk.320.2895b48e5de4d6420941.map