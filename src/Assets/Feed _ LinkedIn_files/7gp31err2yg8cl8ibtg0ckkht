define("email-confirmation/components/email-confirmation-modal",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/debug","@ember/service","@ember/object","@glimmer/tracking"],(function(e,n,i,t,o,a,l,r,m,d,s,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,f,p,_,g
const h=(0,l.createTemplateFactory)({id:"GsGfjC/t",block:'[[[1,"\\n"],[8,[39,0],[[4,[38,1],[[30,0,["onDidInsert"]],[30,1],[30,2,["widgetTrackingToken"]]],null],[4,[38,2],[[30,0,["onDidInsert"]],[30,1],[30,2,["widgetTrackingToken"]]],null]],[["@isOpen","@modalClasses","@size","@dismissModal"],[[30,1],"text-align-center","medium",[30,0,["dismiss"]]]],[["default"],[[[[1,"\\n  "],[8,[30,3,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n    "],[10,"h2"],[14,1,"email-confirmation-header"],[12],[1,"\\n"],[41,[30,2,["isBouncedEmail"]],[[[1,"        "],[1,[28,[35,4],["i18n_email_confirmation_modal_not_reachable_new","email-confirmation/components/email-confirmation-modal"],[["emailAddress"],[[30,2,["emailAddress"]]]]]],[1,"\\n"]],[]],[[[41,[28,[37,5],[[30,0,["_pillar"]],"FEED"],null],[[[1,"          "],[1,[28,[35,4],["i18n_email_confirmation_modal_feed_confirm_header","email-confirmation/components/email-confirmation-modal"],null]],[1,"\\n"]],[]],[[[41,[28,[37,5],[[30,0,["_pillar"]],"NETWORK"],null],[[[1,"          "],[1,[28,[35,4],["i18n_email_confirmation_modal_network_confirm_header","email-confirmation/components/email-confirmation-modal"],null]],[1,"\\n"]],[]],[[[41,[28,[37,5],[[30,0,["_pillar"]],"MESSAGING"],null],[[[1,"          "],[1,[28,[35,4],["i18n_email_confirmation_modal_messaging_confirm_header","email-confirmation/components/email-confirmation-modal"],null]],[1,"\\n"]],[]],[[[41,[28,[37,5],[[30,0,["_pillar"]],"SLIDESHARE_MIGRATE"],null],[[[1,"          "],[1,[28,[35,4],["i18n_email_confirmation_modal_slideshare_migration_confirm_header","email-confirmation/components/email-confirmation-modal"],null]],[1,"\\n        "]],[]],null]],[]]]],[]]]],[]]]],[]]],[1,"    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n\\n  "],[8,[30,3,["artdeco-modal-content"]],null,null,[["default"],[[[[1,"\\n    "],[10,2],[14,0,"t-14 t-black--light t-normal"],[12],[1,"\\n"],[41,[30,0,["errorEncountered"]],[[[1,"        "],[1,[28,[35,4],["i18n_email_confirmation_error","email-confirmation/components/email-confirmation-modal"],null]],[1,"\\n"]],[]],[[[1,"        "],[1,[52,[30,2,["isBouncedEmail"]],[28,[37,4],["i18n_email_confirmation_modal_update_your_email2","email-confirmation/components/email-confirmation-modal"],[["emailAddress"],[[30,2,["emailAddress"]]]]],[28,[37,4],["i18n_email_confirmation_modal_confirm_body_new","email-confirmation/components/email-confirmation-modal"],[["emailAddress"],[[30,2,["emailAddress"]]]]]]],[1,"\\n"]],[]]],[1,"    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n\\n  "],[8,[30,3,["artdeco-modal-footer"]],null,null,[["default"],[[[[1,"\\n    "],[10,"section"],[14,0,"t-14 t-black--light t-normal"],[12],[1,"\\n"],[41,[30,0,["emailSent"]],[[[1,"        "],[10,2],[14,0,"t-14 t-black--light t-normal relative"],[12],[1,"\\n          "],[10,1],[14,0,"email-confirmation-modal__success-icon"],[12],[1,"\\n            "],[1,[28,[35,6],null,[["type"],["signal-success"]]]],[1,"\\n          "],[13],[1,"\\n          "],[1,[28,[35,4],["i18n_email_confirmation_modal_email_sent","email-confirmation/components/email-confirmation-modal"],null]],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,2],[14,0,"t-14 t-black--light t-normal"],[12],[1,"\\n          "],[1,[28,[35,4],["i18n_email_confirmation_modal_check_inbox","email-confirmation/components/email-confirmation-modal"],null]],[1,"\\n        "],[13],[1,"\\n"]],[]],[[[41,[30,2,["isBouncedEmail"]],[[[41,[30,4],[[[1,"          "],[11,3],[16,6,[29,[[30,0,["emailSettingsLink"]]]]],[24,0,"mt2 link-without-visited-state"],[4,[38,7],["click",[30,0,["_updateEmailLink"]]],null],[4,[38,8],["update_email_button"],null],[12],[1,"\\n            "],[1,[28,[35,4],["i18n_email_confirmation_modal_update_email","email-confirmation/components/email-confirmation-modal"],null]],[1,"\\n          "],[13],[1,"\\n"]],[]],[[[1,"          "],[11,"button"],[24,0,"artdeco-button artdeco-button--primary mt2"],[24,4,"button"],[4,[38,7],["click",[30,5]],null],[4,[38,8],["update_email_button"],null],[12],[1,"\\n            "],[1,[28,[35,4],["i18n_email_confirmation_modal_update_email","email-confirmation/components/email-confirmation-modal"],null]],[1,"\\n          "],[13],[1,"\\n"]],[]]]],[]],[[[1,"        "],[1,[28,[35,4],["i18n_email_confirmation_modal_didnt_get_it","email-confirmation/components/email-confirmation-modal"],null]],[1,"\\n        "],[8,[39,9],[[4,[38,8],["resendEmailButton"],null]],[["@controlType","@size","@type","@click","@text"],["button",1,"tertiary",[30,0,["_resendConfirmationEmail"]],[28,[37,4],["i18n_email_confirmation_modal_resend_email","email-confirmation/components/email-confirmation-modal"],null]]],null],[1,"\\n      "]],[]]]],[]]],[1,"    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n"]],[3]]]]]],["@isOpen","@modalContext","modal","@linkToUpdateEmail","@updateEmail"],false,["artdeco-modal@artdeco-modal","did-insert","did-update","if","t","global-helpers@eq","artdeco-icons-web@li-icon","on","ember-cli-pemberly-tracking@track-interaction","artdeco-button@artdeco-button"]]',moduleName:"email-confirmation/components/email-confirmation-modal.hbs",isStrictMode:!1})
let b=(u=(0,d.inject)("lego@tracking"),f=class extends r.default{constructor(){super(...arguments);(0,n.default)(this,"legoTracking",p,this);(0,n.default)(this,"emailSent",_,this);(0,n.default)(this,"errorEncountered",g,this);(0,i.default)(this,"shouldFireLegoTracking",!0);(0,i.default)(this,"emailSettingsLink","/psettings/email")}get _pillar(){return this.args.pillar||""}onDidInsert(e,n){let[i,t]=n
if(i&&this.shouldFireLegoTracking){const{legoTracking:e}=this
e.sendLegoImpression(t,e.LEGO_IMPRESSION_VISIBILITY_SHOW)
this.shouldFireLegoTracking=!1}}_resendConfirmationEmail(){const e=this.args.resendConfirmationEmail()
this.errorEncountered=!1
e.then((()=>{this.isDestroying||(this.emailSent=!0)})).catch((()=>{this.isDestroying||(this.errorEncountered=!0)}))}dismiss(){var e
const{legoTracking:n}=this
n.sendLegoAction(null===(e=this.args.modalContext)||void 0===e?void 0:e.widgetTrackingToken,n.LEGO_ACTION_DISMISS,1)
this.args.onDismiss()}_updateEmailLink(){this.args.updateEmailLink&&this.args.updateEmailLink()}},p=(0,t.default)(f.prototype,"legoTracking",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,t.default)(f.prototype,"emailSent",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=(0,t.default)(f.prototype,"errorEncountered",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,t.default)(f.prototype,"onDidInsert",[s.action],Object.getOwnPropertyDescriptor(f.prototype,"onDidInsert"),f.prototype),(0,t.default)(f.prototype,"_resendConfirmationEmail",[s.action],Object.getOwnPropertyDescriptor(f.prototype,"_resendConfirmationEmail"),f.prototype),(0,t.default)(f.prototype,"dismiss",[s.action],Object.getOwnPropertyDescriptor(f.prototype,"dismiss"),f.prototype),(0,t.default)(f.prototype,"_updateEmailLink",[s.action],Object.getOwnPropertyDescriptor(f.prototype,"_updateEmailLink"),f.prototype),f)
e.default=b;(0,a.setComponentTemplate)(h,b)}))
define("email-confirmation/utils/email-confirmation-helpers",["exports","voyager-web/config/environment","global-utils/utils/is-browser","rsvp","global-utils/utils/url","graphql-queries/queries/job-posting-shared/page-content-by-page-key-and-slot-id-finder.graphql"],(function(e,n,i,t,o,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.MODAL_CONTEXT_PROP=void 0
e.ModalConfig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]
this[l]=n
this[r]=e}
e.getConfirmationModalData=function(e,n){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2]
if(!i.default)return(0,t.resolve)(null)
const a=m(e,n,o),l=s(e)
return(0,t.hash)({legoWidgetData:a,handleStatusData:l}).then((e=>{const n=e.legoWidgetData,i=e.handleStatusData
return n&&i?{confirmEmailModalWidgetData:n,isEmailConfirmed:i.confirmed,isBouncedEmail:i.bounced,emailAddress:i.emailAddress,widgetTrackingToken:n.trackingToken}:null}))}
e.getMemberHandlesRequest=d
e.resendHandleConfirmationRequest=function(e){return[(0,o.addQueryParam)(`/${n.default.namespace}/voyagerOnboardingDashHandleConfirmation`,"action","sendConfirmationMessageEmail"),"POST",{data:{emailAddress:e}}]}
const l="unconfirmedEmailModalIsOpen",r="unconfirmedEmailModalContext"
e.MODAL_CONTEXT_PROP=r
function m(e,i){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={slotId:"modal",pageKey:"voyager-email-confirmation"}
t||(o={...o,q:"pageKeyAndSlotId",recipe:"com.linkedin.voyager.dash.deco.segments.PageContent"})
const l=t?i.executeQuery(a.default,o).then((e=>e.data.legoDashPageContentsByPageKeyAndSlotId)):e.queryURL(`/${n.default.namespace}/voyagerLegoDashPageContents`,{params:o})
return l.then((e=>{var n,i
let o
if(t){var a,l
const{slots:n}=(null===(a=e.elements)||void 0===a?void 0:a[0])||{}
o=null==n||null===(l=n.find((e=>"modal"===e.key)))||void 0===l?void 0:l.value}else{var r,m
o=null===(r=((null===(m=e.elements)||void 0===m?void 0:m[0])||{}).slots)||void 0===r?void 0:r.modal}if(!o)return null
const d=null===(n=o.groups)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.widgets
return d?d.find((e=>"voyager_takeover_confirm_email"===e.widgetKey)):null}))}function d(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EMAIL"
const t={primary:e,type:i,q:"criteria"},o=`/${n.default.namespace}/voyagerOnboardingDashMemberHandles`
return[o,{params:t}]}function s(e){return e.queryURL(...d(!0,"EMAIL")).then((e=>{var n
return null===(n=e.elements)||void 0===n?void 0:n[0]})).then((e=>{var n,i
if(!e)return null
const{state:t}=e
return{bounced:"BOUNCED"===t,confirmed:"CONFIRMED"===t,emailAddress:null===(n=e.handleDetailUnion)||void 0===n||null===(i=n.emailAddress)||void 0===i?void 0:i.emailAddress}}))}}))

//# sourceMappingURL=engine-vendor.map